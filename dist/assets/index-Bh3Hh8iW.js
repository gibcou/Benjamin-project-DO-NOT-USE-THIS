(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function jS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wf={exports:{}},yl={},qf={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function VS(){if(y_)return Oe;y_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function N(U,Z,Ie){this.props=U,this.context=Z,this.refs=j,this.updater=Ie||D}N.prototype.isReactComponent={},N.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},N.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=N.prototype;function Y(U,Z,Ie){this.props=U,this.context=Z,this.refs=j,this.updater=Ie||D}var W=Y.prototype=new B;W.constructor=Y,O(W,N.prototype),W.isPureReactComponent=!0;var X=Array.isArray,q=Object.prototype.hasOwnProperty,se={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(U,Z,Ie){var Ee,Pe={},be=null,He=null;if(Z!=null)for(Ee in Z.ref!==void 0&&(He=Z.ref),Z.key!==void 0&&(be=""+Z.key),Z)q.call(Z,Ee)&&!A.hasOwnProperty(Ee)&&(Pe[Ee]=Z[Ee]);var Fe=arguments.length-2;if(Fe===1)Pe.children=Ie;else if(1<Fe){for(var Ye=Array(Fe),Qt=0;Qt<Fe;Qt++)Ye[Qt]=arguments[Qt+2];Pe.children=Ye}if(U&&U.defaultProps)for(Ee in Fe=U.defaultProps,Fe)Pe[Ee]===void 0&&(Pe[Ee]=Fe[Ee]);return{$$typeof:n,type:U,key:be,ref:He,props:Pe,_owner:se.current}}function C(U,Z){return{$$typeof:n,type:U.type,key:Z,ref:U.ref,props:U.props,_owner:U._owner}}function b(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function k(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ie){return Z[Ie]})}var L=/\/+/g;function x(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):Z.toString(36)}function _e(U,Z,Ie,Ee,Pe){var be=typeof U;(be==="undefined"||be==="boolean")&&(U=null);var He=!1;if(U===null)He=!0;else switch(be){case"string":case"number":He=!0;break;case"object":switch(U.$$typeof){case n:case e:He=!0}}if(He)return He=U,Pe=Pe(He),U=Ee===""?"."+x(He,0):Ee,X(Pe)?(Ie="",U!=null&&(Ie=U.replace(L,"$&/")+"/"),_e(Pe,Z,Ie,"",function(Qt){return Qt})):Pe!=null&&(b(Pe)&&(Pe=C(Pe,Ie+(!Pe.key||He&&He.key===Pe.key?"":(""+Pe.key).replace(L,"$&/")+"/")+U)),Z.push(Pe)),1;if(He=0,Ee=Ee===""?".":Ee+":",X(U))for(var Fe=0;Fe<U.length;Fe++){be=U[Fe];var Ye=Ee+x(be,Fe);He+=_e(be,Z,Ie,Ye,Pe)}else if(Ye=I(U),typeof Ye=="function")for(U=Ye.call(U),Fe=0;!(be=U.next()).done;)be=be.value,Ye=Ee+x(be,Fe++),He+=_e(be,Z,Ie,Ye,Pe);else if(be==="object")throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return He}function ze(U,Z,Ie){if(U==null)return U;var Ee=[],Pe=0;return _e(U,Ee,"","",function(be){return Z.call(Ie,be,Pe++)}),Ee}function qe(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(Ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ie)},function(Ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ie)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var $e={current:null},J={transition:null},ue={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:J,ReactCurrentOwner:se};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:ze,forEach:function(U,Z,Ie){ze(U,function(){Z.apply(this,arguments)},Ie)},count:function(U){var Z=0;return ze(U,function(){Z++}),Z},toArray:function(U){return ze(U,function(Z){return Z})||[]},only:function(U){if(!b(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Oe.Component=N,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=Y,Oe.StrictMode=r,Oe.Suspense=m,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Oe.act=oe,Oe.cloneElement=function(U,Z,Ie){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ee=O({},U.props),Pe=U.key,be=U.ref,He=U._owner;if(Z!=null){if(Z.ref!==void 0&&(be=Z.ref,He=se.current),Z.key!==void 0&&(Pe=""+Z.key),U.type&&U.type.defaultProps)var Fe=U.type.defaultProps;for(Ye in Z)q.call(Z,Ye)&&!A.hasOwnProperty(Ye)&&(Ee[Ye]=Z[Ye]===void 0&&Fe!==void 0?Fe[Ye]:Z[Ye])}var Ye=arguments.length-2;if(Ye===1)Ee.children=Ie;else if(1<Ye){Fe=Array(Ye);for(var Qt=0;Qt<Ye;Qt++)Fe[Qt]=arguments[Qt+2];Ee.children=Fe}return{$$typeof:n,type:U.type,key:Pe,ref:be,props:Ee,_owner:He}},Oe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Oe.createElement=S,Oe.createFactory=function(U){var Z=S.bind(null,U);return Z.type=U,Z},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:d,render:U}},Oe.isValidElement=b,Oe.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:qe}},Oe.memo=function(U,Z){return{$$typeof:g,type:U,compare:Z===void 0?null:Z}},Oe.startTransition=function(U){var Z=J.transition;J.transition={};try{U()}finally{J.transition=Z}},Oe.unstable_act=oe,Oe.useCallback=function(U,Z){return $e.current.useCallback(U,Z)},Oe.useContext=function(U){return $e.current.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U){return $e.current.useDeferredValue(U)},Oe.useEffect=function(U,Z){return $e.current.useEffect(U,Z)},Oe.useId=function(){return $e.current.useId()},Oe.useImperativeHandle=function(U,Z,Ie){return $e.current.useImperativeHandle(U,Z,Ie)},Oe.useInsertionEffect=function(U,Z){return $e.current.useInsertionEffect(U,Z)},Oe.useLayoutEffect=function(U,Z){return $e.current.useLayoutEffect(U,Z)},Oe.useMemo=function(U,Z){return $e.current.useMemo(U,Z)},Oe.useReducer=function(U,Z,Ie){return $e.current.useReducer(U,Z,Ie)},Oe.useRef=function(U){return $e.current.useRef(U)},Oe.useState=function(U){return $e.current.useState(U)},Oe.useSyncExternalStore=function(U,Z,Ie){return $e.current.useSyncExternalStore(U,Z,Ie)},Oe.useTransition=function(){return $e.current.useTransition()},Oe.version="18.3.1",Oe}var __;function Bh(){return __||(__=1,qf.exports=VS()),qf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function MS(){if(v_)return yl;v_=1;var n=Bh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,m,g){var v,E={},I=null,D=null;g!==void 0&&(I=""+g),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(D=m.ref);for(v in m)r.call(m,v)&&!a.hasOwnProperty(v)&&(E[v]=m[v]);if(d&&d.defaultProps)for(v in m=d.defaultProps,m)E[v]===void 0&&(E[v]=m[v]);return{$$typeof:e,type:d,key:I,ref:D,props:E,_owner:o.current}}return yl.Fragment=t,yl.jsx=u,yl.jsxs=u,yl}var w_;function FS(){return w_||(w_=1,Wf.exports=MS()),Wf.exports}var p=FS(),V=Bh();const ji=jS(V);var bc={},Kf={exports:{}},sn={},Gf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function US(){return E_||(E_=1,(function(n){function e(J,ue){var oe=J.length;J.push(ue);e:for(;0<oe;){var U=oe-1>>>1,Z=J[U];if(0<o(Z,ue))J[U]=ue,J[oe]=Z,oe=U;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ue=J[0],oe=J.pop();if(oe!==ue){J[0]=oe;e:for(var U=0,Z=J.length,Ie=Z>>>1;U<Ie;){var Ee=2*(U+1)-1,Pe=J[Ee],be=Ee+1,He=J[be];if(0>o(Pe,oe))be<Z&&0>o(He,Pe)?(J[U]=He,J[be]=oe,U=be):(J[U]=Pe,J[Ee]=oe,U=Ee);else if(be<Z&&0>o(He,oe))J[U]=He,J[be]=oe,U=be;else break e}}return ue}function o(J,ue){var oe=J.sortIndex-ue.sortIndex;return oe!==0?oe:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],g=[],v=1,E=null,I=3,D=!1,O=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(J){for(var ue=t(g);ue!==null;){if(ue.callback===null)r(g);else if(ue.startTime<=J)r(g),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=t(g)}}function X(J){if(j=!1,W(J),!O)if(t(m)!==null)O=!0,qe(q);else{var ue=t(g);ue!==null&&$e(X,ue.startTime-J)}}function q(J,ue){O=!1,j&&(j=!1,B(S),S=-1),D=!0;var oe=I;try{for(W(ue),E=t(m);E!==null&&(!(E.expirationTime>ue)||J&&!k());){var U=E.callback;if(typeof U=="function"){E.callback=null,I=E.priorityLevel;var Z=U(E.expirationTime<=ue);ue=n.unstable_now(),typeof Z=="function"?E.callback=Z:E===t(m)&&r(m),W(ue)}else r(m);E=t(m)}if(E!==null)var Ie=!0;else{var Ee=t(g);Ee!==null&&$e(X,Ee.startTime-ue),Ie=!1}return Ie}finally{E=null,I=oe,D=!1}}var se=!1,A=null,S=-1,C=5,b=-1;function k(){return!(n.unstable_now()-b<C)}function L(){if(A!==null){var J=n.unstable_now();b=J;var ue=!0;try{ue=A(!0,J)}finally{ue?x():(se=!1,A=null)}}else se=!1}var x;if(typeof Y=="function")x=function(){Y(L)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ze=_e.port2;_e.port1.onmessage=L,x=function(){ze.postMessage(null)}}else x=function(){N(L,0)};function qe(J){A=J,se||(se=!0,x())}function $e(J,ue){S=N(function(){J(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){O||D||(O=!0,qe(q))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(J){switch(I){case 1:case 2:case 3:var ue=3;break;default:ue=I}var oe=I;I=ue;try{return J()}finally{I=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var oe=I;I=J;try{return ue()}finally{I=oe}},n.unstable_scheduleCallback=function(J,ue,oe){var U=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?U+oe:U):oe=U,J){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=oe+Z,J={id:v++,callback:ue,priorityLevel:J,startTime:oe,expirationTime:Z,sortIndex:-1},oe>U?(J.sortIndex=oe,e(g,J),t(m)===null&&J===t(g)&&(j?(B(S),S=-1):j=!0,$e(X,oe-U))):(J.sortIndex=Z,e(m,J),O||D||(O=!0,qe(q))),J},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(J){var ue=I;return function(){var oe=I;I=ue;try{return J.apply(this,arguments)}finally{I=oe}}}})(Qf)),Qf}var T_;function BS(){return T_||(T_=1,Gf.exports=US()),Gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function zS(){if(S_)return sn;S_=1;var n=Bh(),e=BS();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function I(s){return m.call(E,s)?!0:m.call(v,s)?!1:g.test(s)?E[s]=!0:(v[s]=!0,!1)}function D(s,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,i,l,h){if(i===null||typeof i>"u"||D(s,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(s,i,l,h,f,y,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];N[i]=new j(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function Y(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(B,Y);N[i]=new j(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(B,Y);N[i]=new j(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(B,Y);N[i]=new j(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function W(s,i,l,h){var f=N.hasOwnProperty(i)?N[i]:null;(f!==null?f.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(O(i,l,f,h)&&(l=null),h||f===null?I(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):f.mustUseProperty?s[f.propertyName]=l===null?f.type===3?!1:"":l:(i=f.attributeName,h=f.attributeNamespace,l===null?s.removeAttribute(i):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?s.setAttributeNS(h,i,l):s.setAttribute(i,l))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),se=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),J=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,U;function Z(s){if(U===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+s}var Ie=!1;function Ee(s,i){if(!s||Ie)return"";Ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(K){var h=K}Reflect.construct(s,[],i)}else{try{i.call()}catch(K){h=K}s.call(i.prototype)}else{try{throw Error()}catch(K){h=K}s()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var f=K.stack.split(`
`),y=h.stack.split(`
`),T=f.length-1,P=y.length-1;1<=T&&0<=P&&f[T]!==y[P];)P--;for(;1<=T&&0<=P;T--,P--)if(f[T]!==y[P]){if(T!==1||P!==1)do if(T--,P--,0>P||f[T]!==y[P]){var M=`
`+f[T].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=T&&0<=P);break}}}finally{Ie=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Z(s):""}function Pe(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case se:return"Portal";case C:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case _e:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case k:return(s.displayName||"Context")+".Consumer";case b:return(s._context.displayName||"Context")+".Provider";case L:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ze:return i=s.displayName||null,i!==null?i:be(s.type)||"Memo";case qe:i=s._payload,s=s._init;try{return be(s(i))}catch{}}return null}function He(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ye(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qt(s){var i=Ye(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Zi(s){s._valueTracker||(s._valueTracker=Qt(s))}function Sa(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=Ye(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function os(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function eo(s,i){var l=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function yu(s,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=Fe(i.value!=null?i.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function to(s,i){i=i.checked,i!=null&&W(s,"checked",i,!1)}function oi(s,i){to(s,i);var l=Fe(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?gt(s,i.type,l):i.hasOwnProperty("defaultValue")&&gt(s,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Ia(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function gt(s,i,l){(i!=="number"||os(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var dt=Array.isArray;function On(s,i,l,h){if(s=s.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<s.length;l++)f=i.hasOwnProperty("$"+s[l].value),s[l].selected!==f&&(s[l].selected=f),f&&h&&(s[l].defaultSelected=!0)}else{for(l=""+Fe(l),i=null,f=0;f<s.length;f++){if(s[f].value===l){s[f].selected=!0,h&&(s[f].defaultSelected=!0);return}i!==null||s[f].disabled||(i=s[f])}i!==null&&(i.selected=!0)}}function Ra(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ca(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(dt(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Fe(l)}}function _u(s,i){var l=Fe(i.value),h=Fe(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function as(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function ka(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function no(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?ka(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ls,vu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,f){MSApp.execUnsafeLocalFunction(function(){return s(i,l,h,f)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ls.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ai(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wu=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(s){wu.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),us[i]=us[s]})});function cs(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||us.hasOwnProperty(s)&&us[s]?(""+i).trim():i+"px"}function ro(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=cs(l,i[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,f):s[l]=f}}var xa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dn(s,i){if(i){if(xa[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function so(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hs=null;function io(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Cr=null,kr=null,ct=null;function Aa(s){if(s=nl(s)){if(typeof Cr!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Ku(i),Cr(s.stateNode,s.type,i))}}function ds(s){kr?ct?ct.push(s):ct=[s]:kr=s}function fs(){if(kr){var s=kr,i=ct;if(ct=kr=null,Aa(s),i)for(s=0;s<i.length;s++)Aa(i[s])}}function Eu(s,i){return s(i)}function Tu(){}var Yn=!1;function Su(s,i,l){if(Yn)return s(i,l);Yn=!0;try{return Eu(s,i,l)}finally{Yn=!1,(kr!==null||ct!==null)&&(Tu(),fs())}}function li(s,i){var l=s.stateNode;if(l===null)return null;var h=Ku(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var ps=!1;if(d)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){ps=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{ps=!1}function Iu(s,i,l,h,f,y,T,P,M){var K=Array.prototype.slice.call(arguments,3);try{i.apply(l,K)}catch(re){this.onError(re)}}var xr=!1,Jn=null,oo=!1,En=null,Ru={onError:function(s){xr=!0,Jn=s}};function Cu(s,i,l,h,f,y,T,P,M){xr=!1,Jn=null,Iu.apply(Ru,arguments)}function Na(s,i,l,h,f,y,T,P,M){if(Cu.apply(this,arguments),xr){if(xr){var K=Jn;xr=!1,Jn=null}else throw Error(t(198));oo||(oo=!0,En=K)}}function Ln(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Pa(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function ku(s){if(Ln(s)!==s)throw Error(t(188))}function xu(s){var i=s.alternate;if(!i){if(i=Ln(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,h=i;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return ku(f),s;if(y===h)return ku(f),i;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=y;else{for(var T=!1,P=f.child;P;){if(P===l){T=!0,l=f,h=y;break}if(P===h){T=!0,h=f,l=y;break}P=P.sibling}if(!T){for(P=y.child;P;){if(P===l){T=!0,l=y,h=f;break}if(P===h){T=!0,h=y,l=f;break}P=P.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function Au(s){return s=xu(s),s!==null?ui(s):null}function ui(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=ui(s);if(i!==null)return i;s=s.sibling}return null}var ba=e.unstable_scheduleCallback,ao=e.unstable_cancelCallback,ci=e.unstable_shouldYield,Ar=e.unstable_requestPaint,Ze=e.unstable_now,Ed=e.unstable_getCurrentPriorityLevel,lo=e.unstable_ImmediatePriority,Oa=e.unstable_UserBlockingPriority,hi=e.unstable_NormalPriority,Da=e.unstable_LowPriority,uo=e.unstable_IdlePriority,di=null,hn=null;function Nu(s){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(di,s,void 0,(s.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:fi,Xn=Math.log,Tn=Math.LN2;function fi(s){return s>>>=0,s===0?32:31-(Xn(s)/Tn|0)|0}var Zn=64,gs=4194304;function Ke(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Nr(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,f=s.suspendedLanes,y=s.pingedLanes,T=l&268435455;if(T!==0){var P=T&~f;P!==0?h=Ke(P):(y&=T,y!==0&&(h=Ke(y)))}else T=l&~f,T!==0?h=Ke(T):y!==0&&(h=Ke(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&f)===0&&(f=h&-h,y=i&-i,f>=y||f===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)l=31-dn(i),f=1<<l,h|=s[l],i&=~f;return h}function pi(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,f=s.expirationTimes,y=s.pendingLanes;0<y;){var T=31-dn(y),P=1<<T,M=f[T];M===-1?((P&l)===0||(P&h)!==0)&&(f[T]=pi(P,i)):M<=i&&(s.expiredLanes|=P),y&=~P}}function La(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ja(){var s=Zn;return Zn<<=1,(Zn&4194240)===0&&(Zn=64),s}function Va(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function gi(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-dn(i),s[i]=l}function Td(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var f=31-dn(l),y=1<<f;i[f]=0,h[f]=-1,s[f]=-1,l&=~y}}function Ma(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-dn(l),f=1<<h;f&i|s[h]&i&&(s[h]|=i),l&=~f}}var Ve=0;function er(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Fa,co,Ua,Ba,za,tr=!1,ho=[],nr=null,rr=null,Nt=null,yi=new Map,Pr=new Map,fn=[],Pu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ys(s,i){switch(s){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":yi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(i.pointerId)}}function jn(s,i,l,h,f,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[f]},i!==null&&(i=nl(i),i!==null&&co(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),s)}function bu(s,i,l,h,f){switch(i){case"focusin":return nr=jn(nr,s,i,l,h,f),!0;case"dragenter":return rr=jn(rr,s,i,l,h,f),!0;case"mouseover":return Nt=jn(Nt,s,i,l,h,f),!0;case"pointerover":var y=f.pointerId;return yi.set(y,jn(yi.get(y)||null,s,i,l,h,f)),!0;case"gotpointercapture":return y=f.pointerId,Pr.set(y,jn(Pr.get(y)||null,s,i,l,h,f)),!0}return!1}function fo(s){var i=Ei(s.target);if(i!==null){var l=Ln(i);if(l!==null){if(i=l.tag,i===13){if(i=Pa(l),i!==null){s.blockedOn=i,za(s.priority,function(){Ua(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Je(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=po(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);hs=h,l.target.dispatchEvent(h),hs=null}else return i=nl(l),i!==null&&co(i),s.blockedOn=l,!1;i.shift()}return!0}function Ou(s,i,l){Je(s)&&l.delete(i)}function Sd(){tr=!1,nr!==null&&Je(nr)&&(nr=null),rr!==null&&Je(rr)&&(rr=null),Nt!==null&&Je(Nt)&&(Nt=null),yi.forEach(Ou),Pr.forEach(Ou)}function _s(s,i){s.blockedOn===i&&(s.blockedOn=null,tr||(tr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sd)))}function vs(s){function i(f){return _s(f,s)}if(0<ho.length){_s(ho[0],s);for(var l=1;l<ho.length;l++){var h=ho[l];h.blockedOn===s&&(h.blockedOn=null)}}for(nr!==null&&_s(nr,s),rr!==null&&_s(rr,s),Nt!==null&&_s(Nt,s),yi.forEach(i),Pr.forEach(i),l=0;l<fn.length;l++)h=fn[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<fn.length&&(l=fn[0],l.blockedOn===null);)fo(l),l.blockedOn===null&&fn.shift()}var br=X.ReactCurrentBatchConfig,Or=!0;function sr(s,i,l,h){var f=Ve,y=br.transition;br.transition=null;try{Ve=1,$a(s,i,l,h)}finally{Ve=f,br.transition=y}}function Du(s,i,l,h){var f=Ve,y=br.transition;br.transition=null;try{Ve=4,$a(s,i,l,h)}finally{Ve=f,br.transition=y}}function $a(s,i,l,h){if(Or){var f=po(s,i,l,h);if(f===null)Dd(s,i,h,ir,l),ys(s,h);else if(bu(f,s,i,l,h))h.stopPropagation();else if(ys(s,h),i&4&&-1<Pu.indexOf(s)){for(;f!==null;){var y=nl(f);if(y!==null&&Fa(y),y=po(s,i,l,h),y===null&&Dd(s,i,h,ir,l),y===f)break;f=y}f!==null&&h.stopPropagation()}else Dd(s,i,h,null,l)}}var ir=null;function po(s,i,l,h){if(ir=null,s=io(h),s=Ei(s),s!==null)if(i=Ln(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Pa(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return ir=s,null}function mo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ed()){case lo:return 1;case Oa:return 4;case hi:case Da:return 16;case uo:return 536870912;default:return 16}default:return 16}}var pn=null,go=null,Dr=null;function Lu(){if(Dr)return Dr;var s,i=go,l=i.length,h,f="value"in pn?pn.value:pn.textContent,y=f.length;for(s=0;s<l&&i[s]===f[s];s++);var T=l-s;for(h=1;h<=T&&i[l-h]===f[y-h];h++);return Dr=f.slice(s,1<h?1-h:void 0)}function _i(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function or(){return!0}function Ha(){return!1}function Ft(s){function i(l,h,f,y,T){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(l=s[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?or:Ha,this.isPropagationStopped=Ha,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Ft(ar),ws=oe({},ar,{view:0,detail:0}),yo=Ft(ws),_o,vo,mn,wi=oe({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ke,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==mn&&(mn&&s.type==="mousemove"?(_o=s.screenX-mn.screenX,vo=s.screenY-mn.screenY):vo=_o=0,mn=s),_o)},movementY:function(s){return"movementY"in s?s.movementY:vo}}),Wa=Ft(wi),ju=oe({},wi,{dataTransfer:0}),Vu=Ft(ju),wo=oe({},ws,{relatedTarget:0}),Pt=Ft(wo),Mu=oe({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=Ft(Mu),Es=oe({},ar,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Ft(Es),_=oe({},ar,{data:0}),w=Ft(_),R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function le(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=G[s])?!!i[s]:!1}function ke(){return le}var ft=oe({},ws,{key:function(s){if(s.key){var i=R[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=_i(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ke,charCode:function(s){return s.type==="keypress"?_i(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_i(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qe=Ft(ft),yt=oe({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gn=Ft(yt),Lr=oe({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ke}),lr=Ft(Lr),ur=oe({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eo=Ft(ur),qa=oe({},wi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),NT=Ft(qa),PT=[9,13,27,32],Id=d&&"CompositionEvent"in window,Ka=null;d&&"documentMode"in document&&(Ka=document.documentMode);var bT=d&&"TextEvent"in window&&!Ka,ug=d&&(!Id||Ka&&8<Ka&&11>=Ka),cg=" ",hg=!1;function dg(s,i){switch(s){case"keyup":return PT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var To=!1;function OT(s,i){switch(s){case"compositionend":return fg(i);case"keypress":return i.which!==32?null:(hg=!0,cg);case"textInput":return s=i.data,s===cg&&hg?null:s;default:return null}}function DT(s,i){if(To)return s==="compositionend"||!Id&&dg(s,i)?(s=Lu(),Dr=go=pn=null,To=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ug&&i.locale!=="ko"?null:i.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!LT[s.type]:i==="textarea"}function mg(s,i,l,h){ds(h),i=Hu(i,"onChange"),0<i.length&&(l=new vi("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var Ga=null,Qa=null;function jT(s){Og(s,0)}function Uu(s){var i=ko(s);if(Sa(i))return s}function VT(s,i){if(s==="change")return i}var gg=!1;if(d){var Rd;if(d){var Cd="oninput"in document;if(!Cd){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Cd=typeof yg.oninput=="function"}Rd=Cd}else Rd=!1;gg=Rd&&(!document.documentMode||9<document.documentMode)}function _g(){Ga&&(Ga.detachEvent("onpropertychange",vg),Qa=Ga=null)}function vg(s){if(s.propertyName==="value"&&Uu(Qa)){var i=[];mg(i,Qa,s,io(s)),Su(jT,i)}}function MT(s,i,l){s==="focusin"?(_g(),Ga=i,Qa=l,Ga.attachEvent("onpropertychange",vg)):s==="focusout"&&_g()}function FT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Uu(Qa)}function UT(s,i){if(s==="click")return Uu(i)}function BT(s,i){if(s==="input"||s==="change")return Uu(i)}function zT(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Vn=typeof Object.is=="function"?Object.is:zT;function Ya(s,i){if(Vn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!m.call(i,f)||!Vn(s[f],i[f]))return!1}return!0}function wg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Eg(s,i){var l=wg(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wg(l)}}function Tg(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Tg(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Sg(){for(var s=window,i=os();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=os(s.document)}return i}function kd(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function $T(s){var i=Sg(),l=s.focusedElem,h=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Tg(l.ownerDocument.documentElement,l)){if(h!==null&&kd(l)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var f=l.textContent.length,y=Math.min(h.start,f);h=h.end===void 0?y:Math.min(h.end,f),!s.extend&&y>h&&(f=h,h=y,y=f),f=Eg(l,y);var T=Eg(l,h);f&&T&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),s.removeAllRanges(),y>h?(s.addRange(i),s.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var HT=d&&"documentMode"in document&&11>=document.documentMode,So=null,xd=null,Ja=null,Ad=!1;function Ig(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ad||So==null||So!==os(h)||(h=So,"selectionStart"in h&&kd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ja&&Ya(Ja,h)||(Ja=h,h=Hu(xd,"onSelect"),0<h.length&&(i=new vi("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=So)))}function Bu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Io={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},Nd={},Rg={};d&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function zu(s){if(Nd[s])return Nd[s];if(!Io[s])return s;var i=Io[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Rg)return Nd[s]=i[l];return s}var Cg=zu("animationend"),kg=zu("animationiteration"),xg=zu("animationstart"),Ag=zu("transitionend"),Ng=new Map,Pg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(s,i){Ng.set(s,i),a(i,[s])}for(var Pd=0;Pd<Pg.length;Pd++){var bd=Pg[Pd],WT=bd.toLowerCase(),qT=bd[0].toUpperCase()+bd.slice(1);Ts(WT,"on"+qT)}Ts(Cg,"onAnimationEnd"),Ts(kg,"onAnimationIteration"),Ts(xg,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(Ag,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function bg(s,i,l){var h=s.type||"unknown-event";s.currentTarget=l,Na(h,i,void 0,s),s.currentTarget=null}function Og(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],f=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var T=h.length-1;0<=T;T--){var P=h[T],M=P.instance,K=P.currentTarget;if(P=P.listener,M!==y&&f.isPropagationStopped())break e;bg(f,P,K),y=M}else for(T=0;T<h.length;T++){if(P=h[T],M=P.instance,K=P.currentTarget,P=P.listener,M!==y&&f.isPropagationStopped())break e;bg(f,P,K),y=M}}}if(oo)throw s=En,oo=!1,En=null,s}function et(s,i){var l=i[Ud];l===void 0&&(l=i[Ud]=new Set);var h=s+"__bubble";l.has(h)||(Dg(i,s,2,!1),l.add(h))}function Od(s,i,l){var h=0;i&&(h|=4),Dg(l,s,h,i)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Za(s){if(!s[$u]){s[$u]=!0,r.forEach(function(l){l!=="selectionchange"&&(KT.has(l)||Od(l,!1,s),Od(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[$u]||(i[$u]=!0,Od("selectionchange",!1,i))}}function Dg(s,i,l,h){switch(mo(i)){case 1:var f=sr;break;case 4:f=Du;break;default:f=$a}l=f.bind(null,i,l,s),f=void 0,!ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),h?f!==void 0?s.addEventListener(i,l,{capture:!0,passive:f}):s.addEventListener(i,l,!0):f!==void 0?s.addEventListener(i,l,{passive:f}):s.addEventListener(i,l,!1)}function Dd(s,i,l,h,f){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var P=h.stateNode.containerInfo;if(P===f||P.nodeType===8&&P.parentNode===f)break;if(T===4)for(T=h.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===f||M.nodeType===8&&M.parentNode===f))return;T=T.return}for(;P!==null;){if(T=Ei(P),T===null)return;if(M=T.tag,M===5||M===6){h=y=T;continue e}P=P.parentNode}}h=h.return}Su(function(){var K=y,re=io(l),ie=[];e:{var ne=Ng.get(s);if(ne!==void 0){var ce=vi,fe=s;switch(s){case"keypress":if(_i(l)===0)break e;case"keydown":case"keyup":ce=Qe;break;case"focusin":fe="focus",ce=Pt;break;case"focusout":fe="blur",ce=Pt;break;case"beforeblur":case"afterblur":ce=Pt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=lr;break;case Cg:case kg:case xg:ce=Fu;break;case Ag:ce=Eo;break;case"scroll":ce=yo;break;case"wheel":ce=NT;break;case"copy":case"cut":case"paste":ce=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=gn}var pe=(i&4)!==0,pt=!pe&&s==="scroll",z=pe?ne!==null?ne+"Capture":null:ne;pe=[];for(var F=K,H;F!==null;){H=F;var ae=H.stateNode;if(H.tag===5&&ae!==null&&(H=ae,z!==null&&(ae=li(F,z),ae!=null&&pe.push(el(F,ae,H)))),pt)break;F=F.return}0<pe.length&&(ne=new ce(ne,fe,null,l,re),ie.push({event:ne,listeners:pe}))}}if((i&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",ne&&l!==hs&&(fe=l.relatedTarget||l.fromElement)&&(Ei(fe)||fe[jr]))break e;if((ce||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ce?(fe=l.relatedTarget||l.toElement,ce=K,fe=fe?Ei(fe):null,fe!==null&&(pt=Ln(fe),fe!==pt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=K),ce!==fe)){if(pe=Wa,ae="onMouseLeave",z="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(pe=gn,ae="onPointerLeave",z="onPointerEnter",F="pointer"),pt=ce==null?ne:ko(ce),H=fe==null?ne:ko(fe),ne=new pe(ae,F+"leave",ce,l,re),ne.target=pt,ne.relatedTarget=H,ae=null,Ei(re)===K&&(pe=new pe(z,F+"enter",fe,l,re),pe.target=H,pe.relatedTarget=pt,ae=pe),pt=ae,ce&&fe)t:{for(pe=ce,z=fe,F=0,H=pe;H;H=Ro(H))F++;for(H=0,ae=z;ae;ae=Ro(ae))H++;for(;0<F-H;)pe=Ro(pe),F--;for(;0<H-F;)z=Ro(z),H--;for(;F--;){if(pe===z||z!==null&&pe===z.alternate)break t;pe=Ro(pe),z=Ro(z)}pe=null}else pe=null;ce!==null&&Lg(ie,ne,ce,pe,!1),fe!==null&&pt!==null&&Lg(ie,pt,fe,pe,!0)}}e:{if(ne=K?ko(K):window,ce=ne.nodeName&&ne.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ne.type==="file")var ge=VT;else if(pg(ne))if(gg)ge=BT;else{ge=FT;var ve=MT}else(ce=ne.nodeName)&&ce.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ge=UT);if(ge&&(ge=ge(s,K))){mg(ie,ge,l,re);break e}ve&&ve(s,ne,K),s==="focusout"&&(ve=ne._wrapperState)&&ve.controlled&&ne.type==="number"&&gt(ne,"number",ne.value)}switch(ve=K?ko(K):window,s){case"focusin":(pg(ve)||ve.contentEditable==="true")&&(So=ve,xd=K,Ja=null);break;case"focusout":Ja=xd=So=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,Ig(ie,l,re);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":Ig(ie,l,re)}var we;if(Id)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else To?dg(s,l)&&(Re="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(ug&&l.locale!=="ko"&&(To||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&To&&(we=Lu()):(pn=re,go="value"in pn?pn.value:pn.textContent,To=!0)),ve=Hu(K,Re),0<ve.length&&(Re=new w(Re,s,null,l,re),ie.push({event:Re,listeners:ve}),we?Re.data=we:(we=fg(l),we!==null&&(Re.data=we)))),(we=bT?OT(s,l):DT(s,l))&&(K=Hu(K,"onBeforeInput"),0<K.length&&(re=new w("onBeforeInput","beforeinput",null,l,re),ie.push({event:re,listeners:K}),re.data=we))}Og(ie,i)})}function el(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Hu(s,i){for(var l=i+"Capture",h=[];s!==null;){var f=s,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=li(s,l),y!=null&&h.unshift(el(s,y,f)),y=li(s,i),y!=null&&h.push(el(s,y,f))),s=s.return}return h}function Ro(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Lg(s,i,l,h,f){for(var y=i._reactName,T=[];l!==null&&l!==h;){var P=l,M=P.alternate,K=P.stateNode;if(M!==null&&M===h)break;P.tag===5&&K!==null&&(P=K,f?(M=li(l,y),M!=null&&T.unshift(el(l,M,P))):f||(M=li(l,y),M!=null&&T.push(el(l,M,P)))),l=l.return}T.length!==0&&s.push({event:i,listeners:T})}var GT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function jg(s){return(typeof s=="string"?s:""+s).replace(GT,`
`).replace(QT,"")}function Wu(s,i,l){if(i=jg(i),jg(s)!==i&&l)throw Error(t(425))}function qu(){}var Ld=null,jd=null;function Vd(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,Vg=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof Vg<"u"?function(s){return Vg.resolve(null).then(s).catch(XT)}:Md;function XT(s){setTimeout(function(){throw s})}function Fd(s,i){var l=i,h=0;do{var f=l.nextSibling;if(s.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){s.removeChild(f),vs(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);vs(i)}function Ss(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Mg(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Co=Math.random().toString(36).slice(2),cr="__reactFiber$"+Co,tl="__reactProps$"+Co,jr="__reactContainer$"+Co,Ud="__reactEvents$"+Co,ZT="__reactListeners$"+Co,eS="__reactHandles$"+Co;function Ei(s){var i=s[cr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[jr]||l[cr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=Mg(s);s!==null;){if(l=s[cr])return l;s=Mg(s)}return i}s=l,l=s.parentNode}return null}function nl(s){return s=s[cr]||s[jr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ko(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Ku(s){return s[tl]||null}var Bd=[],xo=-1;function Is(s){return{current:s}}function tt(s){0>xo||(s.current=Bd[xo],Bd[xo]=null,xo--)}function Xe(s,i){xo++,Bd[xo]=s.current,s.current=i}var Rs={},Ut=Is(Rs),Zt=Is(!1),Ti=Rs;function Ao(s,i){var l=s.type.contextTypes;if(!l)return Rs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in l)f[y]=i[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=f),f}function en(s){return s=s.childContextTypes,s!=null}function Gu(){tt(Zt),tt(Ut)}function Fg(s,i,l){if(Ut.current!==Rs)throw Error(t(168));Xe(Ut,i),Xe(Zt,l)}function Ug(s,i,l){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in i))throw Error(t(108,He(s)||"Unknown",f));return oe({},l,h)}function Qu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Rs,Ti=Ut.current,Xe(Ut,s),Xe(Zt,Zt.current),!0}function Bg(s,i,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=Ug(s,i,Ti),h.__reactInternalMemoizedMergedChildContext=s,tt(Zt),tt(Ut),Xe(Ut,s)):tt(Zt),Xe(Zt,l)}var Vr=null,Yu=!1,zd=!1;function zg(s){Vr===null?Vr=[s]:Vr.push(s)}function tS(s){Yu=!0,zg(s)}function Cs(){if(!zd&&Vr!==null){zd=!0;var s=0,i=Ve;try{var l=Vr;for(Ve=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Vr=null,Yu=!1}catch(f){throw Vr!==null&&(Vr=Vr.slice(s+1)),ba(lo,Cs),f}finally{Ve=i,zd=!1}}return null}var No=[],Po=0,Ju=null,Xu=0,Sn=[],In=0,Si=null,Mr=1,Fr="";function Ii(s,i){No[Po++]=Xu,No[Po++]=Ju,Ju=s,Xu=i}function $g(s,i,l){Sn[In++]=Mr,Sn[In++]=Fr,Sn[In++]=Si,Si=s;var h=Mr;s=Fr;var f=32-dn(h)-1;h&=~(1<<f),l+=1;var y=32-dn(i)+f;if(30<y){var T=f-f%5;y=(h&(1<<T)-1).toString(32),h>>=T,f-=T,Mr=1<<32-dn(i)+f|l<<f|h,Fr=y+s}else Mr=1<<y|l<<f|h,Fr=s}function $d(s){s.return!==null&&(Ii(s,1),$g(s,1,0))}function Hd(s){for(;s===Ju;)Ju=No[--Po],No[Po]=null,Xu=No[--Po],No[Po]=null;for(;s===Si;)Si=Sn[--In],Sn[In]=null,Fr=Sn[--In],Sn[In]=null,Mr=Sn[--In],Sn[In]=null}var yn=null,_n=null,st=!1,Mn=null;function Hg(s,i){var l=xn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Wg(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,yn=s,_n=Ss(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,yn=s,_n=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Si!==null?{id:Mr,overflow:Fr}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=xn(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,yn=s,_n=null,!0):!1;default:return!1}}function Wd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function qd(s){if(st){var i=_n;if(i){var l=i;if(!Wg(s,i)){if(Wd(s))throw Error(t(418));i=Ss(l.nextSibling);var h=yn;i&&Wg(s,i)?Hg(h,l):(s.flags=s.flags&-4097|2,st=!1,yn=s)}}else{if(Wd(s))throw Error(t(418));s.flags=s.flags&-4097|2,st=!1,yn=s}}}function qg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;yn=s}function Zu(s){if(s!==yn)return!1;if(!st)return qg(s),st=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Vd(s.type,s.memoizedProps)),i&&(i=_n)){if(Wd(s))throw Kg(),Error(t(418));for(;i;)Hg(s,i),i=Ss(i.nextSibling)}if(qg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){_n=Ss(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}_n=null}}else _n=yn?Ss(s.stateNode.nextSibling):null;return!0}function Kg(){for(var s=_n;s;)s=Ss(s.nextSibling)}function bo(){_n=yn=null,st=!1}function Kd(s){Mn===null?Mn=[s]:Mn.push(s)}var nS=X.ReactCurrentBatchConfig;function rl(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var f=h,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(T){var P=f.refs;T===null?delete P[y]:P[y]=T},i._stringRef=y,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function ec(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Gg(s){var i=s._init;return i(s._payload)}function Qg(s){function i(z,F){if(s){var H=z.deletions;H===null?(z.deletions=[F],z.flags|=16):H.push(F)}}function l(z,F){if(!s)return null;for(;F!==null;)i(z,F),F=F.sibling;return null}function h(z,F){for(z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function f(z,F){return z=Ds(z,F),z.index=0,z.sibling=null,z}function y(z,F,H){return z.index=H,s?(H=z.alternate,H!==null?(H=H.index,H<F?(z.flags|=2,F):H):(z.flags|=2,F)):(z.flags|=1048576,F)}function T(z){return s&&z.alternate===null&&(z.flags|=2),z}function P(z,F,H,ae){return F===null||F.tag!==6?(F=Ff(H,z.mode,ae),F.return=z,F):(F=f(F,H),F.return=z,F)}function M(z,F,H,ae){var ge=H.type;return ge===A?re(z,F,H.props.children,ae,H.key):F!==null&&(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===qe&&Gg(ge)===F.type)?(ae=f(F,H.props),ae.ref=rl(z,F,H),ae.return=z,ae):(ae=Ic(H.type,H.key,H.props,null,z.mode,ae),ae.ref=rl(z,F,H),ae.return=z,ae)}function K(z,F,H,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=Uf(H,z.mode,ae),F.return=z,F):(F=f(F,H.children||[]),F.return=z,F)}function re(z,F,H,ae,ge){return F===null||F.tag!==7?(F=bi(H,z.mode,ae,ge),F.return=z,F):(F=f(F,H),F.return=z,F)}function ie(z,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Ff(""+F,z.mode,H),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case q:return H=Ic(F.type,F.key,F.props,null,z.mode,H),H.ref=rl(z,null,F),H.return=z,H;case se:return F=Uf(F,z.mode,H),F.return=z,F;case qe:var ae=F._init;return ie(z,ae(F._payload),H)}if(dt(F)||ue(F))return F=bi(F,z.mode,H,null),F.return=z,F;ec(z,F)}return null}function ne(z,F,H,ae){var ge=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ge!==null?null:P(z,F,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case q:return H.key===ge?M(z,F,H,ae):null;case se:return H.key===ge?K(z,F,H,ae):null;case qe:return ge=H._init,ne(z,F,ge(H._payload),ae)}if(dt(H)||ue(H))return ge!==null?null:re(z,F,H,ae,null);ec(z,H)}return null}function ce(z,F,H,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return z=z.get(H)||null,P(F,z,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case q:return z=z.get(ae.key===null?H:ae.key)||null,M(F,z,ae,ge);case se:return z=z.get(ae.key===null?H:ae.key)||null,K(F,z,ae,ge);case qe:var ve=ae._init;return ce(z,F,H,ve(ae._payload),ge)}if(dt(ae)||ue(ae))return z=z.get(H)||null,re(F,z,ae,ge,null);ec(F,ae)}return null}function fe(z,F,H,ae){for(var ge=null,ve=null,we=F,Re=F=0,xt=null;we!==null&&Re<H.length;Re++){we.index>Re?(xt=we,we=null):xt=we.sibling;var We=ne(z,we,H[Re],ae);if(We===null){we===null&&(we=xt);break}s&&we&&We.alternate===null&&i(z,we),F=y(We,F,Re),ve===null?ge=We:ve.sibling=We,ve=We,we=xt}if(Re===H.length)return l(z,we),st&&Ii(z,Re),ge;if(we===null){for(;Re<H.length;Re++)we=ie(z,H[Re],ae),we!==null&&(F=y(we,F,Re),ve===null?ge=we:ve.sibling=we,ve=we);return st&&Ii(z,Re),ge}for(we=h(z,we);Re<H.length;Re++)xt=ce(we,z,Re,H[Re],ae),xt!==null&&(s&&xt.alternate!==null&&we.delete(xt.key===null?Re:xt.key),F=y(xt,F,Re),ve===null?ge=xt:ve.sibling=xt,ve=xt);return s&&we.forEach(function(Ls){return i(z,Ls)}),st&&Ii(z,Re),ge}function pe(z,F,H,ae){var ge=ue(H);if(typeof ge!="function")throw Error(t(150));if(H=ge.call(H),H==null)throw Error(t(151));for(var ve=ge=null,we=F,Re=F=0,xt=null,We=H.next();we!==null&&!We.done;Re++,We=H.next()){we.index>Re?(xt=we,we=null):xt=we.sibling;var Ls=ne(z,we,We.value,ae);if(Ls===null){we===null&&(we=xt);break}s&&we&&Ls.alternate===null&&i(z,we),F=y(Ls,F,Re),ve===null?ge=Ls:ve.sibling=Ls,ve=Ls,we=xt}if(We.done)return l(z,we),st&&Ii(z,Re),ge;if(we===null){for(;!We.done;Re++,We=H.next())We=ie(z,We.value,ae),We!==null&&(F=y(We,F,Re),ve===null?ge=We:ve.sibling=We,ve=We);return st&&Ii(z,Re),ge}for(we=h(z,we);!We.done;Re++,We=H.next())We=ce(we,z,Re,We.value,ae),We!==null&&(s&&We.alternate!==null&&we.delete(We.key===null?Re:We.key),F=y(We,F,Re),ve===null?ge=We:ve.sibling=We,ve=We);return s&&we.forEach(function(LS){return i(z,LS)}),st&&Ii(z,Re),ge}function pt(z,F,H,ae){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case q:e:{for(var ge=H.key,ve=F;ve!==null;){if(ve.key===ge){if(ge=H.type,ge===A){if(ve.tag===7){l(z,ve.sibling),F=f(ve,H.props.children),F.return=z,z=F;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===qe&&Gg(ge)===ve.type){l(z,ve.sibling),F=f(ve,H.props),F.ref=rl(z,ve,H),F.return=z,z=F;break e}l(z,ve);break}else i(z,ve);ve=ve.sibling}H.type===A?(F=bi(H.props.children,z.mode,ae,H.key),F.return=z,z=F):(ae=Ic(H.type,H.key,H.props,null,z.mode,ae),ae.ref=rl(z,F,H),ae.return=z,z=ae)}return T(z);case se:e:{for(ve=H.key;F!==null;){if(F.key===ve)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l(z,F.sibling),F=f(F,H.children||[]),F.return=z,z=F;break e}else{l(z,F);break}else i(z,F);F=F.sibling}F=Uf(H,z.mode,ae),F.return=z,z=F}return T(z);case qe:return ve=H._init,pt(z,F,ve(H._payload),ae)}if(dt(H))return fe(z,F,H,ae);if(ue(H))return pe(z,F,H,ae);ec(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l(z,F.sibling),F=f(F,H),F.return=z,z=F):(l(z,F),F=Ff(H,z.mode,ae),F.return=z,z=F),T(z)):l(z,F)}return pt}var Oo=Qg(!0),Yg=Qg(!1),tc=Is(null),nc=null,Do=null,Gd=null;function Qd(){Gd=Do=nc=null}function Yd(s){var i=tc.current;tt(tc),s._currentValue=i}function Jd(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function Lo(s,i){nc=s,Gd=Do=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(tn=!0),s.firstContext=null)}function Rn(s){var i=s._currentValue;if(Gd!==s)if(s={context:s,memoizedValue:i,next:null},Do===null){if(nc===null)throw Error(t(308));Do=s,nc.dependencies={lanes:0,firstContext:s}}else Do=Do.next=s;return i}var Ri=null;function Xd(s){Ri===null?Ri=[s]:Ri.push(s)}function Jg(s,i,l,h){var f=i.interleaved;return f===null?(l.next=l,Xd(i)):(l.next=f.next,f.next=l),i.interleaved=l,Ur(s,h)}function Ur(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var ks=!1;function Zd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xg(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Br(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function xs(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Ue&2)!==0){var f=h.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),h.pending=i,Ur(s,l)}return f=h.interleaved,f===null?(i.next=i,Xd(h)):(i.next=f.next,f.next=i),h.interleaved=i,Ur(s,l)}function rc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Ma(s,l)}}function Zg(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?f=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?f=y=i:y=y.next=i}else f=y=i;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function sc(s,i,l,h){var f=s.updateQueue;ks=!1;var y=f.firstBaseUpdate,T=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var M=P,K=M.next;M.next=null,T===null?y=K:T.next=K,T=M;var re=s.alternate;re!==null&&(re=re.updateQueue,P=re.lastBaseUpdate,P!==T&&(P===null?re.firstBaseUpdate=K:P.next=K,re.lastBaseUpdate=M))}if(y!==null){var ie=f.baseState;T=0,re=K=M=null,P=y;do{var ne=P.lane,ce=P.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var fe=s,pe=P;switch(ne=i,ce=l,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ie=fe.call(ce,ie,ne);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ne=typeof fe=="function"?fe.call(ce,ie,ne):fe,ne==null)break e;ie=oe({},ie,ne);break e;case 2:ks=!0}}P.callback!==null&&P.lane!==0&&(s.flags|=64,ne=f.effects,ne===null?f.effects=[P]:ne.push(P))}else ce={eventTime:ce,lane:ne,tag:P.tag,payload:P.payload,callback:P.callback,next:null},re===null?(K=re=ce,M=ie):re=re.next=ce,T|=ne;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;ne=P,P=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(re===null&&(M=ie),f.baseState=M,f.firstBaseUpdate=K,f.lastBaseUpdate=re,i=f.shared.interleaved,i!==null){f=i;do T|=f.lane,f=f.next;while(f!==i)}else y===null&&(f.shared.lanes=0);xi|=T,s.lanes=T,s.memoizedState=ie}}function ey(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var sl={},hr=Is(sl),il=Is(sl),ol=Is(sl);function Ci(s){if(s===sl)throw Error(t(174));return s}function ef(s,i){switch(Xe(ol,i),Xe(il,s),Xe(hr,sl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:no(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=no(i,s)}tt(hr),Xe(hr,i)}function jo(){tt(hr),tt(il),tt(ol)}function ty(s){Ci(ol.current);var i=Ci(hr.current),l=no(i,s.type);i!==l&&(Xe(il,s),Xe(hr,l))}function tf(s){il.current===s&&(tt(hr),tt(il))}var ot=Is(0);function ic(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var nf=[];function rf(){for(var s=0;s<nf.length;s++)nf[s]._workInProgressVersionPrimary=null;nf.length=0}var oc=X.ReactCurrentDispatcher,sf=X.ReactCurrentBatchConfig,ki=0,at=null,Et=null,Ct=null,ac=!1,al=!1,ll=0,rS=0;function Bt(){throw Error(t(321))}function of(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Vn(s[l],i[l]))return!1;return!0}function af(s,i,l,h,f,y){if(ki=y,at=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,oc.current=s===null||s.memoizedState===null?aS:lS,s=l(h,f),al){y=0;do{if(al=!1,ll=0,25<=y)throw Error(t(301));y+=1,Ct=Et=null,i.updateQueue=null,oc.current=uS,s=l(h,f)}while(al)}if(oc.current=cc,i=Et!==null&&Et.next!==null,ki=0,Ct=Et=at=null,ac=!1,i)throw Error(t(300));return s}function lf(){var s=ll!==0;return ll=0,s}function dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?at.memoizedState=Ct=s:Ct=Ct.next=s,Ct}function Cn(){if(Et===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var i=Ct===null?at.memoizedState:Ct.next;if(i!==null)Ct=i,Et=s;else{if(s===null)throw Error(t(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ct===null?at.memoizedState=Ct=s:Ct=Ct.next=s}return Ct}function ul(s,i){return typeof i=="function"?i(s):i}function uf(s){var i=Cn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=Et,f=h.baseQueue,y=l.pending;if(y!==null){if(f!==null){var T=f.next;f.next=y.next,y.next=T}h.baseQueue=f=y,l.pending=null}if(f!==null){y=f.next,h=h.baseState;var P=T=null,M=null,K=y;do{var re=K.lane;if((ki&re)===re)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:s(h,K.action);else{var ie={lane:re,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(P=M=ie,T=h):M=M.next=ie,at.lanes|=re,xi|=re}K=K.next}while(K!==null&&K!==y);M===null?T=h:M.next=P,Vn(h,i.memoizedState)||(tn=!0),i.memoizedState=h,i.baseState=T,i.baseQueue=M,l.lastRenderedState=h}if(s=l.interleaved,s!==null){f=s;do y=f.lane,at.lanes|=y,xi|=y,f=f.next;while(f!==s)}else f===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function cf(s){var i=Cn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,f=l.pending,y=i.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do y=s(y,T.action),T=T.next;while(T!==f);Vn(y,i.memoizedState)||(tn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,h]}function ny(){}function ry(s,i){var l=at,h=Cn(),f=i(),y=!Vn(h.memoizedState,f);if(y&&(h.memoizedState=f,tn=!0),h=h.queue,hf(oy.bind(null,l,h,s),[s]),h.getSnapshot!==i||y||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,cl(9,iy.bind(null,l,h,f,i),void 0,null),kt===null)throw Error(t(349));(ki&30)!==0||sy(l,i,f)}return f}function sy(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=at.updateQueue,i===null?(i={lastEffect:null,stores:null},at.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function iy(s,i,l,h){i.value=l,i.getSnapshot=h,ay(i)&&ly(s)}function oy(s,i,l){return l(function(){ay(i)&&ly(s)})}function ay(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Vn(s,l)}catch{return!0}}function ly(s){var i=Ur(s,1);i!==null&&zn(i,s,1,-1)}function uy(s){var i=dr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:s},i.queue=s,s=s.dispatch=oS.bind(null,at,s),[i.memoizedState,s]}function cl(s,i,l,h){return s={tag:s,create:i,destroy:l,deps:h,next:null},i=at.updateQueue,i===null?(i={lastEffect:null,stores:null},at.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s)),s}function cy(){return Cn().memoizedState}function lc(s,i,l,h){var f=dr();at.flags|=s,f.memoizedState=cl(1|i,l,void 0,h===void 0?null:h)}function uc(s,i,l,h){var f=Cn();h=h===void 0?null:h;var y=void 0;if(Et!==null){var T=Et.memoizedState;if(y=T.destroy,h!==null&&of(h,T.deps)){f.memoizedState=cl(i,l,y,h);return}}at.flags|=s,f.memoizedState=cl(1|i,l,y,h)}function hy(s,i){return lc(8390656,8,s,i)}function hf(s,i){return uc(2048,8,s,i)}function dy(s,i){return uc(4,2,s,i)}function fy(s,i){return uc(4,4,s,i)}function py(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function my(s,i,l){return l=l!=null?l.concat([s]):null,uc(4,4,py.bind(null,i,s),l)}function df(){}function gy(s,i){var l=Cn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&of(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function yy(s,i){var l=Cn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&of(i,h[1])?h[0]:(s=s(),l.memoizedState=[s,i],s)}function _y(s,i,l){return(ki&21)===0?(s.baseState&&(s.baseState=!1,tn=!0),s.memoizedState=l):(Vn(l,i)||(l=ja(),at.lanes|=l,xi|=l,s.baseState=!0),i)}function sS(s,i){var l=Ve;Ve=l!==0&&4>l?l:4,s(!0);var h=sf.transition;sf.transition={};try{s(!1),i()}finally{Ve=l,sf.transition=h}}function vy(){return Cn().memoizedState}function iS(s,i,l){var h=bs(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},wy(s))Ey(i,l);else if(l=Jg(s,i,l,h),l!==null){var f=Jt();zn(l,s,h,f),Ty(l,i,h)}}function oS(s,i,l){var h=bs(s),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(wy(s))Ey(i,f);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,P=y(T,l);if(f.hasEagerState=!0,f.eagerState=P,Vn(P,T)){var M=i.interleaved;M===null?(f.next=f,Xd(i)):(f.next=M.next,M.next=f),i.interleaved=f;return}}catch{}finally{}l=Jg(s,i,f,h),l!==null&&(f=Jt(),zn(l,s,h,f),Ty(l,i,h))}}function wy(s){var i=s.alternate;return s===at||i!==null&&i===at}function Ey(s,i){al=ac=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Ty(s,i,l){if((l&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Ma(s,l)}}var cc={readContext:Rn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},aS={readContext:Rn,useCallback:function(s,i){return dr().memoizedState=[s,i===void 0?null:i],s},useContext:Rn,useEffect:hy,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,lc(4194308,4,py.bind(null,i,s),l)},useLayoutEffect:function(s,i){return lc(4194308,4,s,i)},useInsertionEffect:function(s,i){return lc(4,2,s,i)},useMemo:function(s,i){var l=dr();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var h=dr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=iS.bind(null,at,s),[h.memoizedState,s]},useRef:function(s){var i=dr();return s={current:s},i.memoizedState=s},useState:uy,useDebugValue:df,useDeferredValue:function(s){return dr().memoizedState=s},useTransition:function(){var s=uy(!1),i=s[0];return s=sS.bind(null,s[1]),dr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var h=at,f=dr();if(st){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),kt===null)throw Error(t(349));(ki&30)!==0||sy(h,i,l)}f.memoizedState=l;var y={value:l,getSnapshot:i};return f.queue=y,hy(oy.bind(null,h,y,s),[s]),h.flags|=2048,cl(9,iy.bind(null,h,y,l,i),void 0,null),l},useId:function(){var s=dr(),i=kt.identifierPrefix;if(st){var l=Fr,h=Mr;l=(h&~(1<<32-dn(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=ll++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=rS++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},lS={readContext:Rn,useCallback:gy,useContext:Rn,useEffect:hf,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:yy,useReducer:uf,useRef:cy,useState:function(){return uf(ul)},useDebugValue:df,useDeferredValue:function(s){var i=Cn();return _y(i,Et.memoizedState,s)},useTransition:function(){var s=uf(ul)[0],i=Cn().memoizedState;return[s,i]},useMutableSource:ny,useSyncExternalStore:ry,useId:vy,unstable_isNewReconciler:!1},uS={readContext:Rn,useCallback:gy,useContext:Rn,useEffect:hf,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:yy,useReducer:cf,useRef:cy,useState:function(){return cf(ul)},useDebugValue:df,useDeferredValue:function(s){var i=Cn();return Et===null?i.memoizedState=s:_y(i,Et.memoizedState,s)},useTransition:function(){var s=cf(ul)[0],i=Cn().memoizedState;return[s,i]},useMutableSource:ny,useSyncExternalStore:ry,useId:vy,unstable_isNewReconciler:!1};function Fn(s,i){if(s&&s.defaultProps){i=oe({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function ff(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:oe({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var hc={isMounted:function(s){return(s=s._reactInternals)?Ln(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=Jt(),f=bs(s),y=Br(h,f);y.payload=i,l!=null&&(y.callback=l),i=xs(s,y,f),i!==null&&(zn(i,s,f,h),rc(i,s,f))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=Jt(),f=bs(s),y=Br(h,f);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=xs(s,y,f),i!==null&&(zn(i,s,f,h),rc(i,s,f))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Jt(),h=bs(s),f=Br(l,h);f.tag=2,i!=null&&(f.callback=i),i=xs(s,f,h),i!==null&&(zn(i,s,h,l),rc(i,s,h))}};function Sy(s,i,l,h,f,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,T):i.prototype&&i.prototype.isPureReactComponent?!Ya(l,h)||!Ya(f,y):!0}function Iy(s,i,l){var h=!1,f=Rs,y=i.contextType;return typeof y=="object"&&y!==null?y=Rn(y):(f=en(i)?Ti:Ut.current,h=i.contextTypes,y=(h=h!=null)?Ao(s,f):Rs),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=hc,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=f,s.__reactInternalMemoizedMaskedChildContext=y),i}function Ry(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&hc.enqueueReplaceState(i,i.state,null)}function pf(s,i,l,h){var f=s.stateNode;f.props=l,f.state=s.memoizedState,f.refs={},Zd(s);var y=i.contextType;typeof y=="object"&&y!==null?f.context=Rn(y):(y=en(i)?Ti:Ut.current,f.context=Ao(s,y)),f.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(ff(s,i,y,l),f.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&hc.enqueueReplaceState(f,f.state,null),sc(s,l,f,h),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308)}function Vo(s,i){try{var l="",h=i;do l+=Pe(h),h=h.return;while(h);var f=l}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:f,digest:null}}function mf(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function gf(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var cS=typeof WeakMap=="function"?WeakMap:Map;function Cy(s,i,l){l=Br(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){_c||(_c=!0,Pf=h),gf(s,i)},l}function ky(s,i,l){l=Br(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=i.value;l.payload=function(){return h(f)},l.callback=function(){gf(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){gf(s,i),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),l}function xy(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new cS;var f=new Set;h.set(i,f)}else f=h.get(i),f===void 0&&(f=new Set,h.set(i,f));f.has(l)||(f.add(l),s=IS.bind(null,s,i,l),i.then(s,s))}function Ay(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Ny(s,i,l,h,f){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Br(-1,1),i.tag=2,xs(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=f,s)}var hS=X.ReactCurrentOwner,tn=!1;function Yt(s,i,l,h){i.child=s===null?Yg(i,null,l,h):Oo(i,s.child,l,h)}function Py(s,i,l,h,f){l=l.render;var y=i.ref;return Lo(i,f),h=af(s,i,l,h,y,f),l=lf(),s!==null&&!tn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~f,zr(s,i,f)):(st&&l&&$d(i),i.flags|=1,Yt(s,i,h,f),i.child)}function by(s,i,l,h,f){if(s===null){var y=l.type;return typeof y=="function"&&!Mf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Oy(s,i,y,h,f)):(s=Ic(l.type,null,h,i,i.mode,f),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&f)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(T,h)&&s.ref===i.ref)return zr(s,i,f)}return i.flags|=1,s=Ds(y,h),s.ref=i.ref,s.return=i,i.child=s}function Oy(s,i,l,h,f){if(s!==null){var y=s.memoizedProps;if(Ya(y,h)&&s.ref===i.ref)if(tn=!1,i.pendingProps=h=y,(s.lanes&f)!==0)(s.flags&131072)!==0&&(tn=!0);else return i.lanes=s.lanes,zr(s,i,f)}return yf(s,i,l,h,f)}function Dy(s,i,l){var h=i.pendingProps,f=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Fo,vn),vn|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Xe(Fo,vn),vn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Xe(Fo,vn),vn|=h}else y!==null?(h=y.baseLanes|l,i.memoizedState=null):h=l,Xe(Fo,vn),vn|=h;return Yt(s,i,f,l),i.child}function Ly(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function yf(s,i,l,h,f){var y=en(l)?Ti:Ut.current;return y=Ao(i,y),Lo(i,f),l=af(s,i,l,h,y,f),h=lf(),s!==null&&!tn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~f,zr(s,i,f)):(st&&h&&$d(i),i.flags|=1,Yt(s,i,l,f),i.child)}function jy(s,i,l,h,f){if(en(l)){var y=!0;Qu(i)}else y=!1;if(Lo(i,f),i.stateNode===null)fc(s,i),Iy(i,l,h),pf(i,l,h,f),h=!0;else if(s===null){var T=i.stateNode,P=i.memoizedProps;T.props=P;var M=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=Rn(K):(K=en(l)?Ti:Ut.current,K=Ao(i,K));var re=l.getDerivedStateFromProps,ie=typeof re=="function"||typeof T.getSnapshotBeforeUpdate=="function";ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==h||M!==K)&&Ry(i,T,h,K),ks=!1;var ne=i.memoizedState;T.state=ne,sc(i,h,T,f),M=i.memoizedState,P!==h||ne!==M||Zt.current||ks?(typeof re=="function"&&(ff(i,l,re,h),M=i.memoizedState),(P=ks||Sy(i,l,P,h,ne,M,K))?(ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=M),T.props=h,T.state=M,T.context=K,h=P):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{T=i.stateNode,Xg(s,i),P=i.memoizedProps,K=i.type===i.elementType?P:Fn(i.type,P),T.props=K,ie=i.pendingProps,ne=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=Rn(M):(M=en(l)?Ti:Ut.current,M=Ao(i,M));var ce=l.getDerivedStateFromProps;(re=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==ie||ne!==M)&&Ry(i,T,h,M),ks=!1,ne=i.memoizedState,T.state=ne,sc(i,h,T,f);var fe=i.memoizedState;P!==ie||ne!==fe||Zt.current||ks?(typeof ce=="function"&&(ff(i,l,ce,h),fe=i.memoizedState),(K=ks||Sy(i,l,K,h,ne,fe,M)||!1)?(re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,fe,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,fe,M)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=fe),T.props=h,T.state=fe,T.context=M,h=K):(typeof T.componentDidUpdate!="function"||P===s.memoizedProps&&ne===s.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&ne===s.memoizedState||(i.flags|=1024),h=!1)}return _f(s,i,l,h,y,f)}function _f(s,i,l,h,f,y){Ly(s,i);var T=(i.flags&128)!==0;if(!h&&!T)return f&&Bg(i,l,!1),zr(s,i,y);h=i.stateNode,hS.current=i;var P=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&T?(i.child=Oo(i,s.child,null,y),i.child=Oo(i,null,P,y)):Yt(s,i,P,y),i.memoizedState=h.state,f&&Bg(i,l,!0),i.child}function Vy(s){var i=s.stateNode;i.pendingContext?Fg(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Fg(s,i.context,!1),ef(s,i.containerInfo)}function My(s,i,l,h,f){return bo(),Kd(f),i.flags|=256,Yt(s,i,l,h),i.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function wf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Fy(s,i,l){var h=i.pendingProps,f=ot.current,y=!1,T=(i.flags&128)!==0,P;if((P=T)||(P=s!==null&&s.memoizedState===null?!1:(f&2)!==0),P?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(f|=1),Xe(ot,f&1),s===null)return qd(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(T=h.children,s=h.fallback,y?(h=i.mode,y=i.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Rc(T,h,0,null),s=bi(s,h,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=wf(l),i.memoizedState=vf,s):Ef(i,T));if(f=s.memoizedState,f!==null&&(P=f.dehydrated,P!==null))return dS(s,i,T,h,P,f,l);if(y){y=h.fallback,T=i.mode,f=s.child,P=f.sibling;var M={mode:"hidden",children:h.children};return(T&1)===0&&i.child!==f?(h=i.child,h.childLanes=0,h.pendingProps=M,i.deletions=null):(h=Ds(f,M),h.subtreeFlags=f.subtreeFlags&14680064),P!==null?y=Ds(P,y):(y=bi(y,T,l,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,T=s.child.memoizedState,T=T===null?wf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=s.childLanes&~l,i.memoizedState=vf,h}return y=s.child,s=y.sibling,h=Ds(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=h,i.memoizedState=null,h}function Ef(s,i){return i=Rc({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function dc(s,i,l,h){return h!==null&&Kd(h),Oo(i,s.child,null,l),s=Ef(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function dS(s,i,l,h,f,y,T){if(l)return i.flags&256?(i.flags&=-257,h=mf(Error(t(422))),dc(s,i,T,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=h.fallback,f=i.mode,h=Rc({mode:"visible",children:h.children},f,0,null),y=bi(y,f,T,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&Oo(i,s.child,null,T),i.child.memoizedState=wf(T),i.memoizedState=vf,y);if((i.mode&1)===0)return dc(s,i,T,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(t(419)),h=mf(y,h,void 0),dc(s,i,T,h)}if(P=(T&s.childLanes)!==0,tn||P){if(h=kt,h!==null){switch(T&-T){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|T))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,Ur(s,f),zn(h,s,f,-1))}return Vf(),h=mf(Error(t(421))),dc(s,i,T,h)}return f.data==="$?"?(i.flags|=128,i.child=s.child,i=RS.bind(null,s),f._reactRetry=i,null):(s=y.treeContext,_n=Ss(f.nextSibling),yn=i,st=!0,Mn=null,s!==null&&(Sn[In++]=Mr,Sn[In++]=Fr,Sn[In++]=Si,Mr=s.id,Fr=s.overflow,Si=i),i=Ef(i,h.children),i.flags|=4096,i)}function Uy(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),Jd(s.return,i,l)}function Tf(s,i,l,h,f){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=f)}function By(s,i,l){var h=i.pendingProps,f=h.revealOrder,y=h.tail;if(Yt(s,i,h.children,l),h=ot.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Uy(s,l,i);else if(s.tag===19)Uy(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Xe(ot,h),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(l=i.child,f=null;l!==null;)s=l.alternate,s!==null&&ic(s)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),Tf(i,!1,f,l,y);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(s=f.alternate,s!==null&&ic(s)===null){i.child=f;break}s=f.sibling,f.sibling=l,l=f,f=s}Tf(i,!0,l,null,y);break;case"together":Tf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fc(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function zr(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),xi|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=Ds(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Ds(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function fS(s,i,l){switch(i.tag){case 3:Vy(i),bo();break;case 5:ty(i);break;case 1:en(i.type)&&Qu(i);break;case 4:ef(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,f=i.memoizedProps.value;Xe(tc,h._currentValue),h._currentValue=f;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Xe(ot,ot.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Fy(s,i,l):(Xe(ot,ot.current&1),s=zr(s,i,l),s!==null?s.sibling:null);Xe(ot,ot.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(s.flags&128)!==0){if(h)return By(s,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(ot,ot.current),h)break;return null;case 22:case 23:return i.lanes=0,Dy(s,i,l)}return zr(s,i,l)}var zy,Sf,$y,Hy;zy=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Sf=function(){},$y=function(s,i,l,h){var f=s.memoizedProps;if(f!==h){s=i.stateNode,Ci(hr.current);var y=null;switch(l){case"input":f=eo(s,f),h=eo(s,h),y=[];break;case"select":f=oe({},f,{value:void 0}),h=oe({},h,{value:void 0}),y=[];break;case"textarea":f=Ra(s,f),h=Ra(s,h),y=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=qu)}Dn(l,h);var T;l=null;for(K in f)if(!h.hasOwnProperty(K)&&f.hasOwnProperty(K)&&f[K]!=null)if(K==="style"){var P=f[K];for(T in P)P.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in h){var M=h[K];if(P=f!=null?f[K]:void 0,h.hasOwnProperty(K)&&M!==P&&(M!=null||P!=null))if(K==="style")if(P){for(T in P)!P.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&P[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(y||(y=[]),y.push(K,l)),l=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,P=P?P.__html:void 0,M!=null&&P!==M&&(y=y||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&et("scroll",s),y||P===M||(y=[])):(y=y||[]).push(K,M))}l&&(y=y||[]).push("style",l);var K=y;(i.updateQueue=K)&&(i.flags|=4)}},Hy=function(s,i,l,h){l!==h&&(i.flags|=4)};function hl(s,i){if(!st)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function zt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var f=s.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function pS(s,i,l){var h=i.pendingProps;switch(Hd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(i),null;case 1:return en(i.type)&&Gu(),zt(i),null;case 3:return h=i.stateNode,jo(),tt(Zt),tt(Ut),rf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Zu(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mn!==null&&(Df(Mn),Mn=null))),Sf(s,i),zt(i),null;case 5:tf(i);var f=Ci(ol.current);if(l=i.type,s!==null&&i.stateNode!=null)$y(s,i,l,h,f),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return zt(i),null}if(s=Ci(hr.current),Zu(i)){h=i.stateNode,l=i.type;var y=i.memoizedProps;switch(h[cr]=i,h[tl]=y,s=(i.mode&1)!==0,l){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(f=0;f<Xa.length;f++)et(Xa[f],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":yu(h,y),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},et("invalid",h);break;case"textarea":Ca(h,y),et("invalid",h)}Dn(l,y),f=null;for(var T in y)if(y.hasOwnProperty(T)){var P=y[T];T==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&Wu(h.textContent,P,s),f=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Wu(h.textContent,P,s),f=["children",""+P]):o.hasOwnProperty(T)&&P!=null&&T==="onScroll"&&et("scroll",h)}switch(l){case"input":Zi(h),Ia(h,y,!0);break;case"textarea":Zi(h),as(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=qu)}h=f,i.updateQueue=h,h!==null&&(i.flags|=4)}else{T=f.nodeType===9?f:f.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ka(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=T.createElement(l,{is:h.is}):(s=T.createElement(l),l==="select"&&(T=s,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):s=T.createElementNS(s,l),s[cr]=i,s[tl]=h,zy(s,i,!1,!1),i.stateNode=s;e:{switch(T=so(l,h),l){case"dialog":et("cancel",s),et("close",s),f=h;break;case"iframe":case"object":case"embed":et("load",s),f=h;break;case"video":case"audio":for(f=0;f<Xa.length;f++)et(Xa[f],s);f=h;break;case"source":et("error",s),f=h;break;case"img":case"image":case"link":et("error",s),et("load",s),f=h;break;case"details":et("toggle",s),f=h;break;case"input":yu(s,h),f=eo(s,h),et("invalid",s);break;case"option":f=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},f=oe({},h,{value:void 0}),et("invalid",s);break;case"textarea":Ca(s,h),f=Ra(s,h),et("invalid",s);break;default:f=h}Dn(l,f),P=f;for(y in P)if(P.hasOwnProperty(y)){var M=P[y];y==="style"?ro(s,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&vu(s,M)):y==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&ai(s,M):typeof M=="number"&&ai(s,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&et("scroll",s):M!=null&&W(s,y,M,T))}switch(l){case"input":Zi(s),Ia(s,h,!1);break;case"textarea":Zi(s),as(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Fe(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?On(s,!!h.multiple,y,!1):h.defaultValue!=null&&On(s,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(s.onclick=qu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return zt(i),null;case 6:if(s&&i.stateNode!=null)Hy(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=Ci(ol.current),Ci(hr.current),Zu(i)){if(h=i.stateNode,l=i.memoizedProps,h[cr]=i,(y=h.nodeValue!==l)&&(s=yn,s!==null))switch(s.tag){case 3:Wu(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Wu(h.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[cr]=i,i.stateNode=h}return zt(i),null;case 13:if(tt(ot),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&_n!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Kg(),bo(),i.flags|=98560,y=!1;else if(y=Zu(i),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[cr]=i}else bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;zt(i),y=!1}else Mn!==null&&(Df(Mn),Mn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(ot.current&1)!==0?Tt===0&&(Tt=3):Vf())),i.updateQueue!==null&&(i.flags|=4),zt(i),null);case 4:return jo(),Sf(s,i),s===null&&Za(i.stateNode.containerInfo),zt(i),null;case 10:return Yd(i.type._context),zt(i),null;case 17:return en(i.type)&&Gu(),zt(i),null;case 19:if(tt(ot),y=i.memoizedState,y===null)return zt(i),null;if(h=(i.flags&128)!==0,T=y.rendering,T===null)if(h)hl(y,!1);else{if(Tt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(T=ic(s),T!==null){for(i.flags|=128,hl(y,!1),h=T.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)y=l,s=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,s=T.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Xe(ot,ot.current&1|2),i.child}s=s.sibling}y.tail!==null&&Ze()>Uo&&(i.flags|=128,h=!0,hl(y,!1),i.lanes=4194304)}else{if(!h)if(s=ic(T),s!==null){if(i.flags|=128,h=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),hl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!st)return zt(i),null}else 2*Ze()-y.renderingStartTime>Uo&&l!==1073741824&&(i.flags|=128,h=!0,hl(y,!1),i.lanes=4194304);y.isBackwards?(T.sibling=i.child,i.child=T):(l=y.last,l!==null?l.sibling=T:i.child=T,y.last=T)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Ze(),i.sibling=null,l=ot.current,Xe(ot,h?l&1|2:l&1),i):(zt(i),null);case 22:case 23:return jf(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(vn&1073741824)!==0&&(zt(i),i.subtreeFlags&6&&(i.flags|=8192)):zt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function mS(s,i){switch(Hd(i),i.tag){case 1:return en(i.type)&&Gu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return jo(),tt(Zt),tt(Ut),rf(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return tf(i),null;case 13:if(tt(ot),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));bo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return tt(ot),null;case 4:return jo(),null;case 10:return Yd(i.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var pc=!1,$t=!1,gS=typeof WeakSet=="function"?WeakSet:Set,de=null;function Mo(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ht(s,i,h)}else l.current=null}function If(s,i,l){try{l()}catch(h){ht(s,i,h)}}var Wy=!1;function yS(s,i){if(Ld=Or,s=Sg(),kd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,P=-1,M=-1,K=0,re=0,ie=s,ne=null;t:for(;;){for(var ce;ie!==l||f!==0&&ie.nodeType!==3||(P=T+f),ie!==y||h!==0&&ie.nodeType!==3||(M=T+h),ie.nodeType===3&&(T+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)ne=ie,ie=ce;for(;;){if(ie===s)break t;if(ne===l&&++K===f&&(P=T),ne===y&&++re===h&&(M=T),(ce=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=ce}l=P===-1||M===-1?null:{start:P,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(jd={focusedElem:s,selectionRange:l},Or=!1,de=i;de!==null;)if(i=de,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,de=s;else for(;de!==null;){i=de;try{var fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,pt=fe.memoizedState,z=i.stateNode,F=z.getSnapshotBeforeUpdate(i.elementType===i.type?pe:Fn(i.type,pe),pt);z.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=i.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){ht(i,i.return,ae)}if(s=i.sibling,s!==null){s.return=i.return,de=s;break}de=i.return}return fe=Wy,Wy=!1,fe}function dl(s,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&s)===s){var y=f.destroy;f.destroy=void 0,y!==void 0&&If(i,l,y)}f=f.next}while(f!==h)}}function mc(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function Rf(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function qy(s){var i=s.alternate;i!==null&&(s.alternate=null,qy(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[cr],delete i[tl],delete i[Ud],delete i[ZT],delete i[eS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ky(s){return s.tag===5||s.tag===3||s.tag===4}function Gy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ky(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Cf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=qu));else if(h!==4&&(s=s.child,s!==null))for(Cf(s,i,l),s=s.sibling;s!==null;)Cf(s,i,l),s=s.sibling}function kf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(kf(s,i,l),s=s.sibling;s!==null;)kf(s,i,l),s=s.sibling}var bt=null,Un=!1;function As(s,i,l){for(l=l.child;l!==null;)Qy(s,i,l),l=l.sibling}function Qy(s,i,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(di,l)}catch{}switch(l.tag){case 5:$t||Mo(l,i);case 6:var h=bt,f=Un;bt=null,As(s,i,l),bt=h,Un=f,bt!==null&&(Un?(s=bt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Un?(s=bt,l=l.stateNode,s.nodeType===8?Fd(s.parentNode,l):s.nodeType===1&&Fd(s,l),vs(s)):Fd(bt,l.stateNode));break;case 4:h=bt,f=Un,bt=l.stateNode.containerInfo,Un=!0,As(s,i,l),bt=h,Un=f;break;case 0:case 11:case 14:case 15:if(!$t&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var y=f,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&If(l,i,T),f=f.next}while(f!==h)}As(s,i,l);break;case 1:if(!$t&&(Mo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){ht(l,i,P)}As(s,i,l);break;case 21:As(s,i,l);break;case 22:l.mode&1?($t=(h=$t)||l.memoizedState!==null,As(s,i,l),$t=h):As(s,i,l);break;default:As(s,i,l)}}function Yy(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new gS),i.forEach(function(h){var f=CS.bind(null,s,h);l.has(h)||(l.add(h),h.then(f,f))})}}function Bn(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var y=s,T=i,P=T;e:for(;P!==null;){switch(P.tag){case 5:bt=P.stateNode,Un=!1;break e;case 3:bt=P.stateNode.containerInfo,Un=!0;break e;case 4:bt=P.stateNode.containerInfo,Un=!0;break e}P=P.return}if(bt===null)throw Error(t(160));Qy(y,T,f),bt=null,Un=!1;var M=f.alternate;M!==null&&(M.return=null),f.return=null}catch(K){ht(f,i,K)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Jy(i,s),i=i.sibling}function Jy(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Bn(i,s),fr(s),h&4){try{dl(3,s,s.return),mc(3,s)}catch(pe){ht(s,s.return,pe)}try{dl(5,s,s.return)}catch(pe){ht(s,s.return,pe)}}break;case 1:Bn(i,s),fr(s),h&512&&l!==null&&Mo(l,l.return);break;case 5:if(Bn(i,s),fr(s),h&512&&l!==null&&Mo(l,l.return),s.flags&32){var f=s.stateNode;try{ai(f,"")}catch(pe){ht(s,s.return,pe)}}if(h&4&&(f=s.stateNode,f!=null)){var y=s.memoizedProps,T=l!==null?l.memoizedProps:y,P=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&to(f,y),so(P,T);var K=so(P,y);for(T=0;T<M.length;T+=2){var re=M[T],ie=M[T+1];re==="style"?ro(f,ie):re==="dangerouslySetInnerHTML"?vu(f,ie):re==="children"?ai(f,ie):W(f,re,ie,K)}switch(P){case"input":oi(f,y);break;case"textarea":_u(f,y);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var ce=y.value;ce!=null?On(f,!!y.multiple,ce,!1):ne!==!!y.multiple&&(y.defaultValue!=null?On(f,!!y.multiple,y.defaultValue,!0):On(f,!!y.multiple,y.multiple?[]:"",!1))}f[tl]=y}catch(pe){ht(s,s.return,pe)}}break;case 6:if(Bn(i,s),fr(s),h&4){if(s.stateNode===null)throw Error(t(162));f=s.stateNode,y=s.memoizedProps;try{f.nodeValue=y}catch(pe){ht(s,s.return,pe)}}break;case 3:if(Bn(i,s),fr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{vs(i.containerInfo)}catch(pe){ht(s,s.return,pe)}break;case 4:Bn(i,s),fr(s);break;case 13:Bn(i,s),fr(s),f=s.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(Nf=Ze())),h&4&&Yy(s);break;case 22:if(re=l!==null&&l.memoizedState!==null,s.mode&1?($t=(K=$t)||re,Bn(i,s),$t=K):Bn(i,s),fr(s),h&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!re&&(s.mode&1)!==0)for(de=s,re=s.child;re!==null;){for(ie=de=re;de!==null;){switch(ne=de,ce=ne.child,ne.tag){case 0:case 11:case 14:case 15:dl(4,ne,ne.return);break;case 1:Mo(ne,ne.return);var fe=ne.stateNode;if(typeof fe.componentWillUnmount=="function"){h=ne,l=ne.return;try{i=h,fe.props=i.memoizedProps,fe.state=i.memoizedState,fe.componentWillUnmount()}catch(pe){ht(h,l,pe)}}break;case 5:Mo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){e_(ie);continue}}ce!==null?(ce.return=ne,de=ce):e_(ie)}re=re.sibling}e:for(re=null,ie=s;;){if(ie.tag===5){if(re===null){re=ie;try{f=ie.stateNode,K?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=ie.stateNode,M=ie.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,P.style.display=cs("display",T))}catch(pe){ht(s,s.return,pe)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=K?"":ie.memoizedProps}catch(pe){ht(s,s.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===s)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===s)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===s)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Bn(i,s),fr(s),h&4&&Yy(s);break;case 21:break;default:Bn(i,s),fr(s)}}function fr(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Ky(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(ai(f,""),h.flags&=-33);var y=Gy(s);kf(s,y,f);break;case 3:case 4:var T=h.stateNode.containerInfo,P=Gy(s);Cf(s,P,T);break;default:throw Error(t(161))}}catch(M){ht(s,s.return,M)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function _S(s,i,l){de=s,Xy(s)}function Xy(s,i,l){for(var h=(s.mode&1)!==0;de!==null;){var f=de,y=f.child;if(f.tag===22&&h){var T=f.memoizedState!==null||pc;if(!T){var P=f.alternate,M=P!==null&&P.memoizedState!==null||$t;P=pc;var K=$t;if(pc=T,($t=M)&&!K)for(de=f;de!==null;)T=de,M=T.child,T.tag===22&&T.memoizedState!==null?t_(f):M!==null?(M.return=T,de=M):t_(f);for(;y!==null;)de=y,Xy(y),y=y.sibling;de=f,pc=P,$t=K}Zy(s)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,de=y):Zy(s)}}function Zy(s){for(;de!==null;){var i=de;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:$t||mc(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!$t)if(l===null)h.componentDidMount();else{var f=i.elementType===i.type?l.memoizedProps:Fn(i.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&ey(i,y,h);break;case 3:var T=i.updateQueue;if(T!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ey(i,T,l)}break;case 5:var P=i.stateNode;if(l===null&&i.flags&4){l=P;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var K=i.alternate;if(K!==null){var re=K.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&vs(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||i.flags&512&&Rf(i)}catch(ne){ht(i,i.return,ne)}}if(i===s){de=null;break}if(l=i.sibling,l!==null){l.return=i.return,de=l;break}de=i.return}}function e_(s){for(;de!==null;){var i=de;if(i===s){de=null;break}var l=i.sibling;if(l!==null){l.return=i.return,de=l;break}de=i.return}}function t_(s){for(;de!==null;){var i=de;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{mc(4,i)}catch(M){ht(i,l,M)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var f=i.return;try{h.componentDidMount()}catch(M){ht(i,f,M)}}var y=i.return;try{Rf(i)}catch(M){ht(i,y,M)}break;case 5:var T=i.return;try{Rf(i)}catch(M){ht(i,T,M)}}}catch(M){ht(i,i.return,M)}if(i===s){de=null;break}var P=i.sibling;if(P!==null){P.return=i.return,de=P;break}de=i.return}}var vS=Math.ceil,gc=X.ReactCurrentDispatcher,xf=X.ReactCurrentOwner,kn=X.ReactCurrentBatchConfig,Ue=0,kt=null,_t=null,Ot=0,vn=0,Fo=Is(0),Tt=0,fl=null,xi=0,yc=0,Af=0,pl=null,nn=null,Nf=0,Uo=1/0,$r=null,_c=!1,Pf=null,Ns=null,vc=!1,Ps=null,wc=0,ml=0,bf=null,Ec=-1,Tc=0;function Jt(){return(Ue&6)!==0?Ze():Ec!==-1?Ec:Ec=Ze()}function bs(s){return(s.mode&1)===0?1:(Ue&2)!==0&&Ot!==0?Ot&-Ot:nS.transition!==null?(Tc===0&&(Tc=ja()),Tc):(s=Ve,s!==0||(s=window.event,s=s===void 0?16:mo(s.type)),s)}function zn(s,i,l,h){if(50<ml)throw ml=0,bf=null,Error(t(185));gi(s,l,h),((Ue&2)===0||s!==kt)&&(s===kt&&((Ue&2)===0&&(yc|=l),Tt===4&&Os(s,Ot)),rn(s,h),l===1&&Ue===0&&(i.mode&1)===0&&(Uo=Ze()+500,Yu&&Cs()))}function rn(s,i){var l=s.callbackNode;mi(s,i);var h=Nr(s,s===kt?Ot:0);if(h===0)l!==null&&ao(l),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(l!=null&&ao(l),i===1)s.tag===0?tS(r_.bind(null,s)):zg(r_.bind(null,s)),JT(function(){(Ue&6)===0&&Cs()}),l=null;else{switch(er(h)){case 1:l=lo;break;case 4:l=Oa;break;case 16:l=hi;break;case 536870912:l=uo;break;default:l=hi}l=h_(l,n_.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function n_(s,i){if(Ec=-1,Tc=0,(Ue&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Bo()&&s.callbackNode!==l)return null;var h=Nr(s,s===kt?Ot:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=Sc(s,h);else{i=h;var f=Ue;Ue|=2;var y=i_();(kt!==s||Ot!==i)&&($r=null,Uo=Ze()+500,Ni(s,i));do try{TS();break}catch(P){s_(s,P)}while(!0);Qd(),gc.current=y,Ue=f,_t!==null?i=0:(kt=null,Ot=0,i=Tt)}if(i!==0){if(i===2&&(f=La(s),f!==0&&(h=f,i=Of(s,f))),i===1)throw l=fl,Ni(s,0),Os(s,h),rn(s,Ze()),l;if(i===6)Os(s,h);else{if(f=s.current.alternate,(h&30)===0&&!wS(f)&&(i=Sc(s,h),i===2&&(y=La(s),y!==0&&(h=y,i=Of(s,y))),i===1))throw l=fl,Ni(s,0),Os(s,h),rn(s,Ze()),l;switch(s.finishedWork=f,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Pi(s,nn,$r);break;case 3:if(Os(s,h),(h&130023424)===h&&(i=Nf+500-Ze(),10<i)){if(Nr(s,0)!==0)break;if(f=s.suspendedLanes,(f&h)!==h){Jt(),s.pingedLanes|=s.suspendedLanes&f;break}s.timeoutHandle=Md(Pi.bind(null,s,nn,$r),i);break}Pi(s,nn,$r);break;case 4:if(Os(s,h),(h&4194240)===h)break;for(i=s.eventTimes,f=-1;0<h;){var T=31-dn(h);y=1<<T,T=i[T],T>f&&(f=T),h&=~y}if(h=f,h=Ze()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*vS(h/1960))-h,10<h){s.timeoutHandle=Md(Pi.bind(null,s,nn,$r),h);break}Pi(s,nn,$r);break;case 5:Pi(s,nn,$r);break;default:throw Error(t(329))}}}return rn(s,Ze()),s.callbackNode===l?n_.bind(null,s):null}function Of(s,i){var l=pl;return s.current.memoizedState.isDehydrated&&(Ni(s,i).flags|=256),s=Sc(s,i),s!==2&&(i=nn,nn=l,i!==null&&Df(i)),s}function Df(s){nn===null?nn=s:nn.push.apply(nn,s)}function wS(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],y=f.getSnapshot;f=f.value;try{if(!Vn(y(),f))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Os(s,i){for(i&=~Af,i&=~yc,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-dn(i),h=1<<l;s[l]=-1,i&=~h}}function r_(s){if((Ue&6)!==0)throw Error(t(327));Bo();var i=Nr(s,0);if((i&1)===0)return rn(s,Ze()),null;var l=Sc(s,i);if(s.tag!==0&&l===2){var h=La(s);h!==0&&(i=h,l=Of(s,h))}if(l===1)throw l=fl,Ni(s,0),Os(s,i),rn(s,Ze()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Pi(s,nn,$r),rn(s,Ze()),null}function Lf(s,i){var l=Ue;Ue|=1;try{return s(i)}finally{Ue=l,Ue===0&&(Uo=Ze()+500,Yu&&Cs())}}function Ai(s){Ps!==null&&Ps.tag===0&&(Ue&6)===0&&Bo();var i=Ue;Ue|=1;var l=kn.transition,h=Ve;try{if(kn.transition=null,Ve=1,s)return s()}finally{Ve=h,kn.transition=l,Ue=i,(Ue&6)===0&&Cs()}}function jf(){vn=Fo.current,tt(Fo)}function Ni(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,YT(l)),_t!==null)for(l=_t.return;l!==null;){var h=l;switch(Hd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Gu();break;case 3:jo(),tt(Zt),tt(Ut),rf();break;case 5:tf(h);break;case 4:jo();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:Yd(h.type._context);break;case 22:case 23:jf()}l=l.return}if(kt=s,_t=s=Ds(s.current,null),Ot=vn=i,Tt=0,fl=null,Af=yc=xi=0,nn=pl=null,Ri!==null){for(i=0;i<Ri.length;i++)if(l=Ri[i],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=f,h.next=T}l.pending=h}Ri=null}return s}function s_(s,i){do{var l=_t;try{if(Qd(),oc.current=cc,ac){for(var h=at.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}ac=!1}if(ki=0,Ct=Et=at=null,al=!1,ll=0,xf.current=null,l===null||l.return===null){Tt=1,fl=i,_t=null;break}e:{var y=s,T=l.return,P=l,M=i;if(i=Ot,P.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,re=P,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ce=Ay(T);if(ce!==null){ce.flags&=-257,Ny(ce,T,P,y,i),ce.mode&1&&xy(y,K,i),i=ce,M=K;var fe=i.updateQueue;if(fe===null){var pe=new Set;pe.add(M),i.updateQueue=pe}else fe.add(M);break e}else{if((i&1)===0){xy(y,K,i),Vf();break e}M=Error(t(426))}}else if(st&&P.mode&1){var pt=Ay(T);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Ny(pt,T,P,y,i),Kd(Vo(M,P));break e}}y=M=Vo(M,P),Tt!==4&&(Tt=2),pl===null?pl=[y]:pl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var z=Cy(y,M,i);Zg(y,z);break e;case 1:P=M;var F=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ns===null||!Ns.has(H)))){y.flags|=65536,i&=-i,y.lanes|=i;var ae=ky(y,P,i);Zg(y,ae);break e}}y=y.return}while(y!==null)}a_(l)}catch(ge){i=ge,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function i_(){var s=gc.current;return gc.current=cc,s===null?cc:s}function Vf(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),kt===null||(xi&268435455)===0&&(yc&268435455)===0||Os(kt,Ot)}function Sc(s,i){var l=Ue;Ue|=2;var h=i_();(kt!==s||Ot!==i)&&($r=null,Ni(s,i));do try{ES();break}catch(f){s_(s,f)}while(!0);if(Qd(),Ue=l,gc.current=h,_t!==null)throw Error(t(261));return kt=null,Ot=0,Tt}function ES(){for(;_t!==null;)o_(_t)}function TS(){for(;_t!==null&&!ci();)o_(_t)}function o_(s){var i=c_(s.alternate,s,vn);s.memoizedProps=s.pendingProps,i===null?a_(s):_t=i,xf.current=null}function a_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=pS(l,i,vn),l!==null){_t=l;return}}else{if(l=mS(l,i),l!==null){l.flags&=32767,_t=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Tt=6,_t=null;return}}if(i=i.sibling,i!==null){_t=i;return}_t=i=s}while(i!==null);Tt===0&&(Tt=5)}function Pi(s,i,l){var h=Ve,f=kn.transition;try{kn.transition=null,Ve=1,SS(s,i,l,h)}finally{kn.transition=f,Ve=h}return null}function SS(s,i,l,h){do Bo();while(Ps!==null);if((Ue&6)!==0)throw Error(t(327));l=s.finishedWork;var f=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(Td(s,y),s===kt&&(_t=kt=null,Ot=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||vc||(vc=!0,h_(hi,function(){return Bo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=kn.transition,kn.transition=null;var T=Ve;Ve=1;var P=Ue;Ue|=4,xf.current=null,yS(s,l),Jy(l,s),$T(jd),Or=!!Ld,jd=Ld=null,s.current=l,_S(l),Ar(),Ue=P,Ve=T,kn.transition=y}else s.current=l;if(vc&&(vc=!1,Ps=s,wc=f),y=s.pendingLanes,y===0&&(Ns=null),Nu(l.stateNode),rn(s,Ze()),i!==null)for(h=s.onRecoverableError,l=0;l<i.length;l++)f=i[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(_c)throw _c=!1,s=Pf,Pf=null,s;return(wc&1)!==0&&s.tag!==0&&Bo(),y=s.pendingLanes,(y&1)!==0?s===bf?ml++:(ml=0,bf=s):ml=0,Cs(),null}function Bo(){if(Ps!==null){var s=er(wc),i=kn.transition,l=Ve;try{if(kn.transition=null,Ve=16>s?16:s,Ps===null)var h=!1;else{if(s=Ps,Ps=null,wc=0,(Ue&6)!==0)throw Error(t(331));var f=Ue;for(Ue|=4,de=s.current;de!==null;){var y=de,T=y.child;if((de.flags&16)!==0){var P=y.deletions;if(P!==null){for(var M=0;M<P.length;M++){var K=P[M];for(de=K;de!==null;){var re=de;switch(re.tag){case 0:case 11:case 15:dl(8,re,y)}var ie=re.child;if(ie!==null)ie.return=re,de=ie;else for(;de!==null;){re=de;var ne=re.sibling,ce=re.return;if(qy(re),re===K){de=null;break}if(ne!==null){ne.return=ce,de=ne;break}de=ce}}}var fe=y.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var pt=pe.sibling;pe.sibling=null,pe=pt}while(pe!==null)}}de=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,de=T;else e:for(;de!==null;){if(y=de,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:dl(9,y,y.return)}var z=y.sibling;if(z!==null){z.return=y.return,de=z;break e}de=y.return}}var F=s.current;for(de=F;de!==null;){T=de;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,de=H;else e:for(T=F;de!==null;){if(P=de,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:mc(9,P)}}catch(ge){ht(P,P.return,ge)}if(P===T){de=null;break e}var ae=P.sibling;if(ae!==null){ae.return=P.return,de=ae;break e}de=P.return}}if(Ue=f,Cs(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(di,s)}catch{}h=!0}return h}finally{Ve=l,kn.transition=i}}return!1}function l_(s,i,l){i=Vo(l,i),i=Cy(s,i,1),s=xs(s,i,1),i=Jt(),s!==null&&(gi(s,1,i),rn(s,i))}function ht(s,i,l){if(s.tag===3)l_(s,s,l);else for(;i!==null;){if(i.tag===3){l_(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ns===null||!Ns.has(h))){s=Vo(l,s),s=ky(i,s,1),i=xs(i,s,1),s=Jt(),i!==null&&(gi(i,1,s),rn(i,s));break}}i=i.return}}function IS(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),i=Jt(),s.pingedLanes|=s.suspendedLanes&l,kt===s&&(Ot&l)===l&&(Tt===4||Tt===3&&(Ot&130023424)===Ot&&500>Ze()-Nf?Ni(s,0):Af|=l),rn(s,i)}function u_(s,i){i===0&&((s.mode&1)===0?i=1:(i=gs,gs<<=1,(gs&130023424)===0&&(gs=4194304)));var l=Jt();s=Ur(s,i),s!==null&&(gi(s,i,l),rn(s,l))}function RS(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),u_(s,l)}function CS(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,f=s.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),u_(s,l)}var c_;c_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||Zt.current)tn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return tn=!1,fS(s,i,l);tn=(s.flags&131072)!==0}else tn=!1,st&&(i.flags&1048576)!==0&&$g(i,Xu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;fc(s,i),s=i.pendingProps;var f=Ao(i,Ut.current);Lo(i,l),f=af(null,i,h,s,f,l);var y=lf();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,en(h)?(y=!0,Qu(i)):y=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Zd(i),f.updater=hc,i.stateNode=f,f._reactInternals=i,pf(i,h,s,l),i=_f(null,i,h,!0,y,l)):(i.tag=0,st&&y&&$d(i),Yt(null,i,f,l),i=i.child),i;case 16:h=i.elementType;e:{switch(fc(s,i),s=i.pendingProps,f=h._init,h=f(h._payload),i.type=h,f=i.tag=xS(h),s=Fn(h,s),f){case 0:i=yf(null,i,h,s,l);break e;case 1:i=jy(null,i,h,s,l);break e;case 11:i=Py(null,i,h,s,l);break e;case 14:i=by(null,i,h,Fn(h.type,s),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Fn(h,f),yf(s,i,h,f,l);case 1:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Fn(h,f),jy(s,i,h,f,l);case 3:e:{if(Vy(i),s===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,f=y.element,Xg(s,i),sc(i,h,null,l);var T=i.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){f=Vo(Error(t(423)),i),i=My(s,i,h,l,f);break e}else if(h!==f){f=Vo(Error(t(424)),i),i=My(s,i,h,l,f);break e}else for(_n=Ss(i.stateNode.containerInfo.firstChild),yn=i,st=!0,Mn=null,l=Yg(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(bo(),h===f){i=zr(s,i,l);break e}Yt(s,i,h,l)}i=i.child}return i;case 5:return ty(i),s===null&&qd(i),h=i.type,f=i.pendingProps,y=s!==null?s.memoizedProps:null,T=f.children,Vd(h,f)?T=null:y!==null&&Vd(h,y)&&(i.flags|=32),Ly(s,i),Yt(s,i,T,l),i.child;case 6:return s===null&&qd(i),null;case 13:return Fy(s,i,l);case 4:return ef(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Oo(i,null,h,l):Yt(s,i,h,l),i.child;case 11:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Fn(h,f),Py(s,i,h,f,l);case 7:return Yt(s,i,i.pendingProps,l),i.child;case 8:return Yt(s,i,i.pendingProps.children,l),i.child;case 12:return Yt(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,f=i.pendingProps,y=i.memoizedProps,T=f.value,Xe(tc,h._currentValue),h._currentValue=T,y!==null)if(Vn(y.value,T)){if(y.children===f.children&&!Zt.current){i=zr(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var P=y.dependencies;if(P!==null){T=y.child;for(var M=P.firstContext;M!==null;){if(M.context===h){if(y.tag===1){M=Br(-1,l&-l),M.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var re=K.pending;re===null?M.next=M:(M.next=re.next,re.next=M),K.pending=M}}y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),Jd(y.return,l,i),P.lanes|=l;break}M=M.next}}else if(y.tag===10)T=y.type===i.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,P=T.alternate,P!==null&&(P.lanes|=l),Jd(T,l,i),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===i){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Yt(s,i,f.children,l),i=i.child}return i;case 9:return f=i.type,h=i.pendingProps.children,Lo(i,l),f=Rn(f),h=h(f),i.flags|=1,Yt(s,i,h,l),i.child;case 14:return h=i.type,f=Fn(h,i.pendingProps),f=Fn(h.type,f),by(s,i,h,f,l);case 15:return Oy(s,i,i.type,i.pendingProps,l);case 17:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Fn(h,f),fc(s,i),i.tag=1,en(h)?(s=!0,Qu(i)):s=!1,Lo(i,l),Iy(i,h,f),pf(i,h,f,l),_f(null,i,h,!0,s,l);case 19:return By(s,i,l);case 22:return Dy(s,i,l)}throw Error(t(156,i.tag))};function h_(s,i){return ba(s,i)}function kS(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(s,i,l,h){return new kS(s,i,l,h)}function Mf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function xS(s){if(typeof s=="function")return Mf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===ze)return 14}return 2}function Ds(s,i){var l=s.alternate;return l===null?(l=xn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Ic(s,i,l,h,f,y){var T=2;if(h=s,typeof s=="function")Mf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case A:return bi(l.children,f,y,i);case S:T=8,f|=8;break;case C:return s=xn(12,l,i,f|2),s.elementType=C,s.lanes=y,s;case x:return s=xn(13,l,i,f),s.elementType=x,s.lanes=y,s;case _e:return s=xn(19,l,i,f),s.elementType=_e,s.lanes=y,s;case $e:return Rc(l,f,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case b:T=10;break e;case k:T=9;break e;case L:T=11;break e;case ze:T=14;break e;case qe:T=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=xn(T,l,i,f),i.elementType=s,i.type=h,i.lanes=y,i}function bi(s,i,l,h){return s=xn(7,s,h,i),s.lanes=l,s}function Rc(s,i,l,h){return s=xn(22,s,h,i),s.elementType=$e,s.lanes=l,s.stateNode={isHidden:!1},s}function Ff(s,i,l){return s=xn(6,s,null,i),s.lanes=l,s}function Uf(s,i,l){return i=xn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function AS(s,i,l,h,f){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Va(0),this.expirationTimes=Va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Bf(s,i,l,h,f,y,T,P,M){return s=new AS(s,i,l,P,M),i===1?(i=1,y===!0&&(i|=8)):i=0,y=xn(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(y),s}function NS(s,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:h==null?null:""+h,children:s,containerInfo:i,implementation:l}}function d_(s){if(!s)return Rs;s=s._reactInternals;e:{if(Ln(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(en(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(en(l))return Ug(s,l,i)}return i}function f_(s,i,l,h,f,y,T,P,M){return s=Bf(l,h,!0,s,f,y,T,P,M),s.context=d_(null),l=s.current,h=Jt(),f=bs(l),y=Br(h,f),y.callback=i??null,xs(l,y,f),s.current.lanes=f,gi(s,f,h),rn(s,h),s}function Cc(s,i,l,h){var f=i.current,y=Jt(),T=bs(f);return l=d_(l),i.context===null?i.context=l:i.pendingContext=l,i=Br(y,T),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=xs(f,i,T),s!==null&&(zn(s,f,T,y),rc(s,f,T)),T}function kc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function p_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function zf(s,i){p_(s,i),(s=s.alternate)&&p_(s,i)}function PS(){return null}var m_=typeof reportError=="function"?reportError:function(s){console.error(s)};function $f(s){this._internalRoot=s}xc.prototype.render=$f.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Cc(s,i,null,null)},xc.prototype.unmount=$f.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Ai(function(){Cc(null,s,null,null)}),i[jr]=null}};function xc(s){this._internalRoot=s}xc.prototype.unstable_scheduleHydration=function(s){if(s){var i=Ba();s={blockedOn:null,target:s,priority:i};for(var l=0;l<fn.length&&i!==0&&i<fn[l].priority;l++);fn.splice(l,0,s),l===0&&fo(s)}};function Hf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ac(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function g_(){}function bS(s,i,l,h,f){if(f){if(typeof h=="function"){var y=h;h=function(){var K=kc(T);y.call(K)}}var T=f_(i,h,s,0,null,!1,!1,"",g_);return s._reactRootContainer=T,s[jr]=T.current,Za(s.nodeType===8?s.parentNode:s),Ai(),T}for(;f=s.lastChild;)s.removeChild(f);if(typeof h=="function"){var P=h;h=function(){var K=kc(M);P.call(K)}}var M=Bf(s,0,!1,null,null,!1,!1,"",g_);return s._reactRootContainer=M,s[jr]=M.current,Za(s.nodeType===8?s.parentNode:s),Ai(function(){Cc(i,M,l,h)}),M}function Nc(s,i,l,h,f){var y=l._reactRootContainer;if(y){var T=y;if(typeof f=="function"){var P=f;f=function(){var M=kc(T);P.call(M)}}Cc(i,T,s,f)}else T=bS(l,i,s,f,h);return kc(T)}Fa=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ke(i.pendingLanes);l!==0&&(Ma(i,l|1),rn(i,Ze()),(Ue&6)===0&&(Uo=Ze()+500,Cs()))}break;case 13:Ai(function(){var h=Ur(s,1);if(h!==null){var f=Jt();zn(h,s,1,f)}}),zf(s,1)}},co=function(s){if(s.tag===13){var i=Ur(s,134217728);if(i!==null){var l=Jt();zn(i,s,134217728,l)}zf(s,134217728)}},Ua=function(s){if(s.tag===13){var i=bs(s),l=Ur(s,i);if(l!==null){var h=Jt();zn(l,s,i,h)}zf(s,i)}},Ba=function(){return Ve},za=function(s,i){var l=Ve;try{return Ve=s,i()}finally{Ve=l}},Cr=function(s,i,l){switch(i){case"input":if(oi(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var f=Ku(h);if(!f)throw Error(t(90));Sa(h),oi(h,f)}}}break;case"textarea":_u(s,l);break;case"select":i=l.value,i!=null&&On(s,!!l.multiple,i,!1)}},Eu=Lf,Tu=Ai;var OS={usingClientEntryPoint:!1,Events:[nl,ko,Ku,ds,fs,Lf]},gl={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DS={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Au(s),s===null?null:s.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||PS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{di=Pc.inject(DS),hn=Pc}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OS,sn.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(i))throw Error(t(200));return NS(s,i,null,l)},sn.createRoot=function(s,i){if(!Hf(s))throw Error(t(299));var l=!1,h="",f=m_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Bf(s,1,!1,null,null,l,!1,h,f),s[jr]=i.current,Za(s.nodeType===8?s.parentNode:s),new $f(i)},sn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Au(i),s=s===null?null:s.stateNode,s},sn.flushSync=function(s){return Ai(s)},sn.hydrate=function(s,i,l){if(!Ac(i))throw Error(t(200));return Nc(null,s,i,!0,l)},sn.hydrateRoot=function(s,i,l){if(!Hf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,y="",T=m_;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),i=f_(i,null,s,1,l??null,f,!1,y,T),s[jr]=i.current,Za(s),h)for(s=0;s<h.length;s++)l=h[s],f=l._getVersion,f=f(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,f]:i.mutableSourceEagerHydrationData.push(l,f);return new xc(i)},sn.render=function(s,i,l){if(!Ac(i))throw Error(t(200));return Nc(null,s,i,!1,l)},sn.unmountComponentAtNode=function(s){if(!Ac(s))throw Error(t(40));return s._reactRootContainer?(Ai(function(){Nc(null,null,s,!1,function(){s._reactRootContainer=null,s[jr]=null})}),!0):!1},sn.unstable_batchedUpdates=Lf,sn.unstable_renderSubtreeIntoContainer=function(s,i,l,h){if(!Ac(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Nc(s,i,l,!1,h)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var I_;function $S(){if(I_)return Kf.exports;I_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kf.exports=zS(),Kf.exports}var R_;function HS(){if(R_)return bc;R_=1;var n=$S();return bc.createRoot=n.createRoot,bc.hydrateRoot=n.hydrateRoot,bc}var WS=HS(),Yf={exports:{}},Jf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function qS(){if(C_)return Jf;C_=1;var n=Bh();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,o=n.useRef,a=n.useEffect,u=n.useMemo,d=n.useDebugValue;return Jf.useSyncExternalStoreWithSelector=function(m,g,v,E,I){var D=o(null);if(D.current===null){var O={hasValue:!1,value:null};D.current=O}else O=D.current;D=u(function(){function N(q){if(!B){if(B=!0,Y=q,q=E(q),I!==void 0&&O.hasValue){var se=O.value;if(I(se,q))return W=se}return W=q}if(se=W,t(Y,q))return se;var A=E(q);return I!==void 0&&I(se,A)?(Y=q,se):(Y=q,W=A)}var B=!1,Y,W,X=v===void 0?null:v;return[function(){return N(g())},X===null?void 0:function(){return N(X())}]},[g,v,E,I]);var j=r(m,D[0],D[1]);return a(function(){O.hasValue=!0,O.value=j},[j]),d(j),j},Jf}var k_;function KS(){return k_||(k_=1,Yf.exports=qS()),Yf.exports}var GS=KS();function QS(n){n()}function YS(){let n=null,e=null;return{clear(){n=null,e=null},notify(){QS(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!r||n===null||(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var x_={notify(){},get:()=>[]};function JS(n,e){let t,r=x_,o=0,a=!1;function u(j){v();const N=r.subscribe(j);let B=!1;return()=>{B||(B=!0,N(),E())}}function d(){r.notify()}function m(){O.onStateChange&&O.onStateChange()}function g(){return a}function v(){o++,t||(t=n.subscribe(m),r=YS())}function E(){o--,t&&o===0&&(t(),t=void 0,r.clear(),r=x_)}function I(){a||(a=!0,v())}function D(){a&&(a=!1,E())}const O={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:I,tryUnsubscribe:D,getListeners:()=>r};return O}var XS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZS=XS(),e2=()=>typeof navigator<"u"&&navigator.product==="ReactNative",t2=e2(),n2=()=>ZS||t2?V.useLayoutEffect:V.useEffect,r2=n2(),Xf=Symbol.for("react-redux-context"),Zf=typeof globalThis<"u"?globalThis:{};function s2(){if(!V.createContext)return{};const n=Zf[Xf]??(Zf[Xf]=new Map);let e=n.get(V.createContext);return e||(e=V.createContext(null),n.set(V.createContext,e)),e}var Qs=s2();function i2(n){const{children:e,context:t,serverState:r,store:o}=n,a=V.useMemo(()=>{const m=JS(o);return{store:o,subscription:m,getServerState:r?()=>r:void 0}},[o,r]),u=V.useMemo(()=>o.getState(),[o]);r2(()=>{const{subscription:m}=a;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[a,u]);const d=t||Qs;return V.createElement(d.Provider,{value:a},e)}var o2=i2;function am(n=Qs){return function(){return V.useContext(n)}}var B0=am();function z0(n=Qs){const e=n===Qs?B0:am(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var a2=z0();function l2(n=Qs){const e=n===Qs?a2:z0(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var lm=l2(),u2=(n,e)=>n===e;function c2(n=Qs){const e=n===Qs?B0:am(n),t=(r,o={})=>{const{equalityFn:a=u2}=typeof o=="function"?{equalityFn:o}:o,u=e(),{store:d,subscription:m,getServerState:g}=u;V.useRef(!0);const v=V.useCallback({[r.name](I){return r(I)}}[r.name],[r]),E=GS.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,v,a);return V.useDebugValue(E),E};return Object.assign(t,{withTypes:()=>t}),t}var Gi=c2();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A_="popstate";function h2(n={}){function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return Tp("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Ll(o)}return f2(e,t,null,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d2(){return Math.random().toString(36).substring(2,10)}function N_(n,e){return{usr:n.state,key:n.key,idx:e}}function Tp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:t,key:e&&e.key||r||d2()}}function Ll({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ha(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function f2(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function E(){d="POP";let N=v(),B=N==null?null:N-g;g=N,m&&m({action:d,location:j.location,delta:B})}function I(N,B){d="PUSH";let Y=Tp(j.location,N,B);g=v()+1;let W=N_(Y,g),X=j.createHref(Y);try{u.pushState(W,"",X)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(X)}a&&m&&m({action:d,location:j.location,delta:1})}function D(N,B){d="REPLACE";let Y=Tp(j.location,N,B);g=v();let W=N_(Y,g),X=j.createHref(Y);u.replaceState(W,"",X),a&&m&&m({action:d,location:j.location,delta:0})}function O(N){return p2(N)}let j={get action(){return d},get location(){return n(o,u)},listen(N){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(A_,E),m=N,()=>{o.removeEventListener(A_,E),m=null}},createHref(N){return e(o,N)},createURL:O,encodeLocation(N){let B=O(N);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:I,replace:D,go(N){return u.go(N)}};return j}function p2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ll(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function $0(n,e,t="/"){return m2(n,e,t,!1)}function m2(n,e,t,r){let o=typeof e=="string"?ha(e):e,a=Jr(o.pathname||"/",t);if(a==null)return null;let u=H0(n);g2(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let g=k2(a);d=R2(u[m],g,r)}return d}function H0(n,e=[],t=[],r="",o=!1){let a=(u,d,m=o,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;lt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let E=Kr([r,v.relativePath]),I=t.concat(v);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),H0(u.children,e,I,E,m)),!(u.path==null&&!u.index)&&e.push({path:E,score:S2(E,u.index),routesMeta:I})};return n.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,d);else for(let g of W0(u.path))a(u,d,!0,g)}),e}function W0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=W0(r.join("/")),d=[];return d.push(...u.map(m=>m===""?a:[a,m].join("/"))),o&&d.push(...u),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function g2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:I2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var y2=/^:[\w-]+$/,_2=3,v2=2,w2=1,E2=10,T2=-2,P_=n=>n==="*";function S2(n,e){let t=n.split("/"),r=t.length;return t.some(P_)&&(r+=T2),e&&(r+=v2),t.filter(o=>!P_(o)).reduce((o,a)=>o+(y2.test(a)?_2:a===""?w2:E2),r)}function I2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function R2(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=ah({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),I=m.route;if(!E&&g&&t&&!r[r.length-1].route.index&&(E=ah({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:Kr([a,E.pathname]),pathnameBase:P2(Kr([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=Kr([a,E.pathnameBase]))}return u}function ah(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=C2(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:E},I)=>{if(v==="*"){let O=d[I]||"";u=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const D=d[I];return E&&!D?g[v]=void 0:g[v]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:n}}function C2(n,e=!1,t=!0){qn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function k2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Jr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x2=n=>q0.test(n);function A2(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?ha(n):n,a;if(t)if(x2(t))a=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?a=b_(t.substring(1),"/"):a=b_(t,e)}else a=e;return{pathname:a,search:b2(r),hash:O2(o)}}function b_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ep(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function K0(n){let e=N2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function G0(n,e,t,r=!1){let o;typeof n=="string"?o=ha(n):(o={...n},lt(!o.pathname||!o.pathname.includes("?"),ep("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),ep("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),ep("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}d=E>=0?e[E]:"/"}let m=A2(o,d),g=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Kr=n=>n.join("/").replace(/\/\/+/g,"/"),P2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),b2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,O2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,D2=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function L2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function j2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Y0(n,e){let t=n;if(typeof t!="string"||!q0.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,o=!1;if(Q0)try{let a=new URL(window.location.href),u=t.startsWith("//")?new URL(a.protocol+t):new URL(t),d=Jr(u.pathname,e);u.origin===a.origin&&d!=null?t=d+u.search+u.hash:o=!0}catch{qn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J0=["POST","PUT","PATCH","DELETE"];new Set(J0);var V2=["GET",...J0];new Set(V2);var da=V.createContext(null);da.displayName="DataRouter";var zh=V.createContext(null);zh.displayName="DataRouterState";var M2=V.createContext(!1),X0=V.createContext({isTransitioning:!1});X0.displayName="ViewTransition";var F2=V.createContext(new Map);F2.displayName="Fetchers";var U2=V.createContext(null);U2.displayName="Await";var bn=V.createContext(null);bn.displayName="Navigation";var Gl=V.createContext(null);Gl.displayName="Location";var Rr=V.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var um=V.createContext(null);um.displayName="RouteError";var Z0="REACT_ROUTER_ERROR",B2="REDIRECT",z2="ROUTE_ERROR_RESPONSE";function $2(n){if(n.startsWith(`${Z0}:${B2}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function H2(n){if(n.startsWith(`${Z0}:${z2}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new D2(e.status,e.statusText,e.data)}catch{}}function W2(n,{relative:e}={}){lt(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=V.useContext(bn),{hash:o,pathname:a,search:u}=Jl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Kr([t,a])),r.createHref({pathname:d,search:u,hash:o})}function Ql(){return V.useContext(Gl)!=null}function si(){return lt(Ql(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Gl).location}var e1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t1(n){V.useContext(bn).static||V.useLayoutEffect(n)}function Yl(){let{isDataRoute:n}=V.useContext(Rr);return n?sI():q2()}function q2(){lt(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(da),{basename:e,navigator:t}=V.useContext(bn),{matches:r}=V.useContext(Rr),{pathname:o}=si(),a=JSON.stringify(K0(r)),u=V.useRef(!1);return t1(()=>{u.current=!0}),V.useCallback((m,g={})=>{if(qn(u.current,e1),!u.current)return;if(typeof m=="number"){t.go(m);return}let v=G0(m,JSON.parse(a),o,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Kr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,a,o,n])}V.createContext(null);function n1(){let{matches:n}=V.useContext(Rr),e=n[n.length-1];return e?e.params:{}}function Jl(n,{relative:e}={}){let{matches:t}=V.useContext(Rr),{pathname:r}=si(),o=JSON.stringify(K0(t));return V.useMemo(()=>G0(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function K2(n,e){return r1(n,e)}function r1(n,e,t,r,o){var Y;lt(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=V.useContext(bn),{matches:u}=V.useContext(Rr),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let W=E&&E.path||"";i1(g,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let I=si(),D;if(e){let W=typeof e=="string"?ha(e):e;lt(v==="/"||((Y=W.pathname)==null?void 0:Y.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),D=W}else D=I;let O=D.pathname||"/",j=O;if(v!=="/"){let W=v.replace(/^\//,"").split("/");j="/"+O.replace(/^\//,"").split("/").slice(W.length).join("/")}let N=$0(n,{pathname:j});qn(E||N!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),qn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=X2(N&&N.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:Kr([v,a.encodeLocation?a.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:Kr([v,a.encodeLocation?a.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),u,t,r,o);return e&&B?V.createElement(Gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},B):B}function G2(){let n=rI(),e=L2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,u)}var Q2=V.createElement(G2,null),s1=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=H2(n.digest);t&&(n=t)}let e=n!==void 0?V.createElement(Rr.Provider,{value:this.props.routeContext},V.createElement(um.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?V.createElement(Y2,{error:n},e):e}};s1.contextType=M2;var tp=new WeakMap;function Y2({children:n,error:e}){let{basename:t}=V.useContext(bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=$2(e.digest);if(r){let o=tp.get(e);if(o)throw o;let a=Y0(r.location,t);if(Q0&&!tp.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw tp.set(e,u),u}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function J2({routeContext:n,match:e,children:t}){let r=V.useContext(da);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Rr.Provider,{value:n},t)}function X2(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let v=a.findIndex(E=>E.route.id&&(u==null?void 0:u[E.route.id])!==void 0);lt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let d=!1,m=-1;if(t)for(let v=0;v<a.length;v++){let E=a[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=v),E.route.id){let{loaderData:I,errors:D}=t,O=E.route.loader&&!I.hasOwnProperty(E.route.id)&&(!D||D[E.route.id]===void 0);if(E.route.lazy||O){d=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}let g=t&&r?(v,E)=>{var I,D;r(v,{location:t.location,params:((D=(I=t.matches)==null?void 0:I[0])==null?void 0:D.params)??{},unstable_pattern:j2(t.matches),errorInfo:E})}:void 0;return a.reduceRight((v,E,I)=>{let D,O=!1,j=null,N=null;t&&(D=u&&E.route.id?u[E.route.id]:void 0,j=E.route.errorElement||Q2,d&&(m<0&&I===0?(i1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,N=null):m===I&&(O=!0,N=E.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,I+1)),Y=()=>{let W;return D?W=j:O?W=N:E.route.Component?W=V.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=v,V.createElement(J2,{match:E,routeContext:{outlet:v,matches:B,isDataRoute:t!=null},children:W})};return t&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?V.createElement(s1,{location:t.location,revalidation:t.revalidation,component:j,error:D,children:Y(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:g}):Y()},null)}function cm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z2(n){let e=V.useContext(da);return lt(e,cm(n)),e}function eI(n){let e=V.useContext(zh);return lt(e,cm(n)),e}function tI(n){let e=V.useContext(Rr);return lt(e,cm(n)),e}function hm(n){let e=tI(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function nI(){return hm("useRouteId")}function rI(){var r;let n=V.useContext(um),e=eI("useRouteError"),t=hm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function sI(){let{router:n}=Z2("useNavigate"),e=hm("useNavigate"),t=V.useRef(!1);return t1(()=>{t.current=!0}),V.useCallback(async(o,a={})=>{qn(t.current,e1),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var O_={};function i1(n,e,t){!e&&!O_[n]&&(O_[n]=!0,qn(!1,t))}V.memo(iI);function iI({routes:n,future:e,state:t,onError:r}){return r1(n,void 0,t,r,e)}function Vs(n){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1,unstable_useTransitions:u}){lt(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:d,navigator:o,static:a,unstable_useTransitions:u,future:{}}),[d,o,a,u]);typeof t=="string"&&(t=ha(t));let{pathname:g="/",search:v="",hash:E="",state:I=null,key:D="default"}=t,O=V.useMemo(()=>{let j=Jr(g,d);return j==null?null:{location:{pathname:j,search:v,hash:E,state:I,key:D},navigationType:r}},[d,g,v,E,I,D,r]);return qn(O!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:V.createElement(bn.Provider,{value:m},V.createElement(Gl.Provider,{children:e,value:O}))}function aI({children:n,location:e}){return K2(Sp(n),e)}function Sp(n,e=[]){let t=[];return V.Children.forEach(n,(r,o)=>{if(!V.isValidElement(r))return;let a=[...e,o];if(r.type===V.Fragment){t.push.apply(t,Sp(r.props.children,a));return}lt(r.type===Vs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Sp(r.props.children,a)),t.push(u)}),t}var Hc="get",Wc="application/x-www-form-urlencoded";function $h(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function lI(n){return $h(n)&&n.tagName.toLowerCase()==="button"}function uI(n){return $h(n)&&n.tagName.toLowerCase()==="form"}function cI(n){return $h(n)&&n.tagName.toLowerCase()==="input"}function hI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dI(n,e){return n.button===0&&(!e||e==="_self")&&!hI(n)}var Oc=null;function fI(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var pI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function np(n){return n!=null&&!pI.has(n)?(qn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):n}function mI(n,e){let t,r,o,a,u;if(uI(n)){let d=n.getAttribute("action");r=d?Jr(d,e):null,t=n.getAttribute("method")||Hc,o=np(n.getAttribute("enctype"))||Wc,a=new FormData(n)}else if(lI(n)||cI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(r=m?Jr(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Hc,o=np(n.getAttribute("formenctype"))||np(d.getAttribute("enctype"))||Wc,a=new FormData(d,n),!fI()){let{name:g,type:v,value:E}=n;if(v==="image"){let I=g?`${g}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else g&&a.append(g,E)}}else{if($h(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hc,r=null,o=Wc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gI(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Jr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function yI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _I(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vI(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await yI(a,t);return u.links?u.links():[]}return[]}));return SI(r.flat(1).filter(_I).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function D_(n,e,t,r,o,a){let u=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return a==="assets"?e.filter((m,g)=>u(m,g)||d(m,g)):a==="data"?e.filter((m,g)=>{var E;let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let I=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function wI(n,e,{includeHydrateFallback:t}={}){return EI(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function EI(n){return[...new Set(n)]}function TI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function SI(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(TI(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function o1(){let n=V.useContext(da);return dm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function II(){let n=V.useContext(zh);return dm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fm=V.createContext(void 0);fm.displayName="FrameworkContext";function a1(){let n=V.useContext(fm);return dm(n,"You must render this element inside a <HydratedRouter> element"),n}function RI(n,e){let t=V.useContext(fm),[r,o]=V.useState(!1),[a,u]=V.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,I=V.useRef(null);V.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let j=B=>{B.forEach(Y=>{u(Y.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return I.current&&N.observe(I.current),()=>{N.disconnect()}}},[n]),V.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let D=()=>{o(!0)},O=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:_l(d,D),onBlur:_l(m,O),onMouseEnter:_l(g,D),onMouseLeave:_l(v,O),onTouchStart:_l(E,D)}]:[!1,I,{}]}function _l(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function CI({page:n,...e}){let{router:t}=o1(),r=V.useMemo(()=>$0(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?V.createElement(xI,{page:n,matches:r,...e}):null}function kI(n){let{manifest:e,routeModules:t}=a1(),[r,o]=V.useState([]);return V.useEffect(()=>{let a=!1;return vI(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function xI({page:n,matches:e,...t}){let r=si(),{manifest:o,routeModules:a}=a1(),{basename:u}=o1(),{loaderData:d,matches:m}=II(),g=V.useMemo(()=>D_(n,e,m,o,r,"data"),[n,e,m,o,r]),v=V.useMemo(()=>D_(n,e,m,o,r,"assets"),[n,e,m,o,r]),E=V.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let O=new Set,j=!1;if(e.forEach(B=>{var W;let Y=o.routes[B.route.id];!Y||!Y.hasLoader||(!g.some(X=>X.route.id===B.route.id)&&B.route.id in d&&((W=a[B.route.id])!=null&&W.shouldRevalidate)||Y.hasClientLoader?j=!0:O.add(B.route.id))}),O.size===0)return[];let N=gI(n,u,"data");return j&&O.size>0&&N.searchParams.set("_routes",e.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[N.pathname+N.search]},[u,d,r,o,g,e,n,a]),I=V.useMemo(()=>wI(v,o),[v,o]),D=kI(v);return V.createElement(V.Fragment,null,E.map(O=>V.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),I.map(O=>V.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),D.map(({key:O,link:j})=>V.createElement("link",{key:O,nonce:t.nonce,...j})))}function AI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NI&&(window.__reactRouterVersion="7.11.0")}catch{}function PI({basename:n,children:e,unstable_useTransitions:t,window:r}){let o=V.useRef();o.current==null&&(o.current=h2({window:r,v5Compat:!0}));let a=o.current,[u,d]=V.useState({action:a.action,location:a.location}),m=V.useCallback(g=>{t===!1?d(g):V.startTransition(()=>d(g))},[t]);return V.useLayoutEffect(()=>a.listen(m),[a,m]),V.createElement(oI,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:t})}var l1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=V.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:d,target:m,to:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:I,...D},O){let{basename:j,unstable_useTransitions:N}=V.useContext(bn),B=typeof g=="string"&&l1.test(g),Y=Y0(g,j);g=Y.to;let W=W2(g,{relative:o}),[X,q,se]=RI(r,D),A=LI(g,{replace:u,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:I,unstable_useTransitions:N});function S(b){e&&e(b),b.defaultPrevented||A(b)}let C=V.createElement("a",{...D,...se,href:Y.absoluteURL||W,onClick:Y.isExternal||a?e:S,ref:AI(O,q),target:m,"data-discover":!B&&t==="render"?"true":void 0});return X&&!B?V.createElement(V.Fragment,null,C,V.createElement(CI,{page:W})):C});Vt.displayName="Link";var bI=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:d,children:m,...g},v){let E=Jl(u,{relative:g.relative}),I=si(),D=V.useContext(zh),{navigator:O,basename:j}=V.useContext(bn),N=D!=null&&UI(E)&&d===!0,B=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,Y=I.pathname,W=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),W=W?W.toLowerCase():null,B=B.toLowerCase()),W&&j&&(W=Jr(W,j)||W);const X=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let q=Y===B||!o&&Y.startsWith(B)&&Y.charAt(X)==="/",se=W!=null&&(W===B||!o&&W.startsWith(B)&&W.charAt(B.length)==="/"),A={isActive:q,isPending:se,isTransitioning:N},S=q?e:void 0,C;typeof r=="function"?C=r(A):C=[r,q?"active":null,se?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(A):a;return V.createElement(Vt,{...g,"aria-current":S,className:C,ref:v,style:b,to:u,viewTransition:d},typeof m=="function"?m(A):m)});bI.displayName="NavLink";var OI=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Hc,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:I,...D},O)=>{let{unstable_useTransitions:j}=V.useContext(bn),N=MI(),B=FI(d,{relative:g}),Y=u.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&l1.test(d),X=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let se=q.nativeEvent.submitter,A=(se==null?void 0:se.getAttribute("formmethod"))||u,S=()=>N(se||q.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:o,state:a,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:I});j&&t!==!1?V.startTransition(()=>S()):S()};return V.createElement("form",{ref:O,method:Y,action:B,onSubmit:r?m:X,...D,"data-discover":!W&&n==="render"?"true":void 0})});OI.displayName="Form";function DI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(n){let e=V.useContext(da);return lt(e,DI(n)),e}function LI(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=Yl(),v=si(),E=Jl(n,{relative:a});return V.useCallback(I=>{if(dI(I,e)){I.preventDefault();let D=t!==void 0?t:Ll(v)===Ll(E),O=()=>g(n,{replace:D,state:r,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d});m?V.startTransition(()=>O()):O()}},[v,g,E,t,r,e,n,o,a,u,d,m])}var jI=0,VI=()=>`__${String(++jI)}__`;function MI(){let{router:n}=u1("useSubmit"),{basename:e}=V.useContext(bn),t=nI(),r=n.fetch,o=n.navigate;return V.useCallback(async(a,u={})=>{let{action:d,method:m,encType:g,formData:v,body:E}=mI(a,e);if(u.navigate===!1){let I=u.fetcherKey||VI();await r(I,t,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||m,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:E,formMethod:u.method||m,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,t])}function FI(n,{relative:e}={}){let{basename:t}=V.useContext(bn),r=V.useContext(Rr);lt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Jl(n||".",{relative:e})},u=si();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Kr([t,a.pathname])),Ll(a)}function UI(n,{relative:e}={}){let t=V.useContext(X0);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=u1("useViewTransitionState"),o=Jl(n,{relative:e});if(!t.isTransitioning)return!1;let a=Jr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Jr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ah(o.pathname,u)!=null||ah(o.pathname,a)!=null}function Dt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var BI=typeof Symbol=="function"&&Symbol.observable||"@@observable",L_=BI,rp=()=>Math.random().toString(36).substring(7).split("").join("."),zI={INIT:`@@redux/INIT${rp()}`,REPLACE:`@@redux/REPLACE${rp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rp()}`},lh=zI;function pm(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function c1(n,e,t){if(typeof n!="function")throw new Error(Dt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Dt(1));return t(c1)(n,e)}let r=n,o=e,a=new Map,u=a,d=0,m=!1;function g(){u===a&&(u=new Map,a.forEach((N,B)=>{u.set(B,N)}))}function v(){if(m)throw new Error(Dt(3));return o}function E(N){if(typeof N!="function")throw new Error(Dt(4));if(m)throw new Error(Dt(5));let B=!0;g();const Y=d++;return u.set(Y,N),function(){if(B){if(m)throw new Error(Dt(6));B=!1,g(),u.delete(Y),a=null}}}function I(N){if(!pm(N))throw new Error(Dt(7));if(typeof N.type>"u")throw new Error(Dt(8));if(typeof N.type!="string")throw new Error(Dt(17));if(m)throw new Error(Dt(9));try{m=!0,o=r(o,N)}finally{m=!1}return(a=u).forEach(Y=>{Y()}),N}function D(N){if(typeof N!="function")throw new Error(Dt(10));r=N,I({type:lh.REPLACE})}function O(){const N=E;return{subscribe(B){if(typeof B!="object"||B===null)throw new Error(Dt(11));function Y(){const X=B;X.next&&X.next(v())}return Y(),{unsubscribe:N(Y)}},[L_](){return this}}}return I({type:lh.INIT}),{dispatch:I,subscribe:E,getState:v,replaceReducer:D,[L_]:O}}function $I(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:lh.INIT})>"u")throw new Error(Dt(12));if(typeof t(void 0,{type:lh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function HI(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const u=e[a];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let o;try{$I(t)}catch(a){o=a}return function(u={},d){if(o)throw o;let m=!1;const g={};for(let v=0;v<r.length;v++){const E=r[v],I=t[E],D=u[E],O=I(D,d);if(typeof O>"u")throw d&&d.type,new Error(Dt(14));g[E]=O,m=m||O!==D}return m=m||r.length!==Object.keys(u).length,m?g:u}}function uh(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function WI(...n){return e=>(t,r)=>{const o=e(t,r);let a=()=>{throw new Error(Dt(15))};const u={getState:o.getState,dispatch:(m,...g)=>a(m,...g)},d=n.map(m=>m(u));return a=uh(...d)(o.dispatch),{...o,dispatch:a}}}function qI(n){return pm(n)&&"type"in n&&typeof n.type=="string"}var h1=Symbol.for("immer-nothing"),j_=Symbol.for("immer-draftable"),Xt=Symbol.for("immer-state");function $n(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var wn=Object,ea=wn.getPrototypeOf,ch="constructor",Hh="prototype",Ip="configurable",hh="enumerable",qc="writable",jl="value",Xr=n=>!!n&&!!n[Xt];function Kn(n){var e;return n?d1(n)||qh(n)||!!n[j_]||!!((e=n[ch])!=null&&e[j_])||Kh(n)||Gh(n):!1}var KI=wn[Hh][ch].toString(),V_=new WeakMap;function d1(n){if(!n||!mm(n))return!1;const e=ea(n);if(e===null||e===wn[Hh])return!0;const t=wn.hasOwnProperty.call(e,ch)&&e[ch];if(t===Object)return!0;if(!zo(t))return!1;let r=V_.get(t);return r===void 0&&(r=Function.toString.call(t),V_.set(t,r)),r===KI}function Wh(n,e,t=!0){Xl(n)===0?(t?Reflect.ownKeys(n):wn.keys(n)).forEach(o=>{e(o,n[o],n)}):n.forEach((r,o)=>e(o,r,n))}function Xl(n){const e=n[Xt];return e?e.type_:qh(n)?1:Kh(n)?2:Gh(n)?3:0}var M_=(n,e,t=Xl(n))=>t===2?n.has(e):wn[Hh].hasOwnProperty.call(n,e),Rp=(n,e,t=Xl(n))=>t===2?n.get(e):n[e],dh=(n,e,t,r=Xl(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function GI(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var qh=Array.isArray,Kh=n=>n instanceof Map,Gh=n=>n instanceof Set,mm=n=>typeof n=="object",zo=n=>typeof n=="function",sp=n=>typeof n=="boolean";function QI(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var Hr=n=>n.copy_||n.base_,gm=n=>n.modified_?n.copy_:n.base_;function Cp(n,e){if(Kh(n))return new Map(n);if(Gh(n))return new Set(n);if(qh(n))return Array[Hh].slice.call(n);const t=d1(n);if(e===!0||e==="class_only"&&!t){const r=wn.getOwnPropertyDescriptors(n);delete r[Xt];let o=Reflect.ownKeys(r);for(let a=0;a<o.length;a++){const u=o[a],d=r[u];d[qc]===!1&&(d[qc]=!0,d[Ip]=!0),(d.get||d.set)&&(r[u]={[Ip]:!0,[qc]:!0,[hh]:d[hh],[jl]:n[u]})}return wn.create(ea(n),r)}else{const r=ea(n);if(r!==null&&t)return{...n};const o=wn.create(r);return wn.assign(o,n)}}function ym(n,e=!1){return Qh(n)||Xr(n)||!Kn(n)||(Xl(n)>1&&wn.defineProperties(n,{set:Dc,add:Dc,clear:Dc,delete:Dc}),wn.freeze(n),e&&Wh(n,(t,r)=>{ym(r,!0)},!1)),n}function YI(){$n(2)}var Dc={[jl]:YI};function Qh(n){return n===null||!mm(n)?!0:wn.isFrozen(n)}var fh="MapSet",kp="Patches",F_="ArrayMethods",f1={};function Fi(n){const e=f1[n];return e||$n(0,n),e}var U_=n=>!!f1[n],Vl,p1=()=>Vl,JI=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:U_(fh)?Fi(fh):void 0,arrayMethodsPlugin_:U_(F_)?Fi(F_):void 0});function B_(n,e){e&&(n.patchPlugin_=Fi(kp),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function xp(n){Ap(n),n.drafts_.forEach(XI),n.drafts_=null}function Ap(n){n===Vl&&(Vl=n.parent_)}var z_=n=>Vl=JI(Vl,n);function XI(n){const e=n[Xt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $_(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[Xt].modified_&&(xp(e),$n(4)),Kn(n)&&(n=H_(e,n));const{patchPlugin_:o}=e;o&&o.generateReplacementPatches_(t[Xt].base_,n,e)}else n=H_(e,t);return ZI(e,n,!0),xp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==h1?n:void 0}function H_(n,e){if(Qh(e))return e;const t=e[Xt];if(!t)return ph(e,n.handledSet_,n);if(!Yh(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);y1(t,n)}return t.copy_}function ZI(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&ym(e,t)}function m1(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Yh=(n,e)=>n.scope_===e,eR=[];function g1(n,e,t,r){const o=Hr(n),a=n.type_;if(r!==void 0&&Rp(o,r,a)===e){dh(o,r,t,a);return}if(!n.draftLocations_){const d=n.draftLocations_=new Map;Wh(o,(m,g)=>{if(Xr(g)){const v=d.get(g)||[];v.push(m),d.set(g,v)}})}const u=n.draftLocations_.get(e)??eR;for(const d of u)dh(o,d,t,a)}function tR(n,e,t){n.callbacks_.push(function(o){var d;const a=e;if(!a||!Yh(a,o))return;(d=o.mapSetPlugin_)==null||d.fixSetContents(a);const u=gm(a);g1(n,a.draft_??a,u,t),y1(a,o)})}function y1(n,e){var r;if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(((r=n.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:o}=e;if(o){const a=o.getPath(n);a&&o.generatePatches_(n,a,e)}m1(n)}}function nR(n,e,t){const{scope_:r}=n;if(Xr(t)){const o=t[Xt];Yh(o,r)&&o.callbacks_.push(function(){Kc(n);const u=gm(o);g1(n,t,u,e)})}else Kn(t)&&n.callbacks_.push(function(){const a=Hr(n);n.type_===3?a.has(t)&&ph(t,r.handledSet_,r):Rp(a,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&ph(Rp(n.copy_,e,n.type_),r.handledSet_,r)})}function ph(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Xr(n)||e.has(n)||!Kn(n)||Qh(n)||(e.add(n),Wh(n,(r,o)=>{if(Xr(o)){const a=o[Xt];if(Yh(a,t)){const u=gm(a);dh(n,r,u,n.type_),m1(a)}}else Kn(o)&&ph(o,e,t)})),n}function rR(n,e){const t=qh(n),r={type_:t?1:0,scope_:e?e.scope_:p1(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=r,a=mh;t&&(o=[r],a=Ml);const{revoke:u,proxy:d}=Proxy.revocable(o,a);return r.draft_=d,r.revoke_=u,[d,r]}var mh={get(n,e){if(e===Xt)return n;let t=n.scope_.arrayMethodsPlugin_;const r=n.type_===1&&typeof e=="string";if(r&&t!=null&&t.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const o=Hr(n);if(!M_(o,e,n.type_))return sR(n,o,e);const a=o[e];if(n.finalized_||!Kn(a)||r&&n.operationMethod&&(t!=null&&t.isMutatingArrayMethod(n.operationMethod))&&QI(e))return a;if(a===ip(n.base_,e)){Kc(n);const u=n.type_===1?+e:e,d=Pp(n.scope_,a,n,u);return n.copy_[u]=d}return a},has(n,e){return e in Hr(n)},ownKeys(n){return Reflect.ownKeys(Hr(n))},set(n,e,t){const r=_1(Hr(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const o=ip(Hr(n),e),a=o==null?void 0:o[Xt];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(GI(t,o)&&(t!==void 0||M_(n.base_,e,n.type_)))return!0;Kc(n),Np(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),nR(n,e,t)),!0},deleteProperty(n,e){return Kc(n),ip(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),Np(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Hr(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[qc]:!0,[Ip]:n.type_!==1||e!=="length",[hh]:r[hh],[jl]:t[e]}},defineProperty(){$n(11)},getPrototypeOf(n){return ea(n.base_)},setPrototypeOf(){$n(12)}},Ml={};for(let n in mh){let e=mh[n];Ml[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}Ml.deleteProperty=function(n,e){return Ml.set.call(this,n,e,void 0)};Ml.set=function(n,e,t){return mh.set.call(this,n[0],e,t,n[0])};function ip(n,e){const t=n[Xt];return(t?Hr(t):n)[e]}function sR(n,e,t){var o;const r=_1(e,t);return r?jl in r?r[jl]:(o=r.get)==null?void 0:o.call(n.draft_):void 0}function _1(n,e){if(!(e in n))return;let t=ea(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ea(t)}}function Np(n){n.modified_||(n.modified_=!0,n.parent_&&Np(n.parent_))}function Kc(n){n.copy_||(n.assigned_=new Map,n.copy_=Cp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var iR=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if(zo(e)&&!zo(t)){const a=t;t=e;const u=this;return function(m=a,...g){return u.produce(m,v=>t.call(this,v,...g))}}zo(t)||$n(6),r!==void 0&&!zo(r)&&$n(7);let o;if(Kn(e)){const a=z_(this),u=Pp(a,e,void 0);let d=!0;try{o=t(u),d=!1}finally{d?xp(a):Ap(a)}return B_(a,r),$_(o,a)}else if(!e||!mm(e)){if(o=t(e),o===void 0&&(o=e),o===h1&&(o=void 0),this.autoFreeze_&&ym(o,!0),r){const a=[],u=[];Fi(kp).generateReplacementPatches_(e,o,{patches_:a,inversePatches_:u}),r(a,u)}return o}else $n(1,e)},this.produceWithPatches=(e,t)=>{if(zo(e))return(u,...d)=>this.produceWithPatches(u,m=>e(m,...d));let r,o;return[this.produce(e,t,(u,d)=>{r=u,o=d}),r,o]},sp(n==null?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),sp(n==null?void 0:n.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),sp(n==null?void 0:n.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Kn(n)||$n(8),Xr(n)&&(n=oR(n));const e=z_(this),t=Pp(e,n,void 0);return t[Xt].isManual_=!0,Ap(e),t}finishDraft(n,e){const t=n&&n[Xt];(!t||!t.isManual_)&&$n(9);const{scope_:r}=t;return B_(r,e),$_(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const r=Fi(kp).applyPatches_;return Xr(n)?r(n,e):this.produce(n,o=>r(o,e))}};function Pp(n,e,t,r){const[o,a]=Kh(e)?Fi(fh).proxyMap_(e,t):Gh(e)?Fi(fh).proxySet_(e,t):rR(e,t);return((t==null?void 0:t.scope_)??p1()).drafts_.push(o),a.callbacks_=(t==null?void 0:t.callbacks_)??[],a.key_=r,t&&r!==void 0?tR(t,a,r):a.callbacks_.push(function(m){var v;(v=m.mapSetPlugin_)==null||v.fixSetContents(a);const{patchPlugin_:g}=m;a.modified_&&g&&g.generatePatches_(a,[],m)}),o}function oR(n){return Xr(n)||$n(10,n),v1(n)}function v1(n){if(!Kn(n)||Qh(n))return n;const e=n[Xt];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Cp(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=Cp(n,!0);return Wh(t,(o,a)=>{dh(t,o,v1(a))},r),e&&(e.finalized_=!1),t}var aR=new iR,w1=aR.produce;function E1(n){return({dispatch:t,getState:r})=>o=>a=>typeof a=="function"?a(t,r,n):o(a)}var lR=E1(),uR=E1,cR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uh:uh.apply(null,arguments)};function W_(n,e){function t(...r){if(e){let o=e(...r);if(!o)throw new Error(Gr(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>qI(r)&&r.type===n,t}var T1=class El extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,El.prototype)}static get[Symbol.species](){return El}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new El(...e[0].concat(this)):new El(...e.concat(this))}};function q_(n){return Kn(n)?w1(n,()=>{}):n}function Lc(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function hR(n){return typeof n=="boolean"}var dR=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:a=!0}=e??{};let u=new T1;return t&&(hR(t)?u.push(lR):u.push(uR(t.extraArgument))),u},fR="RTK_autoBatch",K_=n=>e=>{setTimeout(e,n)},pR=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let o=!0,a=!1,u=!1;const d=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:K_(10):n.type==="callback"?n.queueNotification:K_(n.timeout),g=()=>{u=!1,a&&(a=!1,d.forEach(v=>v()))};return Object.assign({},r,{subscribe(v){const E=()=>o&&v(),I=r.subscribe(E);return d.add(v),()=>{I(),d.delete(v)}},dispatch(v){var E;try{return o=!((E=v==null?void 0:v.meta)!=null&&E[fR]),a=!o,a&&(u||(u=!0,m(g))),r.dispatch(v)}finally{o=!0}}})},mR=n=>function(t){const{autoBatch:r=!0}=t??{};let o=new T1(n);return r&&o.push(pR(typeof r=="object"?r:void 0)),o};function gR(n){const e=dR(),{reducer:t=void 0,middleware:r,devTools:o=!0,preloadedState:a=void 0,enhancers:u=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(pm(t))d=HI(t);else throw new Error(Gr(1));let m;typeof r=="function"?m=r(e):m=e();let g=uh;o&&(g=cR({trace:!1,...typeof o=="object"&&o}));const v=WI(...m),E=mR(v);let I=typeof u=="function"?u(E):E();const D=g(...I);return c1(d,a,D)}function S1(n){const e={},t=[];let r;const o={addCase(a,u){const d=typeof a=="string"?a:a.type;if(!d)throw new Error(Gr(28));if(d in e)throw new Error(Gr(29));return e[d]=u,o},addAsyncThunk(a,u){return u.pending&&(e[a.pending.type]=u.pending),u.rejected&&(e[a.rejected.type]=u.rejected),u.fulfilled&&(e[a.fulfilled.type]=u.fulfilled),u.settled&&t.push({matcher:a.settled,reducer:u.settled}),o},addMatcher(a,u){return t.push({matcher:a,reducer:u}),o},addDefaultCase(a){return r=a,o}};return n(o),[e,t,r]}function yR(n){return typeof n=="function"}function _R(n,e){let[t,r,o]=S1(e),a;if(yR(n))a=()=>q_(n());else{const d=q_(n);a=()=>d}function u(d=a(),m){let g=[t[m.type],...r.filter(({matcher:v})=>v(m)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[o]),g.reduce((v,E)=>{if(E)if(Xr(v)){const D=E(v,m);return D===void 0?v:D}else{if(Kn(v))return w1(v,I=>E(I,m));{const I=E(v,m);if(I===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return I}}return v},d)}return u.getInitialState=a,u}var vR=Symbol.for("rtk-slice-createasyncthunk");function wR(n,e){return`${n}/${e}`}function ER({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[vR];return function(o){const{name:a,reducerPath:u=a}=o;if(!a)throw new Error(Gr(11));const d=(typeof o.reducers=="function"?o.reducers(IR()):o.reducers)||{},m=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(X,q){const se=typeof X=="string"?X:X.type;if(!se)throw new Error(Gr(12));if(se in g.sliceCaseReducersByType)throw new Error(Gr(13));return g.sliceCaseReducersByType[se]=q,v},addMatcher(X,q){return g.sliceMatchers.push({matcher:X,reducer:q}),v},exposeAction(X,q){return g.actionCreators[X]=q,v},exposeCaseReducer(X,q){return g.sliceCaseReducersByName[X]=q,v}};m.forEach(X=>{const q=d[X],se={reducerName:X,type:wR(a,X),createNotation:typeof o.reducers=="function"};CR(q)?xR(se,q,v,e):RR(se,q,v)});function E(){const[X={},q=[],se=void 0]=typeof o.extraReducers=="function"?S1(o.extraReducers):[o.extraReducers],A={...X,...g.sliceCaseReducersByType};return _R(o.initialState,S=>{for(let C in A)S.addCase(C,A[C]);for(let C of g.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of q)S.addMatcher(C.matcher,C.reducer);se&&S.addDefaultCase(se)})}const I=X=>X,D=new Map,O=new WeakMap;let j;function N(X,q){return j||(j=E()),j(X,q)}function B(){return j||(j=E()),j.getInitialState()}function Y(X,q=!1){function se(S){let C=S[X];return typeof C>"u"&&q&&(C=Lc(O,se,B)),C}function A(S=I){const C=Lc(D,q,()=>new WeakMap);return Lc(C,S,()=>{const b={};for(const[k,L]of Object.entries(o.selectors??{}))b[k]=TR(L,S,()=>Lc(O,S,B),q);return b})}return{reducerPath:X,getSelectors:A,get selectors(){return A(se)},selectSlice:se}}const W={name:a,reducer:N,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:B,...Y(u),injectInto(X,{reducerPath:q,...se}={}){const A=q??u;return X.inject({reducerPath:A,reducer:N},se),{...W,...Y(A,!0)}}};return W}}function TR(n,e,t,r){function o(a,...u){let d=e(a);return typeof d>"u"&&r&&(d=t()),n(d,...u)}return o.unwrapped=n,o}var SR=ER();function IR(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function RR({type:n,reducerName:e,createNotation:t},r,o){let a,u;if("reducer"in r){if(t&&!kR(r))throw new Error(Gr(17));a=r.reducer,u=r.prepare}else a=r;o.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,u?W_(n,u):W_(n))}function CR(n){return n._reducerDefinitionType==="asyncThunk"}function kR(n){return n._reducerDefinitionType==="reducerWithPrepare"}function xR({type:n,reducerName:e},t,r,o){if(!o)throw new Error(Gr(18));const{payloadCreator:a,fulfilled:u,pending:d,rejected:m,settled:g,options:v}=t,E=o(n,a,v);r.exposeAction(e,E),u&&r.addCase(E.fulfilled,u),d&&r.addCase(E.pending,d),m&&r.addCase(E.rejected,m),g&&r.addMatcher(E.settled,g),r.exposeCaseReducer(e,{fulfilled:u||jc,pending:d||jc,rejected:m||jc,settled:g||jc})}function jc(){}function Gr(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const AR={user:null,isAuthenticated:!1},I1=SR({name:"user",initialState:AR,reducers:{setUser:(n,e)=>{n.user=e.payload,n.isAuthenticated=!!e.payload},clearUser:n=>{n.user=null,n.isAuthenticated=!1}}}),{setUser:xl,clearUser:R1}=I1.actions,NR=I1.reducer,PR=gR({reducer:{user:NR},middleware:n=>n({serializableCheck:!1})}),bR=()=>{};var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},OR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],m=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},k1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,v=a>>2,E=(a&3)<<4|d>>4;let I=(d&15)<<2|g>>6,D=g&63;m||(D=64,u||(I=64)),r.push(t[v],t[E],t[I],t[D])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(C1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||g==null||E==null)throw new DR;const I=a<<2|d>>4;if(r.push(I),g!==64){const D=d<<4&240|g>>2;if(r.push(D),E!==64){const O=g<<6&192|E;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LR=function(n){const e=C1(n);return k1.encodeByteArray(e,!0)},gh=function(n){return LR(n).replace(/\./g,"")},x1=function(n){try{return k1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=()=>jR().__FIREBASE_DEFAULTS__,MR=()=>{if(typeof process>"u"||typeof G_>"u")return;const n=G_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&x1(n[1]);return e&&JSON.parse(e)},Jh=()=>{try{return bR()||VR()||MR()||FR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},A1=n=>{var e,t;return(t=(e=Jh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},UR=n=>{const e=A1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},N1=()=>{var n;return(n=Jh())==null?void 0:n.config},P1=n=>{var e;return(e=Jh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gh(JSON.stringify(t)),gh(JSON.stringify(u)),""].join(".")}const Al={};function $R(){const n={prod:[],emulator:[]};for(const e of Object.keys(Al))Al[e]?n.emulator.push(e):n.prod.push(e);return n}function HR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Q_=!1;function O1(n,e){if(typeof window>"u"||typeof document>"u"||!fa(window.location.host)||Al[n]===e||Al[n]||Q_)return;Al[n]=e;function t(I){return`__firebase__banner__${I}`}const r="__firebase__banner",a=$R().prod.length>0;function u(){const I=document.getElementById(r);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function m(I,D){I.setAttribute("width","24"),I.setAttribute("id",D),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Q_=!0,u()},I}function v(I,D){I.setAttribute("id",D),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=HR(r),D=t("text"),O=document.getElementById(D)||document.createElement("span"),j=t("learnmore"),N=document.getElementById(j)||document.createElement("a"),B=t("preprendIcon"),Y=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const W=I.element;d(W),v(N,j);const X=g();m(Y,B),W.append(Y,O,N,X),document.body.appendChild(W)}a?(O.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function qR(){var e;const n=(e=Jh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JR(){return!qR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="FirebaseError";class rs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=eC,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?tC(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new rs(o,d,r)}}function tC(n,e){return n.replace(nC,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const nC=/\{\$([^}]+)}/g;function rC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ui(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Y_(a)&&Y_(u)){if(!Ui(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Y_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Sl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function sC(n,e){const t=new iC(n,e);return t.subscribe.bind(t)}class iC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");oC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=op),o.error===void 0&&(o.error=op),o.complete===void 0&&(o.complete=op);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class Bi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new BR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uC(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lC(n){return n===Oi?void 0:n}function uC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const hC={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},dC=De.INFO,fC={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},pC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=fC[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _m{constructor(e){this.name=e,this._logLevel=dC,this._logHandler=pC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const mC=(n,e)=>e.some(t=>n instanceof t);let J_,X_;function gC(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yC(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D1=new WeakMap,bp=new WeakMap,L1=new WeakMap,ap=new WeakMap,vm=new WeakMap;function _C(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t($s(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&D1.set(t,n)}).catch(()=>{}),vm.set(e,n),e}function vC(n){if(bp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});bp.set(n,e)}let Op={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||L1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $s(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wC(n){Op=n(Op)}function EC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(lp(this),e,...t);return L1.set(r,e.sort?e.sort():[e]),$s(r)}:yC().includes(n)?function(...e){return n.apply(lp(this),e),$s(D1.get(this))}:function(...e){return $s(n.apply(lp(this),e))}}function TC(n){return typeof n=="function"?EC(n):(n instanceof IDBTransaction&&vC(n),mC(n,gC())?new Proxy(n,Op):n)}function $s(n){if(n instanceof IDBRequest)return _C(n);if(ap.has(n))return ap.get(n);const e=TC(n);return e!==n&&(ap.set(n,e),vm.set(e,n)),e}const lp=n=>vm.get(n);function SC(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=$s(u);return r&&u.addEventListener("upgradeneeded",m=>{r($s(u.result),m.oldVersion,m.newVersion,$s(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{a&&m.addEventListener("close",()=>a()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const IC=["get","getKey","getAll","getAllKeys","count"],RC=["put","add","delete","clear"],up=new Map;function Z_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=RC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||IC.includes(t)))return;const a=async function(u,...d){const m=this.transaction(u,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return up.set(e,a),a}wC(n=>({...n,get:(e,t,r)=>Z_(e,t)||n.get(e,t,r),has:(e,t)=>!!Z_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function kC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dp="@firebase/app",ev="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new _m("@firebase/app"),xC="@firebase/app-compat",AC="@firebase/analytics-compat",NC="@firebase/analytics",PC="@firebase/app-check-compat",bC="@firebase/app-check",OC="@firebase/auth",DC="@firebase/auth-compat",LC="@firebase/database",jC="@firebase/data-connect",VC="@firebase/database-compat",MC="@firebase/functions",FC="@firebase/functions-compat",UC="@firebase/installations",BC="@firebase/installations-compat",zC="@firebase/messaging",$C="@firebase/messaging-compat",HC="@firebase/performance",WC="@firebase/performance-compat",qC="@firebase/remote-config",KC="@firebase/remote-config-compat",GC="@firebase/storage",QC="@firebase/storage-compat",YC="@firebase/firestore",JC="@firebase/ai",XC="@firebase/firestore-compat",ZC="firebase",ek="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",tk={[Dp]:"fire-core",[xC]:"fire-core-compat",[NC]:"fire-analytics",[AC]:"fire-analytics-compat",[bC]:"fire-app-check",[PC]:"fire-app-check-compat",[OC]:"fire-auth",[DC]:"fire-auth-compat",[LC]:"fire-rtdb",[jC]:"fire-data-connect",[VC]:"fire-rtdb-compat",[MC]:"fire-fn",[FC]:"fire-fn-compat",[UC]:"fire-iid",[BC]:"fire-iid-compat",[zC]:"fire-fcm",[$C]:"fire-fcm-compat",[HC]:"fire-perf",[WC]:"fire-perf-compat",[qC]:"fire-rc",[KC]:"fire-rc-compat",[GC]:"fire-gcs",[QC]:"fire-gcs-compat",[YC]:"fire-fst",[XC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[ZC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,nk=new Map,jp=new Map;function tv(n,e){try{n.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ta(n){const e=n.name;if(jp.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,n);for(const t of yh.values())tv(t,n);for(const t of nk.values())tv(t,n);return!0}function wm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function An(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Zl("app","Firebase",rk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=ek;function j1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Lp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Hs.create("bad-app-name",{appName:String(o)});if(t||(t=N1()),!t)throw Hs.create("no-options");const a=yh.get(o);if(a){if(Ui(t,a.options)&&Ui(r,a.config))return a;throw Hs.create("duplicate-app",{appName:o})}const u=new cC(o);for(const m of jp.values())u.addComponent(m);const d=new sk(t,r,u);return yh.set(o,d),d}function V1(n=Lp){const e=yh.get(n);if(!e&&n===Lp&&N1())return j1();if(!e)throw Hs.create("no-app",{appName:n});return e}function Ws(n,e,t){let r=tk[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(u.join(" "));return}ta(new Bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firebase-heartbeat-database",ok=1,Fl="firebase-heartbeat-store";let cp=null;function M1(){return cp||(cp=SC(ik,ok,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hs.create("idb-open",{originalErrorMessage:n.message})})),cp}async function ak(n){try{const t=(await M1()).transaction(Fl),r=await t.objectStore(Fl).get(F1(n));return await t.done,r}catch(e){if(e instanceof rs)Zr.warn(e.message);else{const t=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(t.message)}}}async function nv(n,e){try{const r=(await M1()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,F1(n)),await r.done}catch(t){if(t instanceof rs)Zr.warn(t.message);else{const r=Hs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(r.message)}}}function F1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=1024,uk=30;class ck{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=rv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>uk){const u=fk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rv(),{heartbeatsToSend:r,unsentEntries:o}=hk(this._heartbeatsCache.heartbeats),a=gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Zr.warn(t),""}}}function rv(){return new Date().toISOString().substring(0,10)}function hk(n,e=lk){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),sv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),sv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class dk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ak(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sv(n){return gh(JSON.stringify({version:2,heartbeats:n})).length}function fk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n){ta(new Bi("platform-logger",e=>new CC(e),"PRIVATE")),ta(new Bi("heartbeat",e=>new ck(e),"PRIVATE")),Ws(Dp,ev,n),Ws(Dp,ev,"esm2020"),Ws("fire-js","")}pk("");function U1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mk=U1,B1=new Zl("auth","Firebase",U1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new _m("@firebase/auth");function gk(n,...e){_h.logLevel<=De.WARN&&_h.warn(`Auth (${pa}): ${n}`,...e)}function Gc(n,...e){_h.logLevel<=De.ERROR&&_h.error(`Auth (${pa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n,...e){throw Em(n,...e)}function gr(n,...e){return Em(n,...e)}function z1(n,e,t){const r={...mk(),[e]:t};return new Zl("auth","Firebase",r).create(e,{appName:n.name})}function Qr(n){return z1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return B1.create(n,...e)}function Te(n,e,...t){if(!n)throw Em(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gc(e),new Error(e)}function es(n,e){n||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function yk(){return iv()==="http:"||iv()==="https:"}function iv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yk()||GR()||"connection"in navigator)?navigator.onLine:!0}function vk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,es(t>e,"Short delay should be less than long delay!"),this.isMobile=WR()||QR()}get(){return _k()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n,e){es(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tk=new tu(3e4,6e4);function ss(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function is(n,e,t,r,o={}){return H1(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=eu({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...a};return KR()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&fa(n.emulatorConfig.host)&&(g.credentials="include"),$1.fetch()(await W1(n,n.config.apiHost,t,d),g)})}async function H1(n,e,t){n._canInitEmulator=!1;const r={...wk,...e};try{const o=new Ik(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Vc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Vc(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Vc(n,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw z1(n,v,g);Gn(n,v)}}catch(o){if(o instanceof rs)throw o;Gn(n,"network-request-failed",{message:String(o)})}}async function nu(n,e,t,r,o={}){const a=await is(n,e,t,r,o);return"mfaPendingCredential"in a&&Gn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function W1(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Tm(n.config,o):`${n.config.apiScheme}://${o}`;return Ek.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Sk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ik{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),Tk.get())})}}function Vc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=gr(n,e,r);return o.customData._tokenResponse=t,o}function ov(n){return n!==void 0&&n.enterprise!==void 0}class Rk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Sk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ck(n,e){return is(n,"GET","/v2/recaptchaConfig",ss(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(n,e){return is(n,"POST","/v1/accounts:delete",e)}async function vh(n,e){return is(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xk(n,e=!1){const t=cn(n),r=await t.getIdToken(e),o=Sm(r);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:Nl(hp(o.auth_time)),issuedAtTime:Nl(hp(o.iat)),expirationTime:Nl(hp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hp(n){return Number(n)*1e3}function Sm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=x1(t);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function av(n){const e=Sm(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rs&&Ak(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Ak({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(n){var E;const e=n.auth,t=await n.getIdToken(),r=await Ul(n,vh(e,{idToken:t}));Te(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=(E=o.providerUserInfo)!=null&&E.length?q1(o.providerUserInfo):[],u=bk(n.providerData,a),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),g=d?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function Pk(n){const e=cn(n);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function q1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n,e){const t=await H1(n,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await W1(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return n.emulatorConfig&&fa(n.emulatorConfig.host)&&(m.credentials="include"),$1.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Dk(n,e){return is(n,"POST","/v2/accounts:revokeToken",ss(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=av(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await Ok(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Qo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Te(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Hn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xk(this,e)}reload(){return Pk(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Ul(this,kk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:I,isAnonymous:D,providerData:O,stsTokenManager:j}=t;Te(E&&j,e,"internal-error");const N=Qo.fromJSON(this.name,j);Te(typeof E=="string",e,"internal-error"),js(r,e.name),js(o,e.name),Te(typeof I=="boolean",e,"internal-error"),Te(typeof D=="boolean",e,"internal-error"),js(a,e.name),js(u,e.name),js(d,e.name),js(m,e.name),js(g,e.name),js(v,e.name);const B=new Hn({uid:E,auth:e,email:o,emailVerified:I,displayName:r,isAnonymous:D,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:N,createdAt:g,lastLoginAt:v});return O&&Array.isArray(O)&&(B.providerData=O.map(Y=>({...Y}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,t,r=!1){const o=new Qo;o.updateFromServerResponse(t);const a=new Hn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await wh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?q1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Qo;d.updateFromIdToken(r);const m=new Hn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=new Map;function qr(n){es(n instanceof Function,"Expected a class definition");let e=lv.get(n);return e?(es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}K1.type="NONE";const uv=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(n,e,t){return`firebase:${n}:${e}:${t}`}class Yo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Qc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vh(this.auth,{idToken:e}).catch(()=>{});return t?Hn._fromGetAccountInfoResponse(this.auth,t,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yo(qr(uv),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||qr(uv);const u=Qc(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(u);if(v){let E;if(typeof v=="string"){const I=await vh(e,{idToken:v}).catch(()=>{});if(!I)break;E=await Hn._fromGetAccountInfoResponse(e,I,v)}else E=Hn._fromJSON(e,v);g!==a&&(d=E),a=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new Yo(a,e,r):(a=m[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(u)}catch{}})),new Yo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z1(e))return"Blackberry";if(ew(e))return"Webos";if(Q1(e))return"Safari";if((e.includes("chrome/")||Y1(e))&&!e.includes("edge/"))return"Chrome";if(X1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function G1(n=Gt()){return/firefox\//i.test(n)}function Q1(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y1(n=Gt()){return/crios\//i.test(n)}function J1(n=Gt()){return/iemobile/i.test(n)}function X1(n=Gt()){return/android/i.test(n)}function Z1(n=Gt()){return/blackberry/i.test(n)}function ew(n=Gt()){return/webos/i.test(n)}function Im(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Lk(n=Gt()){var e;return Im(n)&&!!((e=window.navigator)!=null&&e.standalone)}function jk(){return YR()&&document.documentMode===10}function tw(n=Gt()){return Im(n)||X1(n)||ew(n)||Z1(n)||/windows phone/i.test(n)||J1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(n,e=[]){let t;switch(n){case"Browser":t=cv(Gt());break;case"Worker":t=`${cv(Gt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const m=e(a);u(m)}catch(m){d(m)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(n,e={}){return is(n,"GET","/v2/passwordPolicy",ss(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=6;class Uk{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Fk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new Vk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vh(this,{idToken:e}),r=await Hn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(An(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=r==null?void 0:r._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===d)&&(m!=null&&m.user)&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Qr(this));const t=e?cn(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mk(this),t=new Uk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Dk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,o);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&gk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ii(n){return cn(n)}class hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=sC(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zk(n){Xh=n}function rw(n){return Xh.loadJS(n)}function $k(){return Xh.recaptchaEnterpriseScript}function Hk(){return Xh.gapiScript}function Wk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qk{constructor(){this.enterprise=new Kk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Kk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Gk="recaptcha-enterprise",sw="NO_RECAPTCHA";class Qk{constructor(e){this.type=Gk,this.auth=ii(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{Ck(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new Rk(m);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,u(g.siteKey)}}).catch(m=>{d(m)})})}function o(a,u,d){const m=window.grecaptcha;ov(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(g=>{u(g)}).catch(()=>{u(sw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&ov(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=$k();m.length!==0&&(m+=d),rw(m).then(()=>{o(d,a,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function dv(n,e,t,r=!1,o=!1){const a=new Qk(n);let u;if(o)u=sw;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Eh(n,e,t,r,o){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await dv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dv(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(n,e){const t=wm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ui(a,e??{}))return o;Gn(o,"already-initialized")}return t.initialize({options:e})}function Jk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Xk(n,e,t){const r=ii(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=iw(e),{host:u,port:d}=Zk(e),m=d===null?"":`:${d}`,g={url:`${a}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Ui(g,r.config.emulator)&&Ui(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,fa(u)?(b1(`${a}//${u}${m}`),O1("Auth",!0)):ex()}function iw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Zk(n){const e=iw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:fv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:fv(u)}}}function fv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ex(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function tx(n,e){return is(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(n,e){return nu(n,"POST","/v1/accounts:signInWithPassword",ss(n,e))}async function rx(n,e){return is(n,"POST","/v1/accounts:sendOobCode",ss(n,e))}async function sx(n,e){return rx(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(n,e){return nu(n,"POST","/v1/accounts:signInWithEmailLink",ss(n,e))}async function ox(n,e){return nu(n,"POST","/v1/accounts:signInWithEmailLink",ss(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Rm{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Bl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Bl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,t,"signInWithPassword",nx);case"emailLink":return ix(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,r,"signUpPassword",tx);case"emailLink":return ox(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n,e){return nu(n,"POST","/v1/accounts:signInWithIdp",ss(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="http://localhost";class zi extends Rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new zi(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:ax,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ux(n){const e=Tl(Sl(n)).link,t=e?Tl(Sl(e)).deep_link_id:null,r=Tl(Sl(n)).deep_link_id;return(r?Tl(Sl(r)).link:null)||r||t||e||n}class Cm{constructor(e){const t=Tl(Sl(e)),r=t.apiKey??null,o=t.oobCode??null,a=lx(t.mode??null);Te(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=ux(e);try{return new Cm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,t){return Bl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Cm.parseLink(t);return Te(r,"argument-error"),Bl._fromEmailAndCode(e,r.code,r.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends ru{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zi._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fs.credential(t,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends ru{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends ru{constructor(){super("twitter.com")}static credential(e,t){return zi._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Bs.credential(t,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(n,e){return nu(n,"POST","/v1/accounts:signUp",ss(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Hn._fromIdTokenResponse(e,r,o),u=pv(r);return new $i({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=pv(r);return new $i({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function pv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends rs{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Th(e,t,r,o)}}function aw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(n,a,e,r):a})}async function hx(n,e,t=!1){const r=await Ul(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return $i._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(n,e,t=!1){const{auth:r}=n;if(An(r.app))return Promise.reject(Qr(r));const o="reauthenticate";try{const a=await Ul(n,aw(r,o,e,n),t);Te(a.idToken,r,"internal-error");const u=Sm(a.idToken);Te(u,r,"internal-error");const{sub:d}=u;return Te(n.uid===d,r,"user-mismatch"),$i._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(n,e,t=!1){if(An(n.app))return Promise.reject(Qr(n));const r="signIn",o=await aw(n,r,e),a=await $i._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function fx(n,e){return lw(ii(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(n){const e=ii(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function px(n,e,t){const r=ii(n);await Eh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sx)}async function mx(n,e,t){if(An(n.app))return Promise.reject(Qr(n));const r=ii(n),u=await Eh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cx).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&uw(n),m}),d=await $i._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function mv(n,e,t){return An(n.app)?Promise.reject(Qr(n)):fx(cn(n),ma.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uw(n),r})}function gx(n,e,t,r){return cn(n).onIdTokenChanged(e,t,r)}function yx(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function _x(n,e,t,r){return cn(n).onAuthStateChanged(e,t,r)}function vx(n){return cn(n).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=1e3,Ex=10;class hw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);jk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ex):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},wx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hw.type="LOCAL";const Tx=hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dw.type="SESSION";const fw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async g=>g(t.origin,a)),m=await Sx(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,m)=>{const g=km("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(v),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function Rx(n){yr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function Cx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kx(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function xx(){return pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firebaseLocalStorageDb",Ax=1,Ih="firebaseLocalStorage",gw="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ed(n,e){return n.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function Nx(){const n=indexedDB.deleteDatabase(mw);return new su(n).toPromise()}function Fp(){const n=indexedDB.open(mw,Ax);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ih,{keyPath:gw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ih)?e(r):(r.close(),await Nx(),e(await Fp()))})})}async function gv(n,e,t){const r=ed(n,!0).put({[gw]:e,value:t});return new su(r).toPromise()}async function Px(n,e){const t=ed(n,!1).get(e),r=await new su(t).toPromise();return r===void 0?null:r.value}function yv(n,e){const t=ed(n,!0).delete(e);return new su(t).toPromise()}const bx=800,Ox=3;class yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Ox)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(xx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await Cx(),!this.activeServiceWorker)return;this.sender=new Ix(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await gv(e,Sh,"1"),await yv(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>gv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Px(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=ed(o,!1).getAll();return new su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yw.type="LOCAL";const Dx=yw;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n,e){return e?qr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends Rm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jx(n){return lw(n.auth,new xm(n),n.bypassAuthState)}function Vx(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),dx(t,new xm(n),n.bypassAuthState)}async function Mx(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),hx(t,new xm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jx;case"linkViaPopup":case"linkViaRedirect":return Mx;case"reauthViaPopup":case"reauthViaRedirect":return Vx;default:Gn(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new tu(2e3,1e4);class Ko extends _w{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fx.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="pendingRedirect",Yc=new Map;class Bx extends _w{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const r=await zx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zx(n,e){const t=Wx(e),r=Hx(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function $x(n,e){Yc.set(n._key(),e)}function Hx(n){return qr(n._redirectPersistence)}function Wx(n){return Qc(Ux,n.config.apiKey,n.name)}async function qx(n,e,t=!1){if(An(n.app))return Promise.reject(Qr(n));const r=ii(n),o=Lx(r,e),u=await new Bx(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=600*1e3;class Gx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vw(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(gr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kx&&this.cachedEventUids.clear(),this.cachedEventUids.has(_v(e))}saveEventToCache(e){this.cachedEventUids.add(_v(e)),this.lastProcessedEventTime=Date.now()}}function _v(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(n,e={}){return is(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xx=/^https?/;async function Zx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Yx(n);for(const t of e)try{if(eA(t))return}catch{}Gn(n,"unauthorized-domain")}function eA(n){const e=Vp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Xx.test(t))return!1;if(Jx.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new tu(3e4,6e4);function vv(){const n=yr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nA(n){return new Promise((e,t)=>{var o,a,u;function r(){vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vv(),t(gr(n,"network-request-failed"))},timeout:tA.get()})}if((a=(o=yr().gapi)==null?void 0:o.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=yr().gapi)!=null&&u.load)r();else{const d=Wk("iframefcb");return yr()[d]=()=>{gapi.load?r():t(gr(n,"network-request-failed"))},rw(`${Hk()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function rA(n){return Jc=Jc||nA(n),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new tu(5e3,15e3),iA="__/auth/iframe",oA="emulator/auth/iframe",aA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uA(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tm(e,oA):`https://${n.config.authDomain}/${iA}`,r={apiKey:e.apiKey,appName:n.name,v:pa},o=lA.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${eu(r).slice(1)}`}async function cA(n){const e=await rA(n),t=yr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:uA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aA,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=gr(n,"network-request-failed"),d=yr().setTimeout(()=>{a(u)},sA.get());function m(){yr().clearTimeout(d),o(r)}r.ping(m).then(m,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dA=500,fA=600,pA="_blank",mA="http://localhost";class wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gA(n,e,t,r=dA,o=fA){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...hA,width:r.toString(),height:o.toString(),top:a,left:u},g=Gt().toLowerCase();t&&(d=Y1(g)?pA:t),G1(g)&&(e=e||mA,m.scrollbars="yes");const v=Object.entries(m).reduce((I,[D,O])=>`${I}${D}=${O},`,"");if(Lk(g)&&d!=="_self")return yA(e||"",d),new wv(null);const E=window.open(e||"",d,v);Te(E,n,"popup-blocked");try{E.focus()}catch{}return new wv(E)}function yA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="__/auth/handler",vA="emulator/auth/handler",wA=encodeURIComponent("fac");async function Ev(n,e,t,r,o,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:pa,eventId:o};if(e instanceof ow){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",rC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof ru){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),g=m?`#${wA}=${encodeURIComponent(m)}`:"";return`${EA(n)}?${eu(d).slice(1)}${g}`}function EA({config:n}){return n.emulator?Tm(n,vA):`https://${n.authDomain}/${_A}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class TA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fw,this._completeRedirectFn=qx,this._overrideRedirectResult=$x}async _openPopup(e,t,r,o){var u;es((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await Ev(e,t,r,Vp(),o);return gA(e,a,km())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await Ev(e,t,r,Vp(),o);return Rx(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(es(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await cA(e),r=new Gx(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dp,{type:dp},o=>{var u;const a=(u=o==null?void 0:o[0])==null?void 0:u[dp];a!==void 0&&t(!!a),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tw()||Q1()||Im()}}const SA=TA;var Tv="@firebase/auth",Sv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CA(n){ta(new Bi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nw(n)},g=new Bk(r,o,a,m);return Jk(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ta(new Bi("auth-internal",e=>{const t=ii(e.getProvider("auth").getImmediate());return(r=>new IA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(Tv,Sv,RA(n)),Ws(Tv,Sv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=300,xA=P1("authIdTokenMaxAge")||kA;let Iv=null;const AA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>xA)return;const o=t==null?void 0:t.token;Iv!==o&&(Iv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NA(n=V1()){const e=wm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Yk(n,{popupRedirectResolver:SA,persistence:[Dx,Tx,fw]}),r=P1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=AA(a.toString());yx(t,u,()=>u(t.currentUser)),gx(t,d=>u(d))}}const o=A1("auth");return o&&Xk(t,`http://${o}`),t}function PA(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}zk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=gr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",PA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CA("Browser");var bA="firebase",OA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(bA,OA,"app");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,ww;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function C(){}C.prototype=S.prototype,A.F=S.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(b,k,L){for(var x=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)x[_e-2]=arguments[_e];return S.prototype[k].apply(b,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,S,C){C||(C=0);const b=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)b[k]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(k=0;k<16;++k)b[k]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=A.g[0],C=A.g[1],k=A.g[2];let L=A.g[3],x;x=S+(L^C&(k^L))+b[0]+3614090360&4294967295,S=C+(x<<7&4294967295|x>>>25),x=L+(k^S&(C^k))+b[1]+3905402710&4294967295,L=S+(x<<12&4294967295|x>>>20),x=k+(C^L&(S^C))+b[2]+606105819&4294967295,k=L+(x<<17&4294967295|x>>>15),x=C+(S^k&(L^S))+b[3]+3250441966&4294967295,C=k+(x<<22&4294967295|x>>>10),x=S+(L^C&(k^L))+b[4]+4118548399&4294967295,S=C+(x<<7&4294967295|x>>>25),x=L+(k^S&(C^k))+b[5]+1200080426&4294967295,L=S+(x<<12&4294967295|x>>>20),x=k+(C^L&(S^C))+b[6]+2821735955&4294967295,k=L+(x<<17&4294967295|x>>>15),x=C+(S^k&(L^S))+b[7]+4249261313&4294967295,C=k+(x<<22&4294967295|x>>>10),x=S+(L^C&(k^L))+b[8]+1770035416&4294967295,S=C+(x<<7&4294967295|x>>>25),x=L+(k^S&(C^k))+b[9]+2336552879&4294967295,L=S+(x<<12&4294967295|x>>>20),x=k+(C^L&(S^C))+b[10]+4294925233&4294967295,k=L+(x<<17&4294967295|x>>>15),x=C+(S^k&(L^S))+b[11]+2304563134&4294967295,C=k+(x<<22&4294967295|x>>>10),x=S+(L^C&(k^L))+b[12]+1804603682&4294967295,S=C+(x<<7&4294967295|x>>>25),x=L+(k^S&(C^k))+b[13]+4254626195&4294967295,L=S+(x<<12&4294967295|x>>>20),x=k+(C^L&(S^C))+b[14]+2792965006&4294967295,k=L+(x<<17&4294967295|x>>>15),x=C+(S^k&(L^S))+b[15]+1236535329&4294967295,C=k+(x<<22&4294967295|x>>>10),x=S+(k^L&(C^k))+b[1]+4129170786&4294967295,S=C+(x<<5&4294967295|x>>>27),x=L+(C^k&(S^C))+b[6]+3225465664&4294967295,L=S+(x<<9&4294967295|x>>>23),x=k+(S^C&(L^S))+b[11]+643717713&4294967295,k=L+(x<<14&4294967295|x>>>18),x=C+(L^S&(k^L))+b[0]+3921069994&4294967295,C=k+(x<<20&4294967295|x>>>12),x=S+(k^L&(C^k))+b[5]+3593408605&4294967295,S=C+(x<<5&4294967295|x>>>27),x=L+(C^k&(S^C))+b[10]+38016083&4294967295,L=S+(x<<9&4294967295|x>>>23),x=k+(S^C&(L^S))+b[15]+3634488961&4294967295,k=L+(x<<14&4294967295|x>>>18),x=C+(L^S&(k^L))+b[4]+3889429448&4294967295,C=k+(x<<20&4294967295|x>>>12),x=S+(k^L&(C^k))+b[9]+568446438&4294967295,S=C+(x<<5&4294967295|x>>>27),x=L+(C^k&(S^C))+b[14]+3275163606&4294967295,L=S+(x<<9&4294967295|x>>>23),x=k+(S^C&(L^S))+b[3]+4107603335&4294967295,k=L+(x<<14&4294967295|x>>>18),x=C+(L^S&(k^L))+b[8]+1163531501&4294967295,C=k+(x<<20&4294967295|x>>>12),x=S+(k^L&(C^k))+b[13]+2850285829&4294967295,S=C+(x<<5&4294967295|x>>>27),x=L+(C^k&(S^C))+b[2]+4243563512&4294967295,L=S+(x<<9&4294967295|x>>>23),x=k+(S^C&(L^S))+b[7]+1735328473&4294967295,k=L+(x<<14&4294967295|x>>>18),x=C+(L^S&(k^L))+b[12]+2368359562&4294967295,C=k+(x<<20&4294967295|x>>>12),x=S+(C^k^L)+b[5]+4294588738&4294967295,S=C+(x<<4&4294967295|x>>>28),x=L+(S^C^k)+b[8]+2272392833&4294967295,L=S+(x<<11&4294967295|x>>>21),x=k+(L^S^C)+b[11]+1839030562&4294967295,k=L+(x<<16&4294967295|x>>>16),x=C+(k^L^S)+b[14]+4259657740&4294967295,C=k+(x<<23&4294967295|x>>>9),x=S+(C^k^L)+b[1]+2763975236&4294967295,S=C+(x<<4&4294967295|x>>>28),x=L+(S^C^k)+b[4]+1272893353&4294967295,L=S+(x<<11&4294967295|x>>>21),x=k+(L^S^C)+b[7]+4139469664&4294967295,k=L+(x<<16&4294967295|x>>>16),x=C+(k^L^S)+b[10]+3200236656&4294967295,C=k+(x<<23&4294967295|x>>>9),x=S+(C^k^L)+b[13]+681279174&4294967295,S=C+(x<<4&4294967295|x>>>28),x=L+(S^C^k)+b[0]+3936430074&4294967295,L=S+(x<<11&4294967295|x>>>21),x=k+(L^S^C)+b[3]+3572445317&4294967295,k=L+(x<<16&4294967295|x>>>16),x=C+(k^L^S)+b[6]+76029189&4294967295,C=k+(x<<23&4294967295|x>>>9),x=S+(C^k^L)+b[9]+3654602809&4294967295,S=C+(x<<4&4294967295|x>>>28),x=L+(S^C^k)+b[12]+3873151461&4294967295,L=S+(x<<11&4294967295|x>>>21),x=k+(L^S^C)+b[15]+530742520&4294967295,k=L+(x<<16&4294967295|x>>>16),x=C+(k^L^S)+b[2]+3299628645&4294967295,C=k+(x<<23&4294967295|x>>>9),x=S+(k^(C|~L))+b[0]+4096336452&4294967295,S=C+(x<<6&4294967295|x>>>26),x=L+(C^(S|~k))+b[7]+1126891415&4294967295,L=S+(x<<10&4294967295|x>>>22),x=k+(S^(L|~C))+b[14]+2878612391&4294967295,k=L+(x<<15&4294967295|x>>>17),x=C+(L^(k|~S))+b[5]+4237533241&4294967295,C=k+(x<<21&4294967295|x>>>11),x=S+(k^(C|~L))+b[12]+1700485571&4294967295,S=C+(x<<6&4294967295|x>>>26),x=L+(C^(S|~k))+b[3]+2399980690&4294967295,L=S+(x<<10&4294967295|x>>>22),x=k+(S^(L|~C))+b[10]+4293915773&4294967295,k=L+(x<<15&4294967295|x>>>17),x=C+(L^(k|~S))+b[1]+2240044497&4294967295,C=k+(x<<21&4294967295|x>>>11),x=S+(k^(C|~L))+b[8]+1873313359&4294967295,S=C+(x<<6&4294967295|x>>>26),x=L+(C^(S|~k))+b[15]+4264355552&4294967295,L=S+(x<<10&4294967295|x>>>22),x=k+(S^(L|~C))+b[6]+2734768916&4294967295,k=L+(x<<15&4294967295|x>>>17),x=C+(L^(k|~S))+b[13]+1309151649&4294967295,C=k+(x<<21&4294967295|x>>>11),x=S+(k^(C|~L))+b[4]+4149444226&4294967295,S=C+(x<<6&4294967295|x>>>26),x=L+(C^(S|~k))+b[11]+3174756917&4294967295,L=S+(x<<10&4294967295|x>>>22),x=k+(S^(L|~C))+b[2]+718787259&4294967295,k=L+(x<<15&4294967295|x>>>17),x=C+(L^(k|~S))+b[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(k+(x<<21&4294967295|x>>>11))&4294967295,A.g[2]=A.g[2]+k&4294967295,A.g[3]=A.g[3]+L&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const C=S-this.blockSize,b=this.C;let k=this.h,L=0;for(;L<S;){if(k==0)for(;L<=C;)o(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<S;)if(b[k++]=A.charCodeAt(L++),k==this.blockSize){o(this,b),k=0;break}}else for(;L<S;)if(b[k++]=A[L++],k==this.blockSize){o(this,b),k=0;break}}this.h=k,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,C=0;C<4;++C)for(let b=0;b<32;b+=8)A[S++]=this.g[C]>>>b&255;return A};function a(A,S){var C=d;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=S(A)}function u(A,S){this.h=S;const C=[];let b=!0;for(let k=A.length-1;k>=0;k--){const L=A[k]|0;b&&L==S||(C[k]=L,b=!1)}this.g=C}var d={};function m(A){return-128<=A&&A<128?a(A,function(S){return new u([S|0],S<0?-1:0)}):new u([A|0],A<0?-1:0)}function g(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return N(g(-A));const S=[];let C=1;for(let b=0;A>=C;b++)S[b]=A/C|0,C*=4294967296;return new u(S,0)}function v(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return N(v(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let b=E;for(let L=0;L<A.length;L+=8){var k=Math.min(8,A.length-L);const x=parseInt(A.substring(L,L+k),S);k<8?(k=g(Math.pow(S,k)),b=b.j(k).add(g(x))):(b=b.j(C),b=b.add(g(x)))}return b}var E=m(0),I=m(1),D=m(16777216);n=u.prototype,n.m=function(){if(j(this))return-N(this).m();let A=0,S=1;for(let C=0;C<this.g.length;C++){const b=this.i(C);A+=(b>=0?b:4294967296+b)*S,S*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(O(this))return"0";if(j(this))return"-"+N(this).toString(A);const S=g(Math.pow(A,6));var C=this;let b="";for(;;){const k=X(C,S).g;C=B(C,k.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=k,O(C))return L+b;for(;L.length<6;)L="0"+L;b=L+b}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function O(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function j(A){return A.h==-1}n.l=function(A){return A=B(this,A),j(A)?-1:O(A)?0:1};function N(A){const S=A.g.length,C=[];for(let b=0;b<S;b++)C[b]=~A.g[b];return new u(C,~A.h).add(I)}n.abs=function(){return j(this)?N(this):this},n.add=function(A){const S=Math.max(this.g.length,A.g.length),C=[];let b=0;for(let k=0;k<=S;k++){let L=b+(this.i(k)&65535)+(A.i(k)&65535),x=(L>>>16)+(this.i(k)>>>16)+(A.i(k)>>>16);b=x>>>16,L&=65535,x&=65535,C[k]=x<<16|L}return new u(C,C[C.length-1]&-2147483648?-1:0)};function B(A,S){return A.add(N(S))}n.j=function(A){if(O(this)||O(A))return E;if(j(this))return j(A)?N(this).j(N(A)):N(N(this).j(A));if(j(A))return N(this.j(N(A)));if(this.l(D)<0&&A.l(D)<0)return g(this.m()*A.m());const S=this.g.length+A.g.length,C=[];for(var b=0;b<2*S;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(let k=0;k<A.g.length;k++){const L=this.i(b)>>>16,x=this.i(b)&65535,_e=A.i(k)>>>16,ze=A.i(k)&65535;C[2*b+2*k]+=x*ze,Y(C,2*b+2*k),C[2*b+2*k+1]+=L*ze,Y(C,2*b+2*k+1),C[2*b+2*k+1]+=x*_e,Y(C,2*b+2*k+1),C[2*b+2*k+2]+=L*_e,Y(C,2*b+2*k+2)}for(A=0;A<S;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=S;A<2*S;A++)C[A]=0;return new u(C,0)};function Y(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function W(A,S){this.g=A,this.h=S}function X(A,S){if(O(S))throw Error("division by zero");if(O(A))return new W(E,E);if(j(A))return S=X(N(A),S),new W(N(S.g),N(S.h));if(j(S))return S=X(A,N(S)),new W(N(S.g),S.h);if(A.g.length>30){if(j(A)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var C=I,b=S;b.l(A)<=0;)C=q(C),b=q(b);var k=se(C,1),L=se(b,1);for(b=se(b,2),C=se(C,2);!O(b);){var x=L.add(b);x.l(A)<=0&&(k=k.add(C),L=x),b=se(b,1),C=se(C,1)}return S=B(A,k.j(S)),new W(k,S)}for(k=E;A.l(S)>=0;){for(C=Math.max(1,Math.floor(A.m()/S.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),L=g(C),x=L.j(S);j(x)||x.l(A)>0;)C-=b,L=g(C),x=L.j(S);O(L)&&(L=I),k=k.add(L),A=B(A,x)}return new W(k,A)}n.B=function(A){return X(this,A).h},n.and=function(A){const S=Math.max(this.g.length,A.g.length),C=[];for(let b=0;b<S;b++)C[b]=this.i(b)&A.i(b);return new u(C,this.h&A.h)},n.or=function(A){const S=Math.max(this.g.length,A.g.length),C=[];for(let b=0;b<S;b++)C[b]=this.i(b)|A.i(b);return new u(C,this.h|A.h)},n.xor=function(A){const S=Math.max(this.g.length,A.g.length),C=[];for(let b=0;b<S;b++)C[b]=this.i(b)^A.i(b);return new u(C,this.h^A.h)};function q(A){const S=A.g.length+1,C=[];for(let b=0;b<S;b++)C[b]=A.i(b)<<1|A.i(b-1)>>>31;return new u(C,A.h)}function se(A,S){const C=S>>5;S%=32;const b=A.g.length-C,k=[];for(let L=0;L<b;L++)k[L]=S>0?A.i(L+C)>>>S|A.i(L+C+1)<<32-S:A.i(L+C);return new u(k,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ww=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,qs=u}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ew,Il,Tw,Xc,Up,Sw,Iw,Rw;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var _=0;_<c.length;++_){var w=c[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function o(c,_){if(_)e:{var w=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var $=c[R];if(!($ in w))break e;w=w[$]}c=c[c.length-1],R=w[c],_=_(R),_!=R&&_!=null&&e(w,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var w=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&w.push([R,_[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function m(c,_,w){return c.call.apply(c.bind,arguments)}function g(c,_,w){return g=m,g.apply(null,arguments)}function v(c,_){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function E(c,_){function w(){}w.prototype=_.prototype,c.Z=_.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(R,$,G){for(var le=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)le[ke-2]=arguments[ke];return _.prototype[$].apply(R,le)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const _=c.length;if(_>0){const w=Array(_);for(let R=0;R<_;R++)w[R]=c[R];return w}return[]}function O(c,_){for(let R=1;R<arguments.length;R++){const $=arguments[R];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=c.length||0;const G=$.length||0;c.length=w+G;for(let le=0;le<G;le++)c[w+le]=$[le]}else c.push($)}}class j{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(c){u.setTimeout(()=>{throw c},0)}function B(){var c=A;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Y{constructor(){this.h=this.g=null}add(_,w){const R=W.get();R.set(_,w),this.h?this.h.next=R:this.g=R,this.h=R}}var W=new j(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let q,se=!1,A=new Y,S=()=>{const c=Promise.resolve(void 0);q=()=>{c.then(C)}};function C(){for(var c;c=B();){try{c.h.call(c.g)}catch(w){N(w)}var _=W;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}se=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};u.addEventListener("test",w,_),u.removeEventListener("test",w,_)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function _e(c,_){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}E(_e,k),_e.prototype.init=function(c,_){const w=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(w=="mouseover"?_=c.fromElement:w=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),qe=0;function $e(c,_,w,R,$){this.listener=c,this.proxy=null,this.src=_,this.type=w,this.capture=!!R,this.ha=$,this.key=++qe,this.da=this.fa=!1}function J(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ue(c,_,w){for(const R in c)_.call(w,c[R],R,c)}function oe(c,_){for(const w in c)_.call(void 0,c[w],w,c)}function U(c){const _={};for(const w in c)_[w]=c[w];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(c,_){let w,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(w in R)c[w]=R[w];for(let G=0;G<Z.length;G++)w=Z[G],Object.prototype.hasOwnProperty.call(R,w)&&(c[w]=R[w])}}function Ee(c){this.src=c,this.g={},this.h=0}Ee.prototype.add=function(c,_,w,R,$){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const le=be(c,_,R,$);return le>-1?(_=c[le],w||(_.fa=!1)):(_=new $e(_,this.src,G,!!R,$),_.fa=w,c.push(_)),_};function Pe(c,_){const w=_.type;if(w in c.g){var R=c.g[w],$=Array.prototype.indexOf.call(R,_,void 0),G;(G=$>=0)&&Array.prototype.splice.call(R,$,1),G&&(J(_),c.g[w].length==0&&(delete c.g[w],c.h--))}}function be(c,_,w,R){for(let $=0;$<c.length;++$){const G=c[$];if(!G.da&&G.listener==_&&G.capture==!!w&&G.ha==R)return $}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Fe={};function Ye(c,_,w,R,$){if(Array.isArray(_)){for(let G=0;G<_.length;G++)Ye(c,_[G],w,R,$);return null}return w=Ia(w),c&&c[ze]?c.J(_,w,d(R)?!!R.capture:!1,$):Qt(c,_,w,!1,R,$)}function Qt(c,_,w,R,$,G){if(!_)throw Error("Invalid event type");const le=d($)?!!$.capture:!!$;let ke=to(c);if(ke||(c[He]=ke=new Ee(c)),w=ke.add(_,w,R,le,G),w.proxy)return w;if(R=Zi(),w.proxy=R,R.src=c,R.listener=w,c.addEventListener)L||($=le),$===void 0&&($=!1),c.addEventListener(_.toString(),R,$);else if(c.attachEvent)c.attachEvent(eo(_.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Zi(){function c(w){return _.call(c.src,c.listener,w)}const _=yu;return c}function Sa(c,_,w,R,$){if(Array.isArray(_))for(var G=0;G<_.length;G++)Sa(c,_[G],w,R,$);else R=d(R)?!!R.capture:!!R,w=Ia(w),c&&c[ze]?(c=c.i,G=String(_).toString(),G in c.g&&(_=c.g[G],w=be(_,w,R,$),w>-1&&(J(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete c.g[G],c.h--)))):c&&(c=to(c))&&(_=c.g[_.toString()],c=-1,_&&(c=be(_,w,R,$)),(w=c>-1?_[c]:null)&&os(w))}function os(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[ze])Pe(_.i,c);else{var w=c.type,R=c.proxy;_.removeEventListener?_.removeEventListener(w,R,c.capture):_.detachEvent?_.detachEvent(eo(w),R):_.addListener&&_.removeListener&&_.removeListener(R),(w=to(_))?(Pe(w,c),w.h==0&&(w.src=null,_[He]=null)):J(c)}}}function eo(c){return c in Fe?Fe[c]:Fe[c]="on"+c}function yu(c,_){if(c.da)c=!0;else{_=new _e(_,this);const w=c.listener,R=c.ha||c.src;c.fa&&os(c),c=w.call(R,_)}return c}function to(c){return c=c[He],c instanceof Ee?c:null}var oi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ia(c){return typeof c=="function"?c:(c[oi]||(c[oi]=function(_){return c.handleEvent(_)}),c[oi])}function gt(){b.call(this),this.i=new Ee(this),this.M=this,this.G=null}E(gt,b),gt.prototype[ze]=!0,gt.prototype.removeEventListener=function(c,_,w,R){Sa(this,c,_,w,R)};function dt(c,_){var w,R=c.G;if(R)for(w=[];R;R=R.G)w.push(R);if(c=c.M,R=_.type||_,typeof _=="string")_=new k(_,c);else if(_ instanceof k)_.target=_.target||c;else{var $=_;_=new k(R,c),Ie(_,$)}$=!0;let G,le;if(w)for(le=w.length-1;le>=0;le--)G=_.g=w[le],$=On(G,R,!0,_)&&$;if(G=_.g=c,$=On(G,R,!0,_)&&$,$=On(G,R,!1,_)&&$,w)for(le=0;le<w.length;le++)G=_.g=w[le],$=On(G,R,!1,_)&&$}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const w=c.g[_];for(let R=0;R<w.length;R++)J(w[R]);delete c.g[_],c.h--}}this.G=null},gt.prototype.J=function(c,_,w,R){return this.i.add(String(c),_,!1,w,R)},gt.prototype.K=function(c,_,w,R){return this.i.add(String(c),_,!0,w,R)};function On(c,_,w,R){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let G=0;G<_.length;++G){const le=_[G];if(le&&!le.da&&le.capture==w){const ke=le.listener,ft=le.ha||le.src;le.fa&&Pe(c.i,le),$=ke.call(ft,R)!==!1&&$}}return $&&!R.defaultPrevented}function Ra(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function Ca(c){c.g=Ra(()=>{c.g=null,c.i&&(c.i=!1,Ca(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class _u extends b{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ca(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){b.call(this),this.h=c,this.g={}}E(as,b);var ka=[];function no(c){ue(c.g,function(_,w){this.g.hasOwnProperty(w)&&os(_)},c),c.g={}}as.prototype.N=function(){as.Z.N.call(this),no(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=u.JSON.stringify,vu=u.JSON.parse,ai=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function us(){}function wu(){}var cs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ro(){k.call(this,"d")}E(ro,k);function xa(){k.call(this,"c")}E(xa,k);var Dn={},so=null;function hs(){return so=so||new gt}Dn.Ia="serverreachability";function io(c){k.call(this,Dn.Ia,c)}E(io,k);function Cr(c){const _=hs();dt(_,new io(_))}Dn.STAT_EVENT="statevent";function kr(c,_){k.call(this,Dn.STAT_EVENT,c),this.stat=_}E(kr,k);function ct(c){const _=hs();dt(_,new kr(_,c))}Dn.Ja="timingevent";function Aa(c,_){k.call(this,Dn.Ja,c),this.size=_}E(Aa,k);function ds(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function fs(){this.g=!0}fs.prototype.ua=function(){this.g=!1};function Eu(c,_,w,R,$,G){c.info(function(){if(c.g)if(G){var le="",ke=G.split("&");for(let Qe=0;Qe<ke.length;Qe++){var ft=ke[Qe].split("=");if(ft.length>1){const yt=ft[0];ft=ft[1];const gn=yt.split("_");le=gn.length>=2&&gn[1]=="type"?le+(yt+"="+ft+"&"):le+(yt+"=redacted&")}}}else le=null;else le=G;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+w+`
`+le})}function Tu(c,_,w,R,$,G,le){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+w+`
`+G+" "+le})}function Yn(c,_,w,R){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+li(c,w)+(R?" "+R:"")})}function Su(c,_){c.info(function(){return"TIMEOUT: "+_})}fs.prototype.info=function(){};function li(c,_){if(!c.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var w=G[c];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var $=R[0];if($!="noop"&&$!="stop"&&$!="close")for(let le=1;le<R.length;le++)R[le]=""}}}}return ls(G)}catch{return _}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ms={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Iu;function xr(){}E(xr,us),xr.prototype.g=function(){return new XMLHttpRequest},Iu=new xr;function Jn(c){return encodeURIComponent(String(c))}function oo(c){var _=1;c=c.split(":");const w=[];for(;_>0&&c.length;)w.push(c.shift()),_--;return c.length&&w.push(c.join(":")),w}function En(c,_,w,R){this.j=c,this.i=_,this.l=w,this.S=R||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ru}function Ru(){this.i=null,this.g="",this.h=!1}var Cu={},Na={};function Ln(c,_,w){c.M=1,c.A=Nr(Tn(_)),c.u=w,c.R=!0,Pa(c,null)}function Pa(c,_){c.F=Date.now(),ui(c),c.B=Tn(c.A);var w=c.B,R=c.S;Array.isArray(R)||(R=[String(R)]),Ba(w.i,"t",R),c.C=0,w=c.j.L,c.h=new Ru,c.g=ju(c.j,w?_:null,!c.u),c.P>0&&(c.O=new _u(g(c.Y,c,c.g),c.P)),_=c.V,w=c.g,R=c.ba;var $="readystatechange";Array.isArray($)||($&&(ka[0]=$.toString()),$=ka);for(let G=0;G<$.length;G++){const le=Ye(w,$[G],R||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Cr(),Eu(c.i,c.v,c.B,c.l,c.S,c.u)}En.prototype.ba=function(c){c=c.target;const _=this.O;_&&sr(c)==3?_.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const ke=sr(this.g),ft=this.g.ya(),Qe=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Du(this.g)))){this.K||ke!=4||ft==7||(ft==8||Qe<=0?Cr(3):Cr(2)),ao(this);var _=this.g.ca();this.X=_;var w=ku(this);if(this.o=_==200,Tu(this.i,this.v,this.B,this.l,this.S,ke,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,$=this.g;if((R=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(R)){var G=R;break t}}G=null}if(c=G)Yn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ze(this,c);else{this.o=!1,this.m=3,ct(12),Ar(this),ci(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<w.length;)if(yt=Au(this,w),yt==Na){ke==4&&(this.m=4,ct(14),c=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Cu){this.m=4,ct(15),Yn(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else Yn(this.i,this.l,yt,null),Ze(this,yt);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||w.length!=0||this.h.h||(this.m=1,ct(16),c=!1),this.o=this.o&&c,!c)Yn(this.i,this.l,w,"[Invalid Chunked Response]"),Ar(this),ci(this);else if(w.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),vi(le),le.P=!0,ct(11))}}else Yn(this.i,this.l,w,null),Ze(this,w);ke==4&&Ar(this),this.o&&!this.K&&(ke==4?_o(this.j,this):(this.o=!1,ui(this)))}else $a(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),Ar(this),ci(this)}}}catch{}finally{}};function ku(c){if(!xu(c))return c.g.la();const _=Du(c.g);if(_==="")return"";let w="";const R=_.length,$=sr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ar(c),ci(c),"";c.h.i=new u.TextDecoder}for(let G=0;G<R;G++)c.h.h=!0,w+=c.h.i.decode(_[G],{stream:!($&&G==R-1)});return _.length=0,c.h.g+=w,c.C=0,c.h.g}function xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Au(c,_){var w=c.C,R=_.indexOf(`
`,w);return R==-1?Na:(w=Number(_.substring(w,R)),isNaN(w)?Cu:(R+=1,R+w>_.length?Na:(_=_.slice(R,R+w),c.C=R+w,_)))}En.prototype.cancel=function(){this.K=!0,Ar(this)};function ui(c){c.T=Date.now()+c.H,ba(c,c.H)}function ba(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ds(g(c.aa,c),_)}function ao(c){c.D&&(u.clearTimeout(c.D),c.D=null)}En.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Su(this.i,this.B),this.M!=2&&(Cr(),ct(17)),Ar(this),this.m=2,ci(this)):ba(this,this.T-c)};function ci(c){c.j.I==0||c.K||_o(c.j,c)}function Ar(c){ao(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,no(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Ze(c,_){try{var w=c.j;if(w.I!=0&&(w.g==c||Da(w.h,c))){if(!c.L&&Da(w.h,c)&&w.I==3){try{var R=w.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)yo(w),pn(w);else break e;ar(w),ct(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ds(g(w.Va,w),6e3));hi(w.h)<=1&&w.ta&&(w.ta=void 0)}else mn(w,11)}else if((c.L||w.g==c)&&yo(w),!x(_))for($=w.Ba.g.parse(_),_=0;_<$.length;_++){let Qe=$[_];const yt=Qe[0];if(!(yt<=w.K))if(w.K=yt,Qe=Qe[1],w.I==2)if(Qe[0]=="c"){w.M=Qe[1],w.ba=Qe[2];const gn=Qe[3];gn!=null&&(w.ka=gn,w.j.info("VER="+w.ka));const Lr=Qe[4];Lr!=null&&(w.za=Lr,w.j.info("SVER="+w.za));const lr=Qe[5];lr!=null&&typeof lr=="number"&&lr>0&&(R=1.5*lr,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const ur=c.g;if(ur){const Eo=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var G=R.h;G.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(uo(G,G.h),G.h=null))}if(R.G){const qa=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(R.wa=qa,Ke(R.J,R.G,qa))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var le=c;if(R.na=Wa(R,R.L?R.ba:null,R.W),le.L){di(R.h,le);var ke=le,ft=R.O;ft&&(ke.H=ft),ke.D&&(ao(ke),ui(ke)),R.g=le}else Ft(R);w.i.length>0&&Dr(w)}else Qe[0]!="stop"&&Qe[0]!="close"||mn(w,7);else w.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?mn(w,7):mo(w):Qe[0]!="noop"&&w.l&&w.l.qa(Qe),w.A=0)}}Cr(4)}catch{}}var Ed=class{constructor(c,_){this.g=c,this.map=_}};function lo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function Da(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function uo(c,_){c.g?c.g.add(_):c.h=_}function di(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}lo.prototype.cancel=function(){if(this.i=hn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const w of c.g.values())_=_.concat(w.G);return _}return D(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dn(c,_){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const R=c[w].indexOf("=");let $,G=null;R>=0?($=c[w].substring(0,R),G=c[w].substring(R+1)):$=c[w],_($,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Xn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof Xn?(this.l=c.l,fi(this,c.j),this.o=c.o,this.g=c.g,Zn(this,c.u),this.h=c.h,gs(this,za(c.i)),this.m=c.m):c&&(_=String(c).match(Nu))?(this.l=!1,fi(this,_[1]||"",!0),this.o=pi(_[2]||""),this.g=pi(_[3]||"",!0),Zn(this,_[4]),this.h=pi(_[5]||"",!0),gs(this,_[6]||"",!0),this.m=pi(_[7]||"")):(this.l=!1,this.i=new Ve(null,this.l))}Xn.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(mi(_,ja,!0),":");var w=this.g;return(w||_=="file")&&(c.push("//"),(_=this.o)&&c.push(mi(_,ja,!0),"@"),c.push(Jn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(mi(w,w.charAt(0)=="/"?gi:Va,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",mi(w,Ma)),c.join("")},Xn.prototype.resolve=function(c){const _=Tn(this);let w=!!c.j;w?fi(_,c.j):w=!!c.o,w?_.o=c.o:w=!!c.g,w?_.g=c.g:w=c.u!=null;var R=c.h;if(w)Zn(_,c.u);else if(w=!!c.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var $=_.h.lastIndexOf("/");$!=-1&&(R=_.h.slice(0,$+1)+R)}if($=R,$==".."||$==".")R="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){R=$.lastIndexOf("/",0)==0,$=$.split("/");const G=[];for(let le=0;le<$.length;){const ke=$[le++];ke=="."?R&&le==$.length&&G.push(""):ke==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),R&&le==$.length&&G.push("")):(G.push(ke),R=!0)}R=G.join("/")}else R=$}return w?_.h=R:w=c.i.toString()!=="",w?gs(_,za(c.i)):w=!!c.m,w&&(_.m=c.m),_};function Tn(c){return new Xn(c)}function fi(c,_,w){c.j=w?pi(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Zn(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function gs(c,_,w){_ instanceof Ve?(c.i=_,ho(c.i,c.l)):(w||(_=mi(_,Td)),c.i=new Ve(_,c.l))}function Ke(c,_,w){c.i.set(_,w)}function Nr(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mi(c,_,w){return typeof c=="string"?(c=encodeURI(c).replace(_,La),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function La(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ja=/[#\/\?@]/g,Va=/[#\?:]/g,gi=/[#\?]/g,Td=/[#\?@]/g,Ma=/#/g;function Ve(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function er(c){c.g||(c.g=new Map,c.h=0,c.i&&dn(c.i,function(_,w){c.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=Ve.prototype,n.add=function(c,_){er(this),this.i=null,c=tr(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(_),this.h+=1,this};function Fa(c,_){er(c),_=tr(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function co(c,_){return er(c),_=tr(c,_),c.g.has(_)}n.forEach=function(c,_){er(this),this.g.forEach(function(w,R){w.forEach(function($){c.call(_,$,R,this)},this)},this)};function Ua(c,_){er(c);let w=[];if(typeof _=="string")co(c,_)&&(w=w.concat(c.g.get(tr(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)w=w.concat(c[_]);return w}n.set=function(c,_){return er(this),this.i=null,c=tr(this,c),co(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},n.get=function(c,_){return c?(c=Ua(this,c),c.length>0?String(c[0]):_):_};function Ba(c,_,w){Fa(c,_),w.length>0&&(c.i=null,c.g.set(tr(c,_),D(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var w=_[R];const $=Jn(w);w=Ua(this,w);for(let G=0;G<w.length;G++){let le=$;w[G]!==""&&(le+="="+Jn(w[G])),c.push(le)}}return this.i=c.join("&")};function za(c){const _=new Ve;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function tr(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function ho(c,_){_&&!c.j&&(er(c),c.i=null,c.g.forEach(function(w,R){const $=R.toLowerCase();R!=$&&(Fa(this,R),Ba(this,$,w))},c)),c.j=_}function nr(c,_){const w=new fs;if(u.Image){const R=new Image;R.onload=v(Nt,w,"TestLoadImage: loaded",!0,_,R),R.onerror=v(Nt,w,"TestLoadImage: error",!1,_,R),R.onabort=v(Nt,w,"TestLoadImage: abort",!1,_,R),R.ontimeout=v(Nt,w,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else _(!1)}function rr(c,_){const w=new fs,R=new AbortController,$=setTimeout(()=>{R.abort(),Nt(w,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:R.signal}).then(G=>{clearTimeout($),G.ok?Nt(w,"TestPingServer: ok",!0,_):Nt(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),Nt(w,"TestPingServer: error",!1,_)})}function Nt(c,_,w,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(w)}catch{}}function yi(){this.g=new ai}function Pr(c){this.i=c.Sb||null,this.h=c.ab||!1}E(Pr,us),Pr.prototype.g=function(){return new fn(this.i,this.h)};function fn(c,_){gt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(fn,gt),n=fn.prototype,n.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,jn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ys(this):jn(this),this.readyState==3&&Pu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,ys(this))},n.Na=function(c){this.g&&(this.response=c,ys(this))},n.ga=function(){this.g&&ys(this)};function ys(c){c.readyState=4,c.l=null,c.j=null,c.B=null,jn(c)}n.setRequestHeader=function(c,_){this.A.append(c,_)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=_.next();return c.join(`\r
`)};function jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bu(c){let _="";return ue(c,function(w,R){_+=R,_+=":",_+=w,_+=`\r
`}),_}function fo(c,_,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=bu(w),typeof c=="string"?w!=null&&Jn(w):Ke(c,_,w))}function Je(c){gt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,gt);var Ou=/^https?$/i,Sd=["POST","PUT"];n=Je.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,_,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Iu.g(),this.g.onreadystatechange=I(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){_s(this,G);return}if(c=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)w.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const G of R.keys())w.set(G,R.get(G));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),$=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Sd,_,void 0)>=0)||R||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of w)this.g.setRequestHeader(G,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){_s(this,G)}};function _s(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,vs(c),Or(c)}function vs(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,dt(this,"complete"),dt(this,"abort"),Or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Or(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},n.Xa=function(){br(this)};function br(c){if(c.h&&typeof a<"u"){if(c.v&&sr(c)==4)setTimeout(c.Ca.bind(c),0);else if(dt(c,"readystatechange"),sr(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var R;if(R=G===0){let le=String(c.D).match(Nu)[1]||null;!le&&u.self&&u.self.location&&(le=u.self.location.protocol.slice(0,-1)),R=!Ou.test(le?le.toLowerCase():"")}w=R}if(w)dt(c,"complete"),dt(c,"success");else{c.o=6;try{var $=sr(c)>2?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.ca()+"]",vs(c)}}finally{Or(c)}}}}function Or(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,_||dt(c,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function sr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return sr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),vu(_)}};function Du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(c){const _={};c=(c.g&&sr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(x(c[R]))continue;var w=oo(c[R]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=_[$]||[];_[$]=G,G.push(w)}oe(_,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(c,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||_}function po(c){this.za=0,this.i=[],this.j=new fs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ir("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ir("baseRetryDelayMs",5e3,c),this.Za=ir("retryDelaySeedMs",1e4,c),this.Ta=ir("forwardChannelMaxRetries",2,c),this.va=ir("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new lo(c&&c.concurrentRequestLimit),this.Ba=new yi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=po.prototype,n.ka=8,n.I=1,n.connect=function(c,_,w,R){ct(0),this.W=c,this.H=_||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=Wa(this,null,this.W),Dr(this)};function mo(c){if(go(c),c.I==3){var _=c.V++,w=Tn(c.J);if(Ke(w,"SID",c.M),Ke(w,"RID",_),Ke(w,"TYPE","terminate"),or(c,w),_=new En(c,c.j,_),_.M=2,_.A=Nr(Tn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=_.A,w=!0),w||(_.g=ju(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ui(_)}wi(c)}function pn(c){c.g&&(vi(c),c.g.cancel(),c.g=null)}function go(c){pn(c),c.v&&(u.clearTimeout(c.v),c.v=null),yo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Dr(c){if(!Oa(c.h)&&!c.m){c.m=!0;var _=c.Ea;q||S(),se||(q(),se=!0),A.add(_,c),c.D=0}}function Lu(c,_){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ds(g(c.Ea,c,_),vo(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const $=new En(this,this.j,c);let G=this.o;if(this.U&&(G?(G=U(G),Ie(G,this.U)):G=this.U),this.u!==null||this.R||($.J=G,G=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Ha(this,$,_),w=Tn(this.J),Ke(w,"RID",c),Ke(w,"CVER",22),this.G&&Ke(w,"X-HTTP-Session-Id",this.G),or(this,w),G&&(this.R?_="headers="+Jn(bu(G))+"&"+_:this.u&&fo(w,this.u,G)),uo(this.h,$),this.Ra&&Ke(w,"TYPE","init"),this.S?(Ke(w,"$req",_),Ke(w,"SID","null"),$.U=!0,Ln($,w,null)):Ln($,w,_),this.I=2}}else this.I==3&&(c?_i(this,c):this.i.length==0||Oa(this.h)||_i(this))};function _i(c,_){var w;_?w=_.l:w=c.V++;const R=Tn(c.J);Ke(R,"SID",c.M),Ke(R,"RID",w),Ke(R,"AID",c.K),or(c,R),c.u&&c.o&&fo(R,c.u,c.o),w=new En(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Ha(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),uo(c.h,w),Ln(w,R,_)}function or(c,_){c.H&&ue(c.H,function(w,R){Ke(_,R,w)}),c.l&&ue({},function(w,R){Ke(_,R,w)})}function Ha(c,_,w){w=Math.min(c.i.length,w);const R=c.l?g(c.l.Ka,c.l,c):null;e:{var $=c.i;let ke=-1;for(;;){const ft=["count="+w];ke==-1?w>0?(ke=$[0].g,ft.push("ofs="+ke)):ke=0:ft.push("ofs="+ke);let Qe=!0;for(let yt=0;yt<w;yt++){var G=$[yt].g;const gn=$[yt].map;if(G-=ke,G<0)ke=Math.max(0,$[yt].g-100),Qe=!1;else try{G="req"+G+"_"||"";try{var le=gn instanceof Map?gn:Object.entries(gn);for(const[Lr,lr]of le){let ur=lr;d(lr)&&(ur=ls(lr)),ft.push(G+Lr+"="+encodeURIComponent(ur))}}catch(Lr){throw ft.push(G+"type="+encodeURIComponent("_badmap")),Lr}}catch{R&&R(gn)}}if(Qe){le=ft.join("&");break e}}le=void 0}return c=c.i.splice(0,w),_.G=c,le}function Ft(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;q||S(),se||(q(),se=!0),A.add(_,c),c.A=0}}function ar(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ds(g(c.Da,c),vo(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,ws(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ds(g(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),pn(this),ws(this))};function vi(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function ws(c){c.g=new En(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Tn(c.na);Ke(_,"RID","rpc"),Ke(_,"SID",c.M),Ke(_,"AID",c.K),Ke(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(_,"TO",c.ia),Ke(_,"TYPE","xmlhttp"),or(c,_),c.u&&c.o&&fo(_,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Nr(Tn(_)),w.u=null,w.R=!0,Pa(w,c)}n.Va=function(){this.C!=null&&(this.C=null,pn(this),ar(this),ct(19))};function yo(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function _o(c,_){var w=null;if(c.g==_){yo(c),vi(c),c.g=null;var R=2}else if(Da(c.h,_))w=_.G,di(c.h,_),R=1;else return;if(c.I!=0){if(_.o)if(R==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var $=c.D;R=hs(),dt(R,new Aa(R,w)),Dr(c)}else Ft(c);else if($=_.m,$==3||$==0&&_.X>0||!(R==1&&Lu(c,_)||R==2&&ar(c)))switch(w&&w.length>0&&(_=c.h,_.i=_.i.concat(w)),$){case 1:mn(c,5);break;case 4:mn(c,10);break;case 3:mn(c,6);break;default:mn(c,2)}}}function vo(c,_){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*_}function mn(c,_){if(c.j.info("Error code "+_),_==2){var w=g(c.bb,c),R=c.Ua;const $=!R;R=new Xn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fi(R,"https"),Nr(R),$?nr(R.toString(),w):rr(R.toString(),w)}else ct(2);c.I=0,c.l&&c.l.pa(_),wi(c),go(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function wi(c){if(c.I=0,c.ja=[],c.l){const _=hn(c.h);(_.length!=0||c.i.length!=0)&&(O(c.ja,_),O(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function Wa(c,_,w){var R=w instanceof Xn?Tn(w):new Xn(w);if(R.g!="")_&&(R.g=_+"."+R.g),Zn(R,R.u);else{var $=u.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const G=new Xn(null);R&&fi(G,R),_&&(G.g=_),$&&Zn(G,$),w&&(G.h=w),R=G}return w=c.G,_=c.wa,w&&_&&Ke(R,w,_),Ke(R,"VER",c.ka),or(c,R),R}function ju(c,_,w){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Je(new Pr({ab:w})):new Je(c.ma),_.Fa(c.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}n=Vu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function wo(){}wo.prototype.g=function(c,_){return new Pt(c,_)};function Pt(c,_){gt.call(this),this.g=new po(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!x(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Es(this)}E(Pt,gt),Pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){mo(this.g)},Pt.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=ls(c),c=w);_.i.push(new Ed(_.Ya++,c)),_.I==3&&Dr(_)},Pt.prototype.N=function(){this.g.l=null,delete this.j,mo(this.g),delete this.g,Pt.Z.N.call(this)};function Mu(c){ro.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const w in _){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}E(Mu,ro);function Fu(){xa.call(this),this.status=1}E(Fu,xa);function Es(c){this.g=c}E(Es,Vu),Es.prototype.ra=function(){dt(this.g,"a")},Es.prototype.qa=function(c){dt(this.g,new Mu(c))},Es.prototype.pa=function(c){dt(this.g,new Fu)},Es.prototype.oa=function(){dt(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,Rw=function(){return new wo},Iw=function(){return hs()},Sw=Dn,Up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Xc=ps,ms.COMPLETE="complete",Tw=ms,wu.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Il=wu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Ew=Je}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const Cv="@firebase/firestore",kv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new _m("@firebase/firestore");function $o(){return Hi.logLevel}function he(n,...e){if(Hi.logLevel<=De.DEBUG){const t=e.map(Am);Hi.debug(`Firestore (${ga}): ${n}`,...t)}}function ts(n,...e){if(Hi.logLevel<=De.ERROR){const t=e.map(Am);Hi.error(`Firestore (${ga}): ${n}`,...t)}}function na(n,...e){if(Hi.logLevel<=De.WARN){const t=e.map(Am);Hi.warn(`Firestore (${ga}): ${n}`,...t)}}function Am(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Cw(n,r,t)}function Cw(n,e,t){let r=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ts(r),new Error(r)}function Ge(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Cw(e,o,r)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Wt.UNAUTHENTICATED)))}shutdown(){}}class LA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jA{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let a=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const m=a;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new kw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class VA{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MA{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new VA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UA(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Bp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return fp(o)===fp(a)?Le(o,a):fp(o)?1:-1}return Le(n.length,e.length)}const BA=55296,zA=57343;function fp(n){const e=n.charCodeAt(0);return e>=BA&&e<=zA}function ra(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__name__";class mr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=mr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Le(e.length,t.length)}static compareSegments(e,t){const r=mr.isNumericId(e),o=mr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?mr.extractNumericId(e).compare(mr.extractNumericId(t)):Bp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class nt extends mr{construct(e,t,r){return new nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new nt(t)}static emptyPath(){return new nt([])}}const $A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends mr{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return $A.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new jt([Av])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n,e,t){if(!t)throw new me(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HA(n,e,t,r){if(e===!0&&r===!0)throw new me(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Nv(n){if(!ye.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pv(n){if(ye.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Aw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pm(n);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,e){const t={typeString:n};return e&&(t.value=e),t}function iu(n,e){if(!Aw(n))throw new me(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new me(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=-62135596800,Ov=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ov);return new rt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bv)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ov}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:wt("string",rt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new rt(0,0))}static max(){return new Ce(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function WA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new rt(t+1,0):new rt(t,r));return new Js(o,ye.empty(),e)}function qA(n){return new Js(n.readTime,n.key,zl)}class Js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Js(Ce.min(),ye.empty(),zl)}static max(){return new Js(Ce.max(),ye.empty(),zl)}}function KA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==GA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.reject(t)}static resolve(e){return new ee(((t,r)=>{t(e)}))}static reject(e){return new ee(((t,r)=>{r(e)}))}static waitFor(e){return new ee(((t,r)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(m=>r(m)))})),u=!0,a===o&&t()}))}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next((o=>o?ee.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new ee(((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let m=0;m<a;m++){const g=m;t(e[g]).next((v=>{u[g]=v,++d,d===a&&r(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new ee(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function YA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _a(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}td.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=-1;function nd(n){return n==null}function Rh(n){return n===0&&1/n==-1/0}function JA(n){return typeof n=="number"&&Number.isInteger(n)&&!Rh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="";function XA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Dv(e)),e=ZA(n.get(t),e);return Dv(e)}function ZA(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Nw:t+="";break;default:t+=a}}return t}function Dv(n){return n+Nw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Pw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Lt.RED,this.left=o??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Lt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Rt(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new bw("Invalid base64 string: "+a):a}})(e);return new Mt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const eN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=eN.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zs(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="server_timestamp",Dw="__type__",Lw="__previous_value__",jw="__local_write_time__";function Om(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Dw])==null?void 0:r.stringValue)===Ow}function rd(n){const e=n.mapValue.fields[Lw];return Om(e)?rd(e):e}function $l(n){const e=Xs(n.mapValue.fields[jw].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t,r,o,a,u,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Ch="(default)";class Hl{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__type__",nN="__max__",Uc={mapValue:{}},Mw="__vector__",kh="value";function ei(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Om(n)?4:sN(n)?9007199254740991:rN(n)?10:11:Se(28295,{value:n})}function Sr(n,e){if(n===e)return!0;const t=ei(n);if(t!==ei(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Xs(o.timestampValue),d=Xs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Zs(o.bytesValue).isEqual(Zs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return mt(o.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return mt(o.integerValue)===mt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=mt(o.doubleValue),d=mt(a.doubleValue);return u===d?Rh(u)===Rh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return ra(n.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Lv(u)!==Lv(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!Sr(u[m],d[m])))return!1;return!0})(n,e);default:return Se(52216,{left:n})}}function Wl(n,e){return(n.values||[]).find((t=>Sr(t,e)))!==void 0}function sa(n,e){if(n===e)return 0;const t=ei(n),r=ei(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=mt(a.integerValue||a.doubleValue),m=mt(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,e);case 3:return Vv(n.timestampValue,e.timestampValue);case 4:return Vv($l(n),$l(e));case 5:return Bp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Zs(a),m=Zs(u);return d.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),m=u.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Le(d[g],m[g]);if(v!==0)return v}return Le(d.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Le(mt(a.latitude),mt(u.latitude));return d!==0?d:Le(mt(a.longitude),mt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Mv(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var I,D,O,j;const d=a.fields||{},m=u.fields||{},g=(I=d[kh])==null?void 0:I.arrayValue,v=(D=m[kh])==null?void 0:D.arrayValue,E=Le(((O=g==null?void 0:g.values)==null?void 0:O.length)||0,((j=v==null?void 0:v.values)==null?void 0:j.length)||0);return E!==0?E:Mv(g,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Uc.mapValue&&u===Uc.mapValue)return 0;if(a===Uc.mapValue)return 1;if(u===Uc.mapValue)return-1;const d=a.fields||{},m=Object.keys(d),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const I=Bp(m[E],v[E]);if(I!==0)return I;const D=sa(d[m[E]],g[v[E]]);if(D!==0)return D}return Le(m.length,v.length)})(n.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function Vv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Xs(n),r=Xs(e),o=Le(t.seconds,r.seconds);return o!==0?o:Le(t.nanos,r.nanos)}function Mv(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=sa(t[o],r[o]);if(a)return a}return Le(t.length,r.length)}function ia(n){return zp(n)}function zp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Xs(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=zp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${zp(t.fields[u])}`;return o+"}"})(n.mapValue):Se(61005,{value:n})}function Zc(n){switch(ei(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rd(n);return e?16+Zc(e):16;case 5:return 2*n.stringValue.length;case 6:return Zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Zc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Qi(r.fields,((a,u)=>{o+=a.length+Zc(u)})),o})(n.mapValue);default:throw Se(13486,{value:n})}}function $p(n){return!!n&&"integerValue"in n}function Dm(n){return!!n&&"arrayValue"in n}function Fv(n){return!!n&&"nullValue"in n}function Uv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eh(n){return!!n&&"mapValue"in n}function rN(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Vw])==null?void 0:r.stringValue)===Mw}function Pl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Qi(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Pl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pl(n.arrayValue.values[t]);return e}return{...n}}function sN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=jt.emptyPath(),r={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Pl(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Qi(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Nn(Pl(this.value))}}function Fw(n){const e=[];return Qi(n.fields,((t,r)=>{const o=new jt([t]);if(eh(r)){const a=Fw(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new qt(e,0,Ce.min(),Ce.min(),Ce.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,o){return new qt(e,1,t,Ce.min(),r,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ce.min(),Ce.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ce.min(),Ce.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.position=e,this.inclusive=t}}function Bv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=sa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function zv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t="asc"){this.field=e,this.dir=t}}function iN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class St extends Uw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new aN(e,t,r):t==="array-contains"?new cN(e,r):t==="in"?new hN(e,r):t==="not-in"?new dN(e,r):t==="array-contains-any"?new fN(e,r):new St(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lN(e,r):new uN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sa(t,this.value)):t!==null&&ei(this.value)===ei(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends Uw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return Bw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bw(n){return n.op==="and"}function zw(n){return oN(n)&&Bw(n)}function oN(n){for(const e of n.filters)if(e instanceof Ir)return!1;return!0}function Hp(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+ia(n.value);if(zw(n))return n.filters.map((e=>Hp(e))).join(",");{const e=n.filters.map((t=>Hp(t))).join(",");return`${n.op}(${e})`}}function $w(n,e){return n instanceof St?(function(r,o){return o instanceof St&&r.op===o.op&&r.field.isEqual(o.field)&&Sr(r.value,o.value)})(n,e):n instanceof Ir?(function(r,o){return o instanceof Ir&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,d)=>a&&$w(u,o.filters[d])),!0):!1})(n,e):void Se(19439)}function Hw(n){return n instanceof St?(function(t){return`${t.field.canonicalString()} ${t.op} ${ia(t.value)}`})(n):n instanceof Ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(Hw).join(" ,")+"}"})(n):"Filter"}class aN extends St{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class lN extends St{constructor(e,t){super(e,"in",t),this.keys=Ww("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class uN extends St{constructor(e,t){super(e,"not-in",t),this.keys=Ww("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ww(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>ye.fromName(r.referenceValue)))}class cN extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dm(t)&&Wl(t.arrayValue,this.value)}}class hN extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wl(this.value.arrayValue,t)}}class dN extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wl(this.value.arrayValue,t)}}class fN extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function $v(n,e=null,t=[],r=[],o=null,a=null,u=null){return new pN(n,e,t,r,o,a,u)}function Lm(n){const e=xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Hp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),nd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ia(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ia(r))).join(",")),e.Te=t}return e.Te}function jm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$w(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zv(n.startAt,e.startAt)&&zv(n.endAt,e.endAt)}function Wp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mN(n,e,t,r,o,a,u,d){return new sd(n,e,t,r,o,a,u,d)}function Vm(n){return new sd(n)}function Hv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gN(n){return n.collectionGroup!==null}function bl(n){const e=xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Rt(jt.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ah(a,r))})),t.has(jt.keyField().canonicalString())||e.Ie.push(new Ah(jt.keyField(),r))}return e.Ie}function _r(n){const e=xe(n);return e.Ee||(e.Ee=yN(e,bl(n))),e.Ee}function yN(n,e){if(n.limitType==="F")return $v(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Ah(o.field,a)}));const t=n.endAt?new xh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xh(n.startAt.position,n.startAt.inclusive):null;return $v(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qp(n,e,t){return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function id(n,e){return jm(_r(n),_r(e))&&n.limitType===e.limitType}function qw(n){return`${Lm(_r(n))}|lt:${n.limitType}`}function Ho(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>Hw(o))).join(", ")}]`),nd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ia(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ia(o))).join(",")),`Target(${r})`})(_r(n))}; limitType=${n.limitType})`}function od(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of bl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,d,m){const g=Bv(u,d,m);return u.inclusive?g<=0:g<0})(r.startAt,bl(r),o)||r.endAt&&!(function(u,d,m){const g=Bv(u,d,m);return u.inclusive?g>=0:g>0})(r.endAt,bl(r),o))})(n,e)}function _N(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Kw(n){return(e,t)=>{let r=!1;for(const o of bl(n)){const a=vN(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function vN(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(a,u,d){const m=u.data.field(a),g=d.data.field(a);return m!==null&&g!==null?sa(m,g):Se(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return Pw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new ut(ye.comparator);function ns(){return wN}const Gw=new ut(ye.comparator);function Rl(...n){let e=Gw;for(const t of n)e=e.insert(t.key,t);return e}function Qw(n){let e=Gw;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Di(){return Ol()}function Yw(){return Ol()}function Ol(){return new Yi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const EN=new ut(ye.comparator),TN=new Rt(ye.comparator);function je(...n){let e=TN;for(const t of n)e=e.add(t);return e}const SN=new Rt(Le);function IN(){return SN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function Jw(n){return{integerValue:""+n}}function RN(n,e){return JA(e)?Jw(e):Mm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function CN(n,e,t){return n instanceof Nh?(function(o,a){const u={fields:{[Dw]:{stringValue:Ow},[jw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Om(a)&&(a=rd(a)),a&&(u.fields[Lw]=a),{mapValue:u}})(t,e):n instanceof ql?Zw(n,e):n instanceof Kl?eE(n,e):(function(o,a){const u=Xw(o,a),d=Wv(u)+Wv(o.Ae);return $p(u)&&$p(o.Ae)?Jw(d):Mm(o.serializer,d)})(n,e)}function kN(n,e,t){return n instanceof ql?Zw(n,e):n instanceof Kl?eE(n,e):t}function Xw(n,e){return n instanceof Ph?(function(r){return $p(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Nh extends ad{}class ql extends ad{constructor(e){super(),this.elements=e}}function Zw(n,e){const t=tE(e);for(const r of n.elements)t.some((o=>Sr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Kl extends ad{constructor(e){super(),this.elements=e}}function eE(n,e){let t=tE(e);for(const r of n.elements)t=t.filter((o=>!Sr(o,r)));return{arrayValue:{values:t}}}class Ph extends ad{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Wv(n){return mt(n.integerValue||n.doubleValue)}function tE(n){return Dm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xN(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof ql&&o instanceof ql||r instanceof Kl&&o instanceof Kl?ra(r.elements,o.elements,Sr):r instanceof Ph&&o instanceof Ph?Sr(r.Ae,o.Ae):r instanceof Nh&&o instanceof Nh})(n.transform,e.transform)}class AN{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ld{}function nE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Fm(n.key,vr.none()):new ou(n.key,n.data,vr.none());{const t=n.data,r=Nn.empty();let o=new Rt(jt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Ji(n.key,r,new Wn(o.toArray()),vr.none())}}function NN(n,e,t){n instanceof ou?(function(o,a,u){const d=o.value.clone(),m=Kv(o.fieldTransforms,a,u.transformResults);d.setAll(m),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Ji?(function(o,a,u){if(!th(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Kv(o.fieldTransforms,a,u.transformResults),m=a.data;m.setAll(rE(o)),m.setAll(d),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Dl(n,e,t,r){return n instanceof ou?(function(a,u,d,m){if(!th(a.precondition,u))return d;const g=a.value.clone(),v=Gv(a.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ji?(function(a,u,d,m){if(!th(a.precondition,u))return d;const g=Gv(a.fieldTransforms,m,u),v=u.data;return v.setAll(rE(a)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,r):(function(a,u,d){return th(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function PN(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=Xw(r.transform,o||null);a!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,a))}return t||null}function qv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ra(r,o,((a,u)=>xN(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ou extends ld{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends ld{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Kv(n,e,t){const r=new Map;Ge(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,kN(u,d,t[o]))}return r}function Gv(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,CN(a,u,e))}return r}class Fm extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bN extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&NN(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Yw();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const m=nE(u,d);m!==null&&r.set(o.key,m),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,((t,r)=>qv(t,r)))&&ra(this.baseMutations,e.baseMutations,((t,r)=>qv(t,r)))}}class Um{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return EN})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Um(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Me;function jN(n){switch(n){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function sE(n){if(n===void 0)return ts("GRPC error has no .code"),te.UNKNOWN;switch(n){case vt.OK:return te.OK;case vt.CANCELLED:return te.CANCELLED;case vt.UNKNOWN:return te.UNKNOWN;case vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case vt.INTERNAL:return te.INTERNAL;case vt.UNAVAILABLE:return te.UNAVAILABLE;case vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case vt.NOT_FOUND:return te.NOT_FOUND;case vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case vt.ABORTED:return te.ABORTED;case vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case vt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:n})}}(Me=vt||(vt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new qs([4294967295,4294967295],0);function Qv(n){const e=VN().encode(n),t=new ww;return t.update(e),new Uint8Array(t.digest())}function Yv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qs([t,r],0),new qs([o,a],0)]}class Bm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cl(`Invalid padding: ${t}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=qs.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(qs.fromNumber(r)));return o.compare(MN)===1&&(o=new qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Qv(e),[r,o]=Yv(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Bm(a,o,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=Qv(e),[r,o]=Yv(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ud(Ce.min(),o,new ut(Le),ns(),je())}}class au{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new au(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class iE{constructor(e,t){this.targetId=e,this.Ce=t}}class oE{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Jv{constructor(){this.ve=0,this.Fe=Xv(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:a})}})),new au(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Xv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FN{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.Je=Bc(),this.He=Bc(),this.Ye=new ut(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Wp(a))if(r===0){const u=new ye(a.path);this.et(t,u,qt.newNoDocument(u,Ce.min()))}else Ge(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Zs(r).toUint8Array()}catch(m){if(m instanceof bw)return na("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Bm(u,o,a)}catch(m){return na(m instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Wp(d.target)){const m=new ye(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,qt.newNoDocument(m,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=je();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new ud(e,t,this.Ye,this.je,r);return this.je=ns(),this.Je=Bc(),this.He=Bc(),this.Ye=new ut(Le),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Jv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Rt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Rt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bc(){return new ut(ye.comparator)}function Xv(){return new ut(ye.comparator)}const UN={asc:"ASCENDING",desc:"DESCENDING"},BN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zN={and:"AND",or:"OR"};class $N{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kp(n,e){return n.useProto3Json||nd(e)?e:{value:e}}function bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HN(n,e){return bh(n,e.toTimestamp())}function wr(n){return Ge(!!n,49232),Ce.fromTimestamp((function(t){const r=Xs(t);return new rt(r.seconds,r.nanos)})(n))}function zm(n,e){return Gp(n,e).canonicalString()}function Gp(n,e){const t=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function lE(n){const e=nt.fromString(n);return Ge(fE(e),10190,{key:e.toString()}),e}function Qp(n,e){return zm(n.databaseId,e.path)}function pp(n,e){const t=lE(e);if(t.get(1)!==n.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(cE(t))}function uE(n,e){return zm(n.databaseId,e)}function WN(n){const e=lE(n);return e.length===4?nt.emptyPath():cE(e)}function Yp(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cE(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Zv(n,e,t){return{name:Qp(n,e),fields:t.value.mapValue.fields}}function qN(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(g,v){return g.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),Mt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Mt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(g){const v=g.code===void 0?te.UNKNOWN:sE(g.code);return new me(v,g.message||"")})(u);t=new oE(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=pp(n,r.document.name),a=wr(r.document.updateTime),u=r.document.createTime?wr(r.document.createTime):Ce.min(),d=new Nn({mapValue:{fields:r.document.fields}}),m=qt.newFoundDocument(o,a,u,d),g=r.targetIds||[],v=r.removedTargetIds||[];t=new nh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=pp(n,r.document),a=r.readTime?wr(r.readTime):Ce.min(),u=qt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new nh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=pp(n,r.document),a=r.removedTargetIds||[];t=new nh([],a,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new LN(o,a),d=r.targetId;t=new iE(d,u)}}return t}function KN(n,e){let t;if(e instanceof ou)t={update:Zv(n,e.key,e.value)};else if(e instanceof Fm)t={delete:Qp(n,e.key)};else if(e instanceof Ji)t={update:Zv(n,e.key,e.data),updateMask:nP(e.fieldMask)};else{if(!(e instanceof bN))return Se(16599,{Vt:e.type});t={verify:Qp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof Nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ql)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ph)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:HN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)})(n,e.precondition)),t}function GN(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?wr(o.updateTime):wr(a);return u.isEqual(Ce.min())&&(u=wr(a)),new AN(u,o.transformResults||[])})(t,e)))):[]}function QN(n,e){return{documents:[uE(n,e.path)]}}function YN(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uE(n,o);const a=(function(g){if(g.length!==0)return dE(Ir.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(g){if(g.length!==0)return g.map((v=>(function(I){return{field:Wo(I.field),direction:ZN(I.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Kp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function JN(n){let e=WN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ge(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(E){const I=hE(E);return I instanceof Ir&&zw(I)?I.getFilters():[I]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((I=>(function(O){return new Ah(qo(O.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(I)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let I;return I=typeof E=="object"?E.value:E,nd(I)?null:I})(t.limit));let m=null;t.startAt&&(m=(function(E){const I=!!E.before,D=E.values||[];return new xh(D,I)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const I=!E.before,D=E.values||[];return new xh(D,I)})(t.endAt)),mN(e,o,u,a,d,"F",m,g)}function XN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qo(t.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=qo(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qo(t.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(t.unaryFilter.field);return St.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return St.create(qo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ir.create(t.compositeFilter.filters.map((r=>hE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(n):Se(30097,{filter:n})}function ZN(n){return UN[n]}function eP(n){return BN[n]}function tP(n){return zN[n]}function Wo(n){return{fieldPath:n.canonicalString()}}function qo(n){return jt.fromServerFormat(n.fieldPath)}function dE(n){return n instanceof St?(function(t){if(t.op==="=="){if(Uv(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NAN"}};if(Fv(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Uv(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NAN"}};if(Fv(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(t.field),op:eP(t.op),value:t.value}}})(n):n instanceof Ir?(function(t){const r=t.getFilters().map((o=>dE(o)));return r.length===1?r[0]:{compositeFilter:{op:tP(t.op),filters:r}}})(n):Se(54877,{filter:n})}function nP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function fE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t,r,o,a=Ce.min(),u=Ce.min(),d=Mt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.yt=e}}function sP(n){const e=JN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.Cn=new oP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Js.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class oP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Rt(nt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Rt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(pE,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oa(0)}static cr(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="LruGarbageCollector",aP=1048576;function n0([n,e],[t,r]){const o=Le(n,t);return o===0?Le(e,r):o}class lP{constructor(e){this.Ir=e,this.buffer=new Rt(n0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();n0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(t0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_a(t)?he(t0,"Ignoring IndexedDB error during garbage collection: ",t):await ya(t)}await this.Vr(3e5)}))}}class cP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(td.ce);const r=new lP(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(e0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,d=Date.now(),this.removeTargets(e,r,t)))).next((E=>(a=E,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(g=Date.now(),$o()<=De.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function hP(n,e){return new cP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changes=new Yi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Dl(r.mutation,o,Wn.empty(),rt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const o=Di();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=Rl();return a.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Di();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,o){let a=ns();const u=Ol(),d=(function(){return Ol()})();return t.forEach(((m,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ji)?a=a.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Dl(v.mutation,g,v.mutation.getFieldMask(),rt.now())):u.set(g.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,a).next((m=>(m.forEach(((g,v)=>u.set(g,v))),t.forEach(((g,v)=>d.set(g,new fP(v,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Ol();let o=new ut(((u,d)=>u-d)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=r.get(m)||Wn.empty();v=d.applyToLocalView(g,v),r.set(m,v);const E=(o.get(d.batchId)||je()).add(m);o=o.insert(d.batchId,E)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,E=Yw();v.forEach((I=>{if(!a.has(I)){const D=nE(t.get(I),r.get(I));D!==null&&E.set(I,D),a=a.add(I)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ee.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ee.resolve(Di());let d=zl,m=a;return u.next((g=>ee.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next((I=>{m=m.insert(v,I)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,m,g,je()))).next((v=>({batchId:d,changes:Qw(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((r=>{let o=Rl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Rl();return this.indexManager.getCollectionParents(e,a).next((d=>ee.forEach(d,(m=>{const g=(function(E,I){return new sd(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((v=>{v.forEach(((E,I)=>{u=u.insert(E,I)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,qt.newInvalidDocument(v)))}));let d=Rl();return u.forEach(((m,g)=>{const v=a.get(m);v!==void 0&&Dl(v.mutation,g,Wn.empty(),rt.now()),od(t,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:wr(o.createTime)}})(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:sP(o.bundledQuery),readTime:wr(o.readTime)}})(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Di();return ee.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),ee.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const o=Di(),a=t.length+1,u=new ye(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new ut(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let v=a.get(g.largestBatchId);v===null&&(v=Di(),a=a.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Di(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return ee.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new DN(t,r));let a=this.qr.get(t);a===void 0&&(a=je(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.Qr=new Rt(At.$r),this.Ur=new Rt(At.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new At(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new At(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ye(new nt([])),r=new At(t,e),o=new At(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new nt([])),r=new At(t,e),o=new At(t,e+1);let a=je();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new At(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(At.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ON(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new At(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?bm:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const d=this.Xr(u.Yr);a.push(d)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(Le);return t.forEach((o=>{const a=new At(o,0),u=new At(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new At(new ye(a),0);let d=new Rt(Le);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),u),ee.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(t.mutations,(o=>{const a=new At(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new At(t,0),o=this.Zr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.ri=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let r=ns();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():qt.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ns();const u=t.path,d=new ye(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||KA(qA(v),r)<=0||(o.has(v.key)||od(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Se(9500)}ii(e,t){return ee.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new wP(this)}getSize(e){return ee.resolve(this.size)}}class wP extends dP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ee.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.persistence=e,this.si=new Yi((t=>Lm(t)),jm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=oa.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ee.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new oa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Pr(t),ee.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),ee.waitFor(a).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t){this.ui={},this.overlays={},this.ci=new td(0),this.li=!1,this.li=!0,this.hi=new yP,this.referenceDelegate=e(this),this.Pi=new EP(this),this.indexManager=new iP,this.remoteDocumentCache=(function(o){return new vP(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new rP(t),this.Ii=new mP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new _P(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const o=new TP(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class TP extends QA{constructor(e){super(),this.currentSequenceNumber=e}}class Hm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Hm(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const o=ye.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ee.or([()=>ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Oh{constructor(e,t){this.persistence=e,this.pi=new Yi((r=>XA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=hP(this,t)}static mi(e,t){return new Oh(e,t)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ee.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?ee.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Ce.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zc(e.data.value)),t}br(e,t,r){return ee.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=je(),o=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Wm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JR()?8:YA(Gt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new SP;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?($o()<=De.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):($o()<=De.DEBUG&&he("QueryEngine","Query:",Ho(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?($o()<=De.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):ee.resolve())}ys(e,t){if(Hv(t))return ee.resolve(null);let r=_r(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=qp(t,null,"F"),r=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=je(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((m=>{const g=this.Ds(t,d);return this.Cs(t,g,u,m.readTime)?this.ys(e,qp(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,r,o){return Hv(t)||o.isEqual(Ce.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?ee.resolve(null):($o()<=De.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ho(t)),this.vs(e,u,t,WA(o,zl)).next((d=>d)))}))}Ds(e,t){let r=new Rt(Kw(e));return t.forEach(((o,a)=>{od(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return $o()<=De.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ho(t)),this.ps.getDocumentsMatchingQuery(e,t,Js.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",RP=3e8;class CP{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ut(Le),this.xs=new Yi((a=>Lm(a)),jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function kP(n,e,t,r){return new CP(n,e,t,r)}async function gE(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let m=je();for(const g of o){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of a){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function xP(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const E=g.batch,I=E.keys();let D=ee.resolve();return I.forEach((O=>{D=D.next((()=>v.getEntry(m,O))).next((j=>{const N=g.docVersions.get(O);Ge(N!==null,48541),j.version.compareTo(N)<0&&(E.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(m,E)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=je();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function yE(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function AP(n,e){const t=xe(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((v,E)=>{const I=o.get(E);if(!I)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(a,v.addedDocuments,E))));let D=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?D=D.withResumeToken(Mt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,r)),o=o.insert(E,D),(function(j,N,B){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=RP?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(I,D,v)&&d.push(t.Pi.updateTargetData(a,D))}));let m=ns(),g=je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(NP(a,u,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!r.isEqual(Ce.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next((E=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(v)}return ee.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,m,g))).next((()=>m))})).then((a=>(t.Ms=o,a)))}function NP(n,e,t){let r=je(),o=je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=ns();return t.forEach(((d,m)=>{const g=a.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):he(qm,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:o}}))}function PP(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function bP(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,ee.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new zs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Jp(n,e,t){const r=xe(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!_a(u))throw u;he(qm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function r0(n,e,t){const r=xe(n);let o=Ce.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const E=xe(m),I=E.xs.get(v);return I!==void 0?ee.resolve(E.Ms.get(I)):E.Pi.getTargetData(g,v)})(r,u,_r(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((m=>{a=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?a:je()))).next((d=>(OP(r,_N(e),d),{documents:d,Qs:a})))))}function OP(n,e,t){let r=n.Os.get(e)||Ce.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class s0{constructor(){this.activeTargetIds=IN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DP{constructor(){this.Mo=new s0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="ConnectivityMonitor";class o0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(i0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(i0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Xp(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="RestConnection",jP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=Xp(),d=this.zo(e,t.toUriEncodedString());he(mp,`Sending RPC '${e}' ${u}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,a);const{host:g}=new URL(d),v=fa(g);return this.Jo(e,d,m,r,v).then((E=>(he(mp,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw na(mp,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",r),E}))}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ga})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=jP[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class FP extends VP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=Xp();return new Promise(((d,m)=>{const g=new Ew;g.setWithCredentials(!0),g.listenOnce(Tw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Xc.NO_ERROR:const E=g.getResponseJson();he(Ht,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case Xc.TIMEOUT:he(Ht,`RPC '${e}' ${u} timed out`),m(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const I=g.getStatus();if(he(Ht,`RPC '${e}' ${u} failed with status:`,I,"response text:",g.getResponseText()),I>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const O=D==null?void 0:D.error;if(O&&O.status&&O.message){const j=(function(B){const Y=B.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Y)>=0?Y:te.UNKNOWN})(O.status);m(new me(j,O.message))}else m(new me(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(Ht,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);he(Ht,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,r,15)}))}T_(e,t,r){const o=Xp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Rw(),d=Iw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=a.join("");he(Ht,`Creating RPC '${e}' stream ${o}: ${v}`,m);const E=u.createWebChannel(v,m);this.I_(E);let I=!1,D=!1;const O=new MP({Yo:N=>{D?he(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(I||(he(Ht,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),he(Ht,`RPC '${e}' stream ${o} sending:`,N),E.send(N))},Zo:()=>E.close()}),j=(N,B,Y)=>{N.listen(B,(W=>{try{Y(W)}catch(X){setTimeout((()=>{throw X}),0)}}))};return j(E,Il.EventType.OPEN,(()=>{D||(he(Ht,`RPC '${e}' stream ${o} transport opened.`),O.o_())})),j(E,Il.EventType.CLOSE,(()=>{D||(D=!0,he(Ht,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(E))})),j(E,Il.EventType.ERROR,(N=>{D||(D=!0,na(Ht,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),O.a_(new me(te.UNAVAILABLE,"The operation could not be completed")))})),j(E,Il.EventType.MESSAGE,(N=>{var B;if(!D){const Y=N.data[0];Ge(!!Y,16349);const W=Y,X=(W==null?void 0:W.error)||((B=W[0])==null?void 0:B.error);if(X){he(Ht,`RPC '${e}' stream ${o} received error:`,X);const q=X.status;let se=(function(C){const b=vt[C];if(b!==void 0)return sE(b)})(q),A=X.message;se===void 0&&(se=te.INTERNAL,A="Unknown error status: "+q+" with message "+X.message),D=!0,O.a_(new me(se,A)),E.close()}else he(Ht,`RPC '${e}' stream ${o} received:`,Y),O.u_(Y)}})),j(d,Sw.STAT_EVENT,(N=>{N.stat===Up.PROXY?he(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Up.NOPROXY&&he(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(n){return new $N(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="PersistentStream";class vE{constructor(e,t,r,o,a,u,d,m){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _E(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ts(t.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(a0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UP extends vE{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=qN(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ce.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?wr(u.readTime):Ce.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Yp(this.serializer),t.addTarget=(function(a,u){let d;const m=u.target;if(d=Wp(m)?{documents:QN(a,m)}:{query:YN(a,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=aE(a,u.resumeToken);const g=Kp(a,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ce.min())>0){d.readTime=bh(a,u.snapshotVersion.toTimestamp());const g=Kp(a,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=XN(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Yp(this.serializer),t.removeTarget=e,this.q_(t)}}class BP extends vE{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=GN(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Yp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>KN(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{}class $P extends zP{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Gp(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(te.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Gp(t,r),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="RemoteStore";class WP{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Xi(this)&&(he(Wi,"Restarting streams for network reachability change."),await(async function(m){const g=xe(m);g.Ea.add(4),await lu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await hd(g)})(this))}))})),this.Ra=new HP(r,o)}}async function hd(n){if(Xi(n))for(const e of n.da)await e(!0)}async function lu(n){for(const e of n.da)await e(!1)}function wE(n,e){const t=xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ym(t)?Qm(t):va(t).O_()&&Gm(t,e))}function Km(n,e){const t=xe(n),r=va(t);t.Ia.delete(e),r.O_()&&EE(t,e),t.Ia.size===0&&(r.O_()?r.L_():Xi(t)&&t.Ra.set("Unknown"))}function Gm(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}va(n).Y_(e)}function EE(n,e){n.Va.Ue(e),va(n).Z_(e)}function Qm(n){n.Va=new FN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),va(n).start(),n.Ra.ua()}function Ym(n){return Xi(n)&&!va(n).x_()&&n.Ia.size>0}function Xi(n){return xe(n).Ea.size===0}function TE(n){n.Va=void 0}async function qP(n){n.Ra.set("Online")}async function KP(n){n.Ia.forEach(((e,t)=>{Gm(n,e)}))}async function GP(n,e){TE(n),Ym(n)?(n.Ra.ha(e),Qm(n)):n.Ra.set("Unknown")}async function QP(n,e,t){if(n.Ra.set("Online"),e instanceof oE&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(r){he(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(n,r)}else if(e instanceof nh?n.Va.Ze(e):e instanceof iE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const r=await yE(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=a.Ia.get(g);v&&a.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,g)=>{const v=a.Ia.get(m);if(!v)return;a.Ia.set(m,v.withResumeToken(Mt.EMPTY_BYTE_STRING,v.snapshotVersion)),EE(a,m);const E=new zs(v.target,m,g,v.sequenceNumber);Gm(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){he(Wi,"Failed to raise snapshot:",r),await Dh(n,r)}}async function Dh(n,e,t){if(!_a(e))throw e;n.Ea.add(1),await lu(n),n.Ra.set("Offline"),t||(t=()=>yE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(Wi,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await hd(n)}))}function SE(n,e){return e().catch((t=>Dh(n,t,e)))}async function dd(n){const e=xe(n),t=ti(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bm;for(;YP(e);)try{const o=await PP(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,JP(e,o)}catch(o){await Dh(e,o)}IE(e)&&RE(e)}function YP(n){return Xi(n)&&n.Ta.length<10}function JP(n,e){n.Ta.push(e);const t=ti(n);t.O_()&&t.X_&&t.ea(e.mutations)}function IE(n){return Xi(n)&&!ti(n).x_()&&n.Ta.length>0}function RE(n){ti(n).start()}async function XP(n){ti(n).ra()}async function ZP(n){const e=ti(n);for(const t of n.Ta)e.ea(t.mutations)}async function e4(n,e,t){const r=n.Ta.shift(),o=Um.from(r,e,t);await SE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await dd(n)}async function t4(n,e){e&&ti(n).X_&&await(async function(r,o){if((function(u){return jN(u)&&u!==te.ABORTED})(o.code)){const a=r.Ta.shift();ti(r).B_(),await SE(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await dd(r)}})(n,e),IE(n)&&RE(n)}async function l0(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),he(Wi,"RemoteStore received new credentials");const r=Xi(t);t.Ea.add(3),await lu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await hd(t)}async function n4(n,e){const t=xe(n);e?(t.Ea.delete(2),await hd(t)):e||(t.Ea.add(2),await lu(t),t.Ra.set("Unknown"))}function va(n){return n.ma||(n.ma=(function(t,r,o){const a=xe(t);return a.sa(),new UP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:qP.bind(null,n),t_:KP.bind(null,n),r_:GP.bind(null,n),H_:QP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Ym(n)?Qm(n):n.Ra.set("Unknown")):(await n.ma.stop(),TE(n))}))),n.ma}function ti(n){return n.fa||(n.fa=(function(t,r,o){const a=xe(t);return a.sa(),new BP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:XP.bind(null,n),r_:t4.bind(null,n),ta:ZP.bind(null,n),na:e4.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await dd(n)):(await n.fa.stop(),n.Ta.length>0&&(he(Wi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new Jm(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(n,e){if(ts("AsyncQueue",`${e}: ${n}`),_a(n))return new me(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Rl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.ga=new ut(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class aa{constructor(e,t,r,o,a,u,d,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new aa(e,t,Xo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class s4{constructor(){this.queries=c0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=xe(t),a=o.queries;o.queries=c0(),a.forEach(((u,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new me(te.ABORTED,"Firestore shutting down"))}}function c0(){return new Yi((n=>qw(n)),id)}async function CE(n,e){const t=xe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new r4,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Xm(u,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Zm(t)}async function kE(n,e){const t=xe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function i4(n,e){const t=xe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&Zm(t)}function o4(n,e,t){const r=xe(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function Zm(n){n.Ca.forEach((e=>{e.next()}))}var Zp,h0;(h0=Zp||(Zp={})).Ma="default",h0.Cache="cache";class xE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.key=e}}class NE{constructor(e){this.key=e}}class a4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=Kw(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new u0,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const I=o.get(v),D=od(this.query,E)?E:null,O=!!I&&this.mutatedKeys.has(I.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let N=!1;I&&D?I.data.isEqual(D.data)?O!==j&&(r.track({type:3,doc:D}),N=!0):this.su(I,D)||(r.track({type:2,doc:D}),N=!0,(m&&this.eu(D,m)>0||g&&this.eu(D,g)<0)&&(d=!0)):!I&&D?(r.track({type:0,doc:D}),N=!0):I&&!D&&(r.track({type:1,doc:I}),N=!0,(m||g)&&(d=!0)),N&&(D?(u=u.add(D),a=j?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(D,O){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:N})}};return j(D)-j(O)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new aa(this.query,e.tu,a,u,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new NE(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new AE(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eg="SyncEngine";class l4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class u4{constructor(e){this.key=e,this.hu=!1}}class c4{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Yi((d=>qw(d)),id),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=oa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h4(n,e,t=!0){const r=jE(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await PE(r,e,t,!0),o}async function d4(n,e){const t=jE(n);await PE(t,e,!0,!1)}async function PE(n,e,t,r){const o=await bP(n.localStore,_r(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await f4(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&wE(n.remoteStore,o),d}async function f4(n,e,t,r,o){n.pu=(E,I,D)=>(async function(j,N,B,Y){let W=N.view.ru(B);W.Cs&&(W=await r0(j.localStore,N.query,!1).then((({documents:A})=>N.view.ru(A,W))));const X=Y&&Y.targetChanges.get(N.targetId),q=Y&&Y.targetMismatches.get(N.targetId)!=null,se=N.view.applyChanges(W,j.isPrimaryClient,X,q);return f0(j,N.targetId,se.au),se.snapshot})(n,E,I,D);const a=await r0(n.localStore,e,!0),u=new a4(e,a.Qs),d=u.ru(a.documents),m=au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),g=u.applyChanges(d,n.isPrimaryClient,m);f0(n,t,g.au);const v=new l4(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function p4(n,e,t){const r=xe(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!id(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Jp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Km(r.remoteStore,o.targetId),em(r,o.targetId)})).catch(ya)):(em(r,o.targetId),await Jp(r.localStore,o.targetId,!0))}async function m4(n,e){const t=xe(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Km(t.remoteStore,r.targetId))}async function g4(n,e,t){const r=S4(n);try{const o=await(function(u,d){const m=xe(u),g=rt.now(),v=d.reduce(((D,O)=>D.add(O.key)),je());let E,I;return m.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let O=ns(),j=je();return m.Ns.getEntries(D,v).next((N=>{O=N,O.forEach(((B,Y)=>{Y.isValidDocument()||(j=j.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(D,O))).next((N=>{E=N;const B=[];for(const Y of d){const W=PN(Y,E.get(Y.key).overlayedDocument);W!=null&&B.push(new Ji(Y.key,W,Fw(W.value.mapValue),vr.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,B,d)})).next((N=>{I=N;const B=N.applyToLocalDocumentSet(E,j);return m.documentOverlayCache.saveOverlays(D,N.batchId,B)}))})).then((()=>({batchId:I.batchId,changes:Qw(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,d,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new ut(Le)),g=g.insert(d,m),u.Vu[u.currentUser.toKey()]=g})(r,o.batchId,t),await uu(r,o.changes),await dd(r.remoteStore)}catch(o){const a=Xm(o,"Failed to persist write");t.reject(a)}}async function bE(n,e){const t=xe(n);try{const r=await AP(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Au.get(a);u&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ge(u.hu,14607):o.removedDocuments.size>0&&(Ge(u.hu,42227),u.hu=!1))})),await uu(t,r,e)}catch(r){await ya(r)}}function d0(n,e,t){const r=xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const m=xe(u);m.onlineState=d;let g=!1;m.queries.forEach(((v,E)=>{for(const I of E.Sa)I.va(d)&&(g=!0)})),g&&Zm(m)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y4(n,e,t){const r=xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new ut(ye.comparator);u=u.insert(a,qt.newNoDocument(a,Ce.min()));const d=je().add(a),m=new ud(Ce.min(),new Map,new ut(Le),u,d);await bE(r,m),r.du=r.du.remove(a),r.Au.delete(e),tg(r)}else await Jp(r.localStore,e,!1).then((()=>em(r,e,t))).catch(ya)}async function _4(n,e){const t=xe(n),r=e.batch.batchId;try{const o=await xP(t.localStore,e);DE(t,r,null),OE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await uu(t,o)}catch(o){await ya(o)}}async function v4(n,e,t){const r=xe(n);try{const o=await(function(u,d){const m=xe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((E=>(Ge(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(g,E)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);DE(r,e,t),OE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await uu(r,o)}catch(o){await ya(o)}}function OE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function DE(n,e,t){const r=xe(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function em(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||LE(n,r)}))}function LE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Km(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),tg(n))}function f0(n,e,t){for(const r of t)r instanceof AE?(n.Ru.addReference(r.key,e),w4(n,r)):r instanceof NE?(he(eg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||LE(n,r.key)):Se(19791,{wu:r})}function w4(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(he(eg,"New document in limbo: "+t),n.Eu.add(r),tg(n))}function tg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(nt.fromString(e)),r=n.fu.next();n.Au.set(r,new u4(t)),n.du=n.du.insert(t,r),wE(n.remoteStore,new zs(_r(Vm(t.path)),r,"TargetPurposeLimboResolution",td.ce))}}async function uu(n,e,t){const r=xe(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{u.push(r.pu(m,e,t).then((g=>{var v;if((g||t)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Wm.As(m.targetId,g);a.push(E)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(m,g){const v=xe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ee.forEach(g,(I=>ee.forEach(I.Es,(D=>v.persistence.referenceDelegate.addReference(E,I.targetId,D))).next((()=>ee.forEach(I.ds,(D=>v.persistence.referenceDelegate.removeReference(E,I.targetId,D)))))))))}catch(E){if(!_a(E))throw E;he(qm,"Failed to update sequence numbers: "+E)}for(const E of g){const I=E.targetId;if(!E.fromCache){const D=v.Ms.get(I),O=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(I,j)}}})(r.localStore,a))}async function E4(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){he(eg,"User change. New user:",e.toKey());const r=await gE(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((m=>{m.reject(new me(te.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(t,r.Ls)}}function T4(n,e){const t=xe(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let o=je();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function jE(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y4.bind(null,e),e.Pu.H_=i4.bind(null,e.eventManager),e.Pu.yu=o4.bind(null,e.eventManager),e}function S4(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return kP(this.persistence,new IP,e.initialUser,this.serializer)}Cu(e){return new mE(Hm.mi,this.serializer)}Du(e){return new DP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class I4 extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new mE((r=>Oh.mi(r,t)),this.serializer)}}class tm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),await n4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s4})()}createDatastore(e){const t=cd(e.databaseInfo.databaseId),r=(function(a){return new FP(a)})(e.databaseInfo);return(function(a,u,d,m){return new $P(a,u,d,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,d){return new WP(r,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>d0(this.syncEngine,t,0)),(function(){return o0.v()?new o0:new LP})())}createSyncEngine(e,t){return(function(o,a,u,d,m,g,v){const E=new c4(o,a,u,d,m,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=xe(o);he(Wi,"RemoteStore shutting down."),a.Ea.add(5),await lu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="FirestoreClient";class R4{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{he(ni,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(he(ni,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Xm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function yp(n,e){n.asyncQueue.verifyOperationInProgress(),he(ni,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await gE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function p0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await C4(n);he(ni,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>l0(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>l0(e.remoteStore,o))),n._onlineComponents=e}async function C4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(ni,"Using user provided OfflineComponentProvider");try{await yp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;na("Error using user provided cache. Falling back to memory cache: "+t),await yp(n,new Lh)}}else he(ni,"Using default OfflineComponentProvider"),await yp(n,new I4(void 0));return n._offlineComponents}async function ME(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(ni,"Using user provided OnlineComponentProvider"),await p0(n,n._uninitializedComponentsProvider._online)):(he(ni,"Using default OnlineComponentProvider"),await p0(n,new tm))),n._onlineComponents}function k4(n){return ME(n).then((e=>e.syncEngine))}async function FE(n){const e=await ME(n),t=e.eventManager;return t.onListen=h4.bind(null,e.syncEngine),t.onUnlisten=p4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=d4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),t}function x4(n,e,t={}){const r=new Yr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,m,g){const v=new VE({next:I=>{v.Nu(),u.enqueueAndForget((()=>kE(a,E)));const D=I.docs.has(d);!D&&I.fromCache?g.reject(new me(te.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&I.fromCache&&m&&m.source==="server"?g.reject(new me(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),E=new xE(Vm(d.path),v,{includeMetadataChanges:!0,qa:!0});return CE(a,E)})(await FE(n),n.asyncQueue,e,t,r))),r.promise}function A4(n,e,t={}){const r=new Yr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,m,g){const v=new VE({next:I=>{v.Nu(),u.enqueueAndForget((()=>kE(a,E))),I.fromCache&&m.source==="server"?g.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),E=new xE(d,v,{includeMetadataChanges:!0,qa:!0});return CE(a,E)})(await FE(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",g0=!0;class y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=g0}else this.host=e.host,this.ssl=e.ssl??g0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aP)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DA;switch(r.type){case"firstParty":return new MA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=m0.get(t);r&&(he("ComponentProvider","Removing Datastore"),m0.delete(t),r.terminate())})(this),Promise.resolve()}}function N4(n,e,t,r={}){var g;n=Ys(n,fd);const o=fa(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(b1(`https://${d}`),O1("Firestore",!0)),a.host!==BE&&a.host!==d&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...a,host:d,ssl:o,emulatorOptions:r};if(!Ui(m,u)&&(n._setSettings(m),r.mockUserToken)){let v,E;if(typeof r.mockUserToken=="string")v=r.mockUserToken,E=Wt.MOCK_USER;else{v=zR(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(I)}n._authCredentials=new LA(new kw(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pd(this.firestore,e,this._query)}}class It{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(iu(t,It._jsonSchema))return new It(e,r||null,new ye(nt.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:wt("string",It._jsonSchemaVersion),referencePath:wt("string")};class Ks extends pd{constructor(e,t,r){super(e,t,Vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ye(e))}withConverter(e){return new Ks(this.firestore,e,this._path)}}function _0(n,e,...t){if(n=cn(n),xw("collection","path",e),n instanceof fd){const r=nt.fromString(e,...t);return Pv(r),new Ks(n,null,r)}{if(!(n instanceof It||n instanceof Ks))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return Pv(r),new Ks(n.firestore,null,r)}}function la(n,e,...t){if(n=cn(n),arguments.length===1&&(e=Nm.newId()),xw("doc","path",e),n instanceof fd){const r=nt.fromString(e,...t);return Nv(r),new It(n,null,new ye(r))}{if(!(n instanceof It||n instanceof Ks))throw new me(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return Nv(r),new It(n.firestore,n instanceof Ks?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="AsyncQueue";class w0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _E(this,"async_queue_retry"),this._c=()=>{const r=gp();r&&he(v0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_a(e))throw e;he(v0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",E0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Jm.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:E0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function E0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class cu extends fd{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new w0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w0(e),this._firestoreClient=void 0,await e}}}function P4(n,e){const t=typeof n=="object"?n:V1(),r=typeof n=="string"?n:Ch,o=wm(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=UR("firestore");a&&N4(o,...a)}return o}function ng(n){if(n._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||b4(n),n._firestoreClient}function b4(n){var r,o,a;const e=n._freezeSettings(),t=(function(d,m,g,v){return new tN(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,UE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new R4(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Mt.fromBase64String(e))}catch(t){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pn(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:wt("string",Pn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(iu(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:wt("string",Er._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Tr(e.vectorValues);throw new me(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:wt("string",Tr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=/^__.*__$/;class D4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}function $E(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:n})}}class sg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($E(this.Ac)&&O4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class L4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cd(e)}Cc(e,t,r,o=!1){return new sg({Ac:e,methodName:t,Dc:r,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j4(n){const e=n._freezeSettings(),t=cd(n._databaseId);return new L4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function V4(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);KE("Data must be an object, but it was:",u,r);const d=WE(r,u);let m,g;if(a.merge)m=new Wn(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const I=M4(e,E,t);if(!u.contains(I))throw new me(te.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);U4(v,I)||v.push(I)}m=new Wn(v),g=u.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=u.fieldTransforms;return new D4(new Nn(d),m,g)}function HE(n,e){if(qE(n=cn(n)))return KE("Unsupported field value:",e,n),WE(n,e);if(n instanceof zE)return(function(r,o){if(!$E(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const d of r){let m=HE(d,o.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rt.fromDate(r);return{timestampValue:bh(o.serializer,a)}}if(r instanceof rt){const a=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(o.serializer,a)}}if(r instanceof Er)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:aE(o.serializer,r._byteString)};if(r instanceof It){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Tr)return(function(u,d){return{mapValue:{fields:{[Vw]:{stringValue:Mw},[kh]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Mm(d.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Pm(r)}`)})(n,e)}function WE(n,e){const t={};return Pw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(n,((r,o)=>{const a=HE(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function qE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof Er||n instanceof Pn||n instanceof It||n instanceof zE||n instanceof Tr)}function KE(n,e,t){if(!qE(t)||!Aw(t)){const r=Pm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function M4(n,e,t){if((e=cn(e))instanceof rg)return e._internalPath;if(typeof e=="string")return GE(n,e);throw jh("Field path arguments must be of type string or ",n,!1,void 0,t)}const F4=new RegExp("[~\\*/\\[\\]]");function GE(n,e,t){if(e.search(F4)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rg(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jh(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${r}`),u&&(m+=` in document ${o}`),m+=")"),new me(te.INVALID_ARGUMENT,d+n+m)}function U4(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class B4 extends QE{data(){return super.data()}}function YE(n,e){return typeof e=="string"?GE(n,e):e instanceof rg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $4{convertValue(e,t="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Qi(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){var r,o,a;const t=(a=(o=(r=e.fields)==null?void 0:r[kh].arrayValue)==null?void 0:o.values)==null?void 0:a.map((u=>mt(u.doubleValue)));return new Tr(t)}convertGeoPoint(e){return new Er(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=Xs(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nt.fromString(e);Ge(fE(r),9688,{name:e});const o=new Hl(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return o.isEqual(t)||ts(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vi extends QE{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(YE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Vi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vi._jsonSchema={type:wt("string",Vi._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class rh extends Vi{data(e={}){return super.data(e)}}class Zo{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new rh(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const m=new rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const m=new rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:W4(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function W4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n){n=Ys(n,It);const e=Ys(n.firestore,cu);return x4(ng(e),n._key).then((t=>K4(e,n,t)))}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:wt("string",Zo._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class XE extends $4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function T0(n){n=Ys(n,pd);const e=Ys(n.firestore,cu),t=ng(e),r=new XE(e);return z4(n._query),A4(t,n._query).then((o=>new Zo(e,r,n,o)))}function md(n,e,t){n=Ys(n,It);const r=Ys(n.firestore,cu),o=H4(n.converter,e,t);return ZE(r,[V4(j4(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,vr.none())])}function q4(n){return ZE(Ys(n.firestore,cu),[new Fm(n._key,vr.none())])}function ZE(n,e){return(function(r,o){const a=new Yr;return r.asyncQueue.enqueueAndForget((async()=>g4(await k4(r),o,a))),a.promise})(ng(n),e)}function K4(n,e,t){const r=t.docs.get(e._key),o=new XE(n);return new Vi(n,o,e._key,r,new kl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ga=o})(pa),ta(new Bi("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new cu(new jA(r.getProvider("auth-internal")),new FA(u,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(g.options.projectId,v)})(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Ws(Cv,kv,e),Ws(Cv,kv,"esm2020")})();const G4={apiKey:"AIzaSyCLwGaVISepZVUK2TvbZ6MxRIafpSvNBiU",authDomain:"summarist-internship-1cb1e.firebaseapp.com",projectId:"summarist-internship-1cb1e",storageBucket:"summarist-internship-1cb1e.firebasestorage.app",messagingSenderId:"1035812047826",appId:"1:1035812047826:web:3d97dd37ae441e23f7160b"},eT=j1(G4),Go=NA(eT),ri=P4(eT);var tT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S0=ji.createContext&&ji.createContext(tT),Q4=["attr","size","title"];function Y4(n,e){if(n==null)return{};var t=J4(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function J4(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Vh(){return Vh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vh.apply(this,arguments)}function I0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Mh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I0(Object(t),!0).forEach(function(r){X4(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I0(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function X4(n,e,t){return e=Z4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Z4(n){var e=eb(n,"string");return typeof e=="symbol"?e:e+""}function eb(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nT(n){return n&&n.map((e,t)=>ji.createElement(e.tag,Mh({key:t},e.attr),nT(e.child)))}function Be(n){return e=>ji.createElement(tb,Vh({attr:Mh({},n.attr)},e),nT(n.child))}function tb(n){var e=t=>{var{attr:r,size:o,title:a}=n,u=Y4(n,Q4),d=o||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),ji.createElement("svg",Vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:m,style:Mh(Mh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&ji.createElement("title",null,a),n.children)};return S0!==void 0?ji.createElement(S0.Consumer,null,t=>e(t)):e(tT)}function nb(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm330-170c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1z"},child:[]}]})(n)}function rb(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M348 676.1C250 619.4 184 513.4 184 392c0-181.1 146.9-328 328-328s328 146.9 328 328c0 121.4-66 227.4-164 284.1V792c0 17.7-14.3 32-32 32H380c-17.7 0-32-14.3-32-32V676.1zM392 888h240c4.4 0 8 3.6 8 8v32c0 17.7-14.3 32-32 32H416c-17.7 0-32-14.3-32-32v-32c0-4.4 3.6-8 8-8z"},child:[]}]})(n)}function sb(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2zM320 482a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h384a8 8 0 0 0 8-8v-48a8 8 0 0 0-8-8H320zm0 136a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h184a8 8 0 0 0 8-8v-48a8 8 0 0 0-8-8H320z"},child:[]}]})(n)}function ib(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"},child:[]}]})(n)}function qi(n){return Be({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(n)}function ob(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"},child:[]}]})(n)}function ab(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"},child:[]}]})(n)}function hu(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function lb(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"},child:[]},{tag:"path",attr:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0 1 30.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1 0 80 0 40 40 0 1 0-80 0z"},child:[]}]})(n)}function wa(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"},child:[]}]})(n)}function ub(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"},child:[]}]})(n)}function cb(n){return Be({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"},child:[]}]})(n)}function hb(n){return Be({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2"},child:[]}]})(n)}function rT(n){return Be({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"},child:[]}]})(n)}function it(n){return Be({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"},child:[]}]})(n)}function db(n){return Be({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"},child:[]}]})(n)}function fb(n){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"},child:[]}]})(n)}function pb(n){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.219 3.375 8 7.399 4.781 3.375A1.002 1.002 0 0 0 3 4v15c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V4a1.002 1.002 0 0 0-1.781-.625L16 7.399l-3.219-4.024c-.381-.474-1.181-.474-1.562 0zM5 19v-2h14.001v2H5zm10.219-9.375c.381.475 1.182.475 1.563 0L19 6.851 19.001 15H5V6.851l2.219 2.774c.381.475 1.182.475 1.563 0L12 5.601l3.219 4.024z"},child:[]}]})(n)}function mb(n){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v6h6v-2h-4z"},child:[]}]})(n)}function gb(n){return Be({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.998 3V5C20.998 14.6274 15.6255 19 8.99805 19L5.24077 18.9999C5.0786 19.912 4.99805 20.907 4.99805 22H2.99805C2.99805 20.6373 3.11376 19.3997 3.34381 18.2682C3.1133 16.9741 2.99805 15.2176 2.99805 13C2.99805 7.47715 7.4752 3 12.998 3C14.998 3 16.998 4 20.998 3ZM12.998 5C8.57977 5 4.99805 8.58172 4.99805 13C4.99805 13.3624 5.00125 13.7111 5.00759 14.0459C6.26198 12.0684 8.09902 10.5048 10.5019 9.13176L11.4942 10.8682C8.6393 12.4996 6.74554 14.3535 5.77329 16.9998L8.99805 17C15.0132 17 18.8692 13.0269 18.9949 5.38766C17.6229 5.52113 16.3481 5.436 14.7754 5.20009C13.6243 5.02742 13.3988 5 12.998 5Z"},child:[]}]})(n)}function sT({show:n,onClose:e}){const[t,r]=V.useState(!1),[o,a]=V.useState(!1),[u,d]=V.useState(""),[m,g]=V.useState(""),[v,E]=V.useState(""),[I,D]=V.useState(""),O=lm(),j=Yl();if(!n)return null;const N=()=>{r(!t),E(""),D("")},B=()=>{r(!1),a(!1),d(""),g(""),E(""),D(""),e()},Y=()=>{a(!0),r(!1),E(""),D(""),g("")},W=()=>{a(!1),r(!1),E(""),D("")},X=async C=>{C.preventDefault(),E("");try{const b=await mx(Go,u,m);console.log("User signed up:",b.user),O(xl({uid:b.user.uid,email:b.user.email})),B(),j("/for-you")}catch(b){console.error("Error signing up:",b.message),E(b.message)}},q=async C=>{C.preventDefault(),E("");try{const b=await mv(Go,u,m);console.log("User signed in:",b.user),O(xl({uid:b.user.uid,email:b.user.email})),B(),j("/for-you")}catch(b){console.error("Error signing in:",b.message),E(b.message)}},se=C=>{t?X(C):q(C)},A=async C=>{C.preventDefault(),E(""),D("");try{await px(Go,u),D("Password reset link sent! Check your email."),console.log("Password reset email sent")}catch(b){console.error("Error sending password reset:",b.message),E(b.message)}},S=async()=>{E("");const C="guest@gmail.com",b="abc123";try{const k=await mv(Go,C,b);console.log("Guest signed in:",k.user),O(xl({uid:k.user.uid,email:k.user.email})),B(),j("/for-you")}catch(k){console.error("Error signing in as guest:",k.message),E(k.message)}};return o?p.jsx("div",{className:"modal__overlay",onClick:B,children:p.jsxs("div",{className:"modal__content",onClick:C=>C.stopPropagation(),children:[p.jsxs("div",{className:"modal__header",children:[p.jsx("h2",{className:"modal__title",children:"Reset your password"}),p.jsx("button",{className:"modal__close",onClick:B,children:p.jsx(qi,{})})]}),v&&p.jsx("div",{className:"modal__error",children:v}),I&&p.jsx("div",{className:"modal__success",children:I}),p.jsxs("form",{onSubmit:A,children:[p.jsx("input",{type:"email",placeholder:"Email Address",className:"modal__input modal__input--reset",value:u,onChange:C=>d(C.target.value),required:!0}),p.jsx("button",{type:"submit",className:"modal__login-btn",children:"Send reset password link"})]}),p.jsx("div",{className:"modal__footer",onClick:W,children:"Go to login"})]})}):p.jsx("div",{className:"modal__overlay",onClick:B,children:p.jsxs("div",{className:"modal__content",onClick:C=>C.stopPropagation(),children:[p.jsxs("div",{className:"modal__header",children:[p.jsx("h2",{className:"modal__title",children:t?"Sign up to Summarist":"Login to Summarist"}),p.jsx("button",{className:"modal__close",onClick:B,children:p.jsx(qi,{})})]}),p.jsxs("button",{className:"modal__guest-btn",onClick:S,children:[p.jsx(cb,{className:"modal__guest-icon"}),"Login as a Guest"]}),p.jsx("div",{className:"modal__separator",children:"or"}),v&&p.jsx("div",{className:"modal__error",children:v}),p.jsxs("form",{onSubmit:se,children:[p.jsx("input",{type:"email",placeholder:"Email Address",className:"modal__input",value:u,onChange:C=>d(C.target.value),required:!0}),p.jsx("input",{type:"password",placeholder:"Password",className:"modal__input",value:m,onChange:C=>g(C.target.value),required:!0}),p.jsx("button",{type:"submit",className:"modal__login-btn",children:t?"Sign up":"Login"})]}),!t&&p.jsx("div",{className:"modal__forgot-password",onClick:Y,children:"Forgot your password?"}),p.jsx("div",{className:"modal__footer",onClick:N,children:t?"Already have an account?":"Don't have an account?"})]})})}function yb(){const[n,e]=V.useState(!1),t=()=>{e(!0)},r=()=>{e(!1)};return p.jsxs(p.Fragment,{children:[p.jsx("nav",{className:"nav",children:p.jsxs("div",{className:"nav__wrapper",children:[p.jsx("figure",{className:"nav__img--mask",children:p.jsx("img",{className:"nav__img",src:"../assets/logo.png",alt:"logo"})}),p.jsxs("ul",{className:"nav__list--wrapper",children:[p.jsx("li",{className:"nav__list nav__list--login",onClick:t,children:"Login"}),p.jsx("li",{className:"nav__list nav__list--mobile",children:"About"}),p.jsx("li",{className:"nav__list nav__list--mobile",children:"Contact"}),p.jsx("li",{className:"nav__list nav__list--mobile",children:"Help"})]})]})}),p.jsx("section",{id:"landing",children:p.jsx("div",{className:"container",children:p.jsx("div",{className:"row",children:p.jsxs("div",{className:"landing__wrapper",children:[p.jsxs("div",{className:"landing__content",children:[p.jsxs("div",{className:"landing__content__title",children:["Gain more knowledge ",p.jsx("br",{className:"remove--tablet"}),"in less time"]}),p.jsxs("div",{className:"landing__content__subtitle",children:["Great summaries for busy people,",p.jsx("br",{className:"remove--tablet"}),"individuals who barely have time to read,",p.jsx("br",{className:"remove--tablet"}),"and even people who don't like to read."]}),p.jsx("button",{className:"btn home__cta--btn",onClick:t,children:"Login"})]}),p.jsx("figure",{className:"landing__image--mask",children:p.jsx("img",{src:"../assets/landing.png",alt:"landing"})})]})})})}),p.jsx("section",{id:"features",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"section__title",children:"Understand books in few minutes"}),p.jsxs("div",{className:"features__wrapper",children:[p.jsxs("div",{className:"features",children:[p.jsx("div",{className:"features__icon",children:p.jsx(sb,{})}),p.jsx("div",{className:"features__title",children:"Read or listen"}),p.jsx("div",{className:"features__sub--title",children:"Save time by getting the core ideas from the best books."})]}),p.jsxs("div",{className:"features",children:[p.jsx("div",{className:"features__icon",children:p.jsx(rb,{})}),p.jsx("div",{className:"features__title",children:"Find your next read"}),p.jsx("div",{className:"features__sub--title",children:"Explore book lists and personalized recommendations."})]}),p.jsxs("div",{className:"features",children:[p.jsx("div",{className:"features__icon",children:p.jsx(nb,{})}),p.jsx("div",{className:"features__title",children:"Briefcasts"}),p.jsx("div",{className:"features__sub--title",children:"Gain valuable insights from briefcasts"})]})]}),p.jsxs("div",{className:"statistics__wrapper",children:[p.jsxs("div",{className:"statistics__content--header",children:[p.jsx("div",{className:"statistics__heading",children:"Enhance your knowledge"}),p.jsx("div",{className:"statistics__heading",children:"Achieve greater success"}),p.jsx("div",{className:"statistics__heading",children:"Improve your health"}),p.jsx("div",{className:"statistics__heading",children:"Develop better parenting skills"}),p.jsx("div",{className:"statistics__heading",children:"Increase happiness"}),p.jsx("div",{className:"statistics__heading",children:"Be the best version of yourself!"})]}),p.jsxs("div",{className:"statistics__content--details",children:[p.jsxs("div",{className:"statistics__data",children:[p.jsx("div",{className:"statistics__data--number",children:"93%"}),p.jsxs("div",{className:"statistics__data--title",children:["of Summarist members ",p.jsx("b",{children:"significantly increase"})," reading frequency."]})]}),p.jsxs("div",{className:"statistics__data",children:[p.jsx("div",{className:"statistics__data--number",children:"96%"}),p.jsxs("div",{className:"statistics__data--title",children:["of Summarist members ",p.jsx("b",{children:"establish better"})," habits."]})]}),p.jsxs("div",{className:"statistics__data",children:[p.jsx("div",{className:"statistics__data--number",children:"90%"}),p.jsxs("div",{className:"statistics__data--title",children:["have made ",p.jsx("b",{children:"significant positive"})," change to their lives."]})]})]})]}),p.jsxs("div",{className:"statistics__wrapper",children:[p.jsxs("div",{className:"statistics__content--details statistics__content--details-second",children:[p.jsxs("div",{className:"statistics__data",children:[p.jsx("div",{className:"statistics__data--number",children:"91%"}),p.jsxs("div",{className:"statistics__data--title",children:["of Summarist members ",p.jsx("b",{children:"report feeling more productive"})," ","after incorporating the service into their daily routine."]})]}),p.jsxs("div",{className:"statistics__data",children:[p.jsx("div",{className:"statistics__data--number",children:"94%"}),p.jsxs("div",{className:"statistics__data--title",children:["of Summarist members have ",p.jsx("b",{children:"noticed an improvement"})," in their overall comprehension and retention of information."]})]}),p.jsxs("div",{className:"statistics__data",children:[p.jsx("div",{className:"statistics__data--number",children:"88%"}),p.jsxs("div",{className:"statistics__data--title",children:["of Summarist members ",p.jsx("b",{children:"feel more informed"})," about current events and industry trends since using the platform."]})]})]}),p.jsxs("div",{className:"statistics__content--header statistics__content--header-second",children:[p.jsx("div",{className:"statistics__heading",children:"Expand your learning"}),p.jsx("div",{className:"statistics__heading",children:"Accomplish your goals"}),p.jsx("div",{className:"statistics__heading",children:"Strengthen your vitality"}),p.jsx("div",{className:"statistics__heading",children:"Become a better caregiver"}),p.jsx("div",{className:"statistics__heading",children:"Improve your mood"}),p.jsx("div",{className:"statistics__heading",children:"Maximize your abilities"})]})]})]})})}),p.jsx("section",{id:"reviews",children:p.jsx("div",{className:"row",children:p.jsxs("div",{className:"container",children:[p.jsx("div",{className:"section__title",children:"What our members say"}),p.jsxs("div",{className:"reviews__wrapper",children:[p.jsxs("div",{className:"review",children:[p.jsxs("div",{className:"review__header",children:[p.jsx("div",{className:"review__name",children:"Hanna M."}),p.jsxs("div",{className:"review__stars",children:[p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{})]})]}),p.jsxs("div",{className:"review__body",children:["This app has been a ",p.jsx("b",{children:"game-changer"})," for me! It's saved me so much time and effort in reading and comprehending books. Highly recommend it to all book lovers."]})]}),p.jsxs("div",{className:"review",children:[p.jsxs("div",{className:"review__header",children:[p.jsx("div",{className:"review__name",children:"David B."}),p.jsxs("div",{className:"review__stars",children:[p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{})]})]}),p.jsxs("div",{className:"review__body",children:["I love this app! It provides",p.jsx("b",{children:"concise and accurate summaries"})," of books in a way that is easy to understand. It's also very user-friendly and intuitive."]})]}),p.jsxs("div",{className:"review",children:[p.jsxs("div",{className:"review__header",children:[p.jsx("div",{className:"review__name",children:"Nathan S."}),p.jsxs("div",{className:"review__stars",children:[p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{})]})]}),p.jsxs("div",{className:"review__body",children:["This app is a great way to get the main takeaways from a book without having to read the entire thing.",p.jsx("b",{children:"The summaries are well-written and informative."}),"Definitely worth downloading."]})]}),p.jsxs("div",{className:"review",children:[p.jsxs("div",{className:"review__header",children:[p.jsx("div",{className:"review__name",children:"Ryan R."}),p.jsxs("div",{className:"review__stars",children:[p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{})]})]}),p.jsxs("div",{className:"review__body",children:["If you're a busy person who",p.jsx("b",{children:"loves reading but doesn't have the time"})," to read every book in full, this app is for you! The summaries are thorough and provide a great overview of the book's content."]})]})]}),p.jsx("div",{className:"reviews__btn--wrapper",children:p.jsx("button",{className:"btn home__cta--btn",onClick:t,children:"Login"})})]})})}),p.jsx("section",{id:"numbers",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"section__title",children:"Start growing with Summarist now"}),p.jsxs("div",{className:"numbers__wrapper",children:[p.jsxs("div",{className:"numbers",children:[p.jsx("div",{className:"numbers__icon",children:p.jsx(pb,{})}),p.jsx("div",{className:"numbers__title",children:"3 Million"}),p.jsx("div",{className:"numbers__sub--title",children:"Downloads on all platforms"})]}),p.jsxs("div",{className:"numbers",children:[p.jsxs("div",{className:"numbers__icon numbers__star--icon",children:[p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(it,{}),p.jsx(db,{})]}),p.jsx("div",{className:"numbers__title",children:"4.5 Stars"}),p.jsx("div",{className:"numbers__sub--title",children:"Average ratings on iOS and Google Play"})]}),p.jsxs("div",{className:"numbers",children:[p.jsx("div",{className:"numbers__icon",children:p.jsx(gb,{})}),p.jsx("div",{className:"numbers__title",children:"97%"}),p.jsx("div",{className:"numbers__sub--title",children:"Of Summarist members create a better reading habit"})]})]})]})})}),p.jsx("section",{id:"footer",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"footer__top--wrapper",children:[p.jsxs("div",{className:"footer__block",children:[p.jsx("div",{className:"footer__link--title",children:"Actions"}),p.jsxs("div",{children:[p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Summarist Magazine"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Cancel Subscription"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Help"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Contact us"})})]})]}),p.jsxs("div",{className:"footer__block",children:[p.jsx("div",{className:"footer__link--title",children:"Useful Links"}),p.jsxs("div",{children:[p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Pricing"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Summarist Business"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Gift Cards"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Authors & Publishers"})})]})]}),p.jsxs("div",{className:"footer__block",children:[p.jsx("div",{className:"footer__link--title",children:"Company"}),p.jsxs("div",{children:[p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"About"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Careers"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Partners"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Code of Conduct"})})]})]}),p.jsxs("div",{className:"footer__block",children:[p.jsx("div",{className:"footer__link--title",children:"Other"}),p.jsxs("div",{children:[p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Sitemap"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Legal Notice"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Terms of Service"})}),p.jsx("div",{className:"footer__link--wrapper",children:p.jsx("a",{className:"footer__link",children:"Privacy Policies"})})]})]})]}),p.jsx("div",{className:"footer__copyright--wrapper",children:p.jsx("div",{className:"footer__copyright",children:"Copyright  2023 Summarist."})})]})})}),p.jsx(sT,{show:n,onClose:r})]})}function iT(n,e){return function(){return n.apply(e,arguments)}}const{toString:_b}=Object.prototype,{getPrototypeOf:ig}=Object,{iterator:gd,toStringTag:oT}=Symbol,yd=(n=>e=>{const t=_b.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Qn=n=>(n=n.toLowerCase(),e=>yd(e)===n),_d=n=>e=>typeof e===n,{isArray:Ea}=Array,ua=_d("undefined");function du(n){return n!==null&&!ua(n)&&n.constructor!==null&&!ua(n.constructor)&&ln(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const aT=Qn("ArrayBuffer");function vb(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&aT(n.buffer),e}const wb=_d("string"),ln=_d("function"),lT=_d("number"),fu=n=>n!==null&&typeof n=="object",Eb=n=>n===!0||n===!1,sh=n=>{if(yd(n)!=="object")return!1;const e=ig(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(oT in n)&&!(gd in n)},Tb=n=>{if(!fu(n)||du(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Sb=Qn("Date"),Ib=Qn("File"),Rb=Qn("Blob"),Cb=Qn("FileList"),kb=n=>fu(n)&&ln(n.pipe),xb=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ln(n.append)&&((e=yd(n))==="formdata"||e==="object"&&ln(n.toString)&&n.toString()==="[object FormData]"))},Ab=Qn("URLSearchParams"),[Nb,Pb,bb,Ob]=["ReadableStream","Request","Response","Headers"].map(Qn),Db=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),Ea(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{if(du(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let d;for(r=0;r<u;r++)d=a[r],e.call(null,n[d],d,n)}}function uT(n,e){if(du(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const Li=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cT=n=>!ua(n)&&n!==Li;function nm(){const{caseless:n,skipUndefined:e}=cT(this)&&this||{},t={},r=(o,a)=>{const u=n&&uT(t,a)||a;sh(t[u])&&sh(o)?t[u]=nm(t[u],o):sh(o)?t[u]=nm({},o):Ea(o)?t[u]=o.slice():(!e||!ua(o))&&(t[u]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&pu(arguments[o],r);return t}const Lb=(n,e,t,{allOwnKeys:r}={})=>(pu(e,(o,a)=>{t&&ln(o)?n[a]=iT(o,t):n[a]=o},{allOwnKeys:r}),n),jb=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Vb=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Mb=(n,e,t,r)=>{let o,a,u;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!r||r(u,n,e))&&!d[u]&&(e[u]=n[u],d[u]=!0);n=t!==!1&&ig(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Fb=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Ub=n=>{if(!n)return null;if(Ea(n))return n;let e=n.length;if(!lT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Bb=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&ig(Uint8Array)),zb=(n,e)=>{const r=(n&&n[gd]).call(n);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},$b=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Hb=Qn("HTMLFormElement"),Wb=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),R0=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),qb=Qn("RegExp"),hT=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};pu(t,(o,a)=>{let u;(u=e(o,a,n))!==!1&&(r[a]=u||o)}),Object.defineProperties(n,r)},Kb=n=>{hT(n,(e,t)=>{if(ln(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ln(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Gb=(n,e)=>{const t={},r=o=>{o.forEach(a=>{t[a]=!0})};return Ea(n)?r(n):r(String(n).split(e)),t},Qb=()=>{},Yb=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Jb(n){return!!(n&&ln(n.append)&&n[oT]==="FormData"&&n[gd])}const Xb=n=>{const e=new Array(10),t=(r,o)=>{if(fu(r)){if(e.indexOf(r)>=0)return;if(du(r))return r;if(!("toJSON"in r)){e[o]=r;const a=Ea(r)?[]:{};return pu(r,(u,d)=>{const m=t(u,o+1);!ua(m)&&(a[d]=m)}),e[o]=void 0,a}}return r};return t(n,0)},Zb=Qn("AsyncFunction"),e3=n=>n&&(fu(n)||ln(n))&&ln(n.then)&&ln(n.catch),dT=((n,e)=>n?setImmediate:e?((t,r)=>(Li.addEventListener("message",({source:o,data:a})=>{o===Li&&a===t&&r.length&&r.shift()()},!1),o=>{r.push(o),Li.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ln(Li.postMessage)),t3=typeof queueMicrotask<"u"?queueMicrotask.bind(Li):typeof process<"u"&&process.nextTick||dT,n3=n=>n!=null&&ln(n[gd]),Q={isArray:Ea,isArrayBuffer:aT,isBuffer:du,isFormData:xb,isArrayBufferView:vb,isString:wb,isNumber:lT,isBoolean:Eb,isObject:fu,isPlainObject:sh,isEmptyObject:Tb,isReadableStream:Nb,isRequest:Pb,isResponse:bb,isHeaders:Ob,isUndefined:ua,isDate:Sb,isFile:Ib,isBlob:Rb,isRegExp:qb,isFunction:ln,isStream:kb,isURLSearchParams:Ab,isTypedArray:Bb,isFileList:Cb,forEach:pu,merge:nm,extend:Lb,trim:Db,stripBOM:jb,inherits:Vb,toFlatObject:Mb,kindOf:yd,kindOfTest:Qn,endsWith:Fb,toArray:Ub,forEachEntry:zb,matchAll:$b,isHTMLForm:Hb,hasOwnProperty:R0,hasOwnProp:R0,reduceDescriptors:hT,freezeMethods:Kb,toObjectSet:Gb,toCamelCase:Wb,noop:Qb,toFiniteNumber:Yb,findKey:uT,global:Li,isContextDefined:cT,isSpecCompliantForm:Jb,toJSONObject:Xb,isAsyncFn:Zb,isThenable:e3,setImmediate:dT,asap:t3,isIterable:n3};function Ae(n,e,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const fT=Ae.prototype,pT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{pT[n]={value:n}});Object.defineProperties(Ae,pT);Object.defineProperty(fT,"isAxiosError",{value:!0});Ae.from=(n,e,t,r,o,a)=>{const u=Object.create(fT);Q.toFlatObject(n,u,function(v){return v!==Error.prototype},g=>g!=="isAxiosError");const d=n&&n.message?n.message:"Error",m=e==null&&n?n.code:e;return Ae.call(u,d,m,t,r,o),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",a&&Object.assign(u,a),u};const r3=null;function rm(n){return Q.isPlainObject(n)||Q.isArray(n)}function mT(n){return Q.endsWith(n,"[]")?n.slice(0,-2):n}function C0(n,e,t){return n?n.concat(e).map(function(o,a){return o=mT(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function s3(n){return Q.isArray(n)&&!n.some(rm)}const i3=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function vd(n,e,t){if(!Q.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,N){return!Q.isUndefined(N[j])});const r=t.metaTokens,o=t.visitor||v,a=t.dots,u=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function g(O){if(O===null)return"";if(Q.isDate(O))return O.toISOString();if(Q.isBoolean(O))return O.toString();if(!m&&Q.isBlob(O))throw new Ae("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(O)||Q.isTypedArray(O)?m&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function v(O,j,N){let B=O;if(O&&!N&&typeof O=="object"){if(Q.endsWith(j,"{}"))j=r?j:j.slice(0,-2),O=JSON.stringify(O);else if(Q.isArray(O)&&s3(O)||(Q.isFileList(O)||Q.endsWith(j,"[]"))&&(B=Q.toArray(O)))return j=mT(j),B.forEach(function(W,X){!(Q.isUndefined(W)||W===null)&&e.append(u===!0?C0([j],X,a):u===null?j:j+"[]",g(W))}),!1}return rm(O)?!0:(e.append(C0(N,j,a),g(O)),!1)}const E=[],I=Object.assign(i3,{defaultVisitor:v,convertValue:g,isVisitable:rm});function D(O,j){if(!Q.isUndefined(O)){if(E.indexOf(O)!==-1)throw Error("Circular reference detected in "+j.join("."));E.push(O),Q.forEach(O,function(B,Y){(!(Q.isUndefined(B)||B===null)&&o.call(e,B,Q.isString(Y)?Y.trim():Y,j,I))===!0&&D(B,j?j.concat(Y):[Y])}),E.pop()}}if(!Q.isObject(n))throw new TypeError("data must be an object");return D(n),e}function k0(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function og(n,e){this._pairs=[],n&&vd(n,this,e)}const gT=og.prototype;gT.append=function(e,t){this._pairs.push([e,t])};gT.toString=function(e){const t=e?function(r){return e.call(this,r,k0)}:k0;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function o3(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yT(n,e,t){if(!e)return n;const r=t&&t.encode||o3;Q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=Q.isURLSearchParams(e)?e.toString():new og(e,t).toString(r),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class x0{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const _T={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a3=typeof URLSearchParams<"u"?URLSearchParams:og,l3=typeof FormData<"u"?FormData:null,u3=typeof Blob<"u"?Blob:null,c3={isBrowser:!0,classes:{URLSearchParams:a3,FormData:l3,Blob:u3},protocols:["http","https","file","blob","url","data"]},ag=typeof window<"u"&&typeof document<"u",sm=typeof navigator=="object"&&navigator||void 0,h3=ag&&(!sm||["ReactNative","NativeScript","NS"].indexOf(sm.product)<0),d3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",f3=ag&&window.location.href||"http://localhost",p3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ag,hasStandardBrowserEnv:h3,hasStandardBrowserWebWorkerEnv:d3,navigator:sm,origin:f3},Symbol.toStringTag,{value:"Module"})),Kt={...p3,...c3};function m3(n,e){return vd(n,new Kt.classes.URLSearchParams,{visitor:function(t,r,o,a){return Kt.isNode&&Q.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function g3(n){return Q.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function y3(n){const e={},t=Object.keys(n);let r;const o=t.length;let a;for(r=0;r<o;r++)a=t[r],e[a]=n[a];return e}function vT(n){function e(t,r,o,a){let u=t[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),m=a>=t.length;return u=!u&&Q.isArray(o)?o.length:u,m?(Q.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!d):((!o[u]||!Q.isObject(o[u]))&&(o[u]=[]),e(t,r,o[u],a)&&Q.isArray(o[u])&&(o[u]=y3(o[u])),!d)}if(Q.isFormData(n)&&Q.isFunction(n.entries)){const t={};return Q.forEachEntry(n,(r,o)=>{e(g3(r),o,t,0)}),t}return null}function _3(n,e,t){if(Q.isString(n))try{return(e||JSON.parse)(n),Q.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const mu={transitional:_T,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,a=Q.isObject(e);if(a&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(vT(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return m3(e,this.formSerializer).toString();if((d=Q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return vd(d?{"files[]":e}:e,m&&new m,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),_3(e)):e}],transformResponse:[function(e){const t=this.transitional||mu.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(r&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(d){if(u)throw d.name==="SyntaxError"?Ae.from(d,Ae.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],n=>{mu.headers[n]={}});const v3=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w3=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!t||e[t]&&v3[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},A0=Symbol("internals");function vl(n){return n&&String(n).trim().toLowerCase()}function ih(n){return n===!1||n==null?n:Q.isArray(n)?n.map(ih):String(n)}function E3(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const T3=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function _p(n,e,t,r,o){if(Q.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!Q.isString(e)){if(Q.isString(r))return e.indexOf(r)!==-1;if(Q.isRegExp(r))return r.test(e)}}function S3(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function I3(n,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,a,u){return this[r].call(this,e,o,a,u)},configurable:!0})})}let un=class{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function a(d,m,g){const v=vl(m);if(!v)throw new Error("header name must be a non-empty string");const E=Q.findKey(o,v);(!E||o[E]===void 0||g===!0||g===void 0&&o[E]!==!1)&&(o[E||m]=ih(d))}const u=(d,m)=>Q.forEach(d,(g,v)=>a(g,v,m));if(Q.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(Q.isString(e)&&(e=e.trim())&&!T3(e))u(w3(e),t);else if(Q.isObject(e)&&Q.isIterable(e)){let d={},m,g;for(const v of e){if(!Q.isArray(v))throw TypeError("Object iterator must return a key-value pair");d[g=v[0]]=(m=d[g])?Q.isArray(m)?[...m,v[1]]:[m,v[1]]:v[1]}u(d,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=vl(e),e){const r=Q.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return E3(o);if(Q.isFunction(t))return t.call(this,o,r);if(Q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=vl(e),e){const r=Q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||_p(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function a(u){if(u=vl(u),u){const d=Q.findKey(r,u);d&&(!t||_p(r,r[d],d,t))&&(delete r[d],o=!0)}}return Q.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const a=t[r];(!e||_p(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,r={};return Q.forEach(this,(o,a)=>{const u=Q.findKey(r,a);if(u){t[u]=ih(o),delete t[a];return}const d=e?S3(a):String(a).trim();d!==a&&delete t[a],t[d]=ih(o),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&Q.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[A0]=this[A0]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=vl(u);r[d]||(I3(o,u),r[d]=!0)}return Q.isArray(e)?e.forEach(a):a(e),this}};un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(un.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Q.freezeMethods(un);function vp(n,e){const t=this||mu,r=e||t,o=un.from(r.headers);let a=r.data;return Q.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function wT(n){return!!(n&&n.__CANCEL__)}function Ta(n,e,t){Ae.call(this,n??"canceled",Ae.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(Ta,Ae,{__CANCEL__:!0});function ET(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ae("Request failed with status code "+t.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function R3(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function C3(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),v=r[a];u||(u=g),t[o]=m,r[o]=g;let E=a,I=0;for(;E!==o;)I+=t[E++],E=E%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),g-u<e)return;const D=v&&g-v;return D?Math.round(I*1e3/D):void 0}}function k3(n,e){let t=0,r=1e3/e,o,a;const u=(g,v=Date.now())=>{t=v,o=null,a&&(clearTimeout(a),a=null),n(...g)};return[(...g)=>{const v=Date.now(),E=v-t;E>=r?u(g,v):(o=g,a||(a=setTimeout(()=>{a=null,u(o)},r-E)))},()=>o&&u(o)]}const Fh=(n,e,t=3)=>{let r=0;const o=C3(50,250);return k3(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,m=u-r,g=o(m),v=u<=d;r=u;const E={loaded:u,total:d,progress:d?u/d:void 0,bytes:m,rate:g||void 0,estimated:g&&d&&v?(d-u)/g:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(E)},t)},N0=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},P0=n=>(...e)=>Q.asap(()=>n(...e)),x3=Kt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Kt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,A3=Kt.hasStandardBrowserEnv?{write(n,e,t,r,o,a,u){if(typeof document>"u")return;const d=[`${n}=${encodeURIComponent(e)}`];Q.isNumber(t)&&d.push(`expires=${new Date(t).toUTCString()}`),Q.isString(r)&&d.push(`path=${r}`),Q.isString(o)&&d.push(`domain=${o}`),a===!0&&d.push("secure"),Q.isString(u)&&d.push(`SameSite=${u}`),document.cookie=d.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function N3(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function P3(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function TT(n,e,t){let r=!N3(e);return n&&(r||t==!1)?P3(n,e):e}const b0=n=>n instanceof un?{...n}:n;function Ki(n,e){e=e||{};const t={};function r(g,v,E,I){return Q.isPlainObject(g)&&Q.isPlainObject(v)?Q.merge.call({caseless:I},g,v):Q.isPlainObject(v)?Q.merge({},v):Q.isArray(v)?v.slice():v}function o(g,v,E,I){if(Q.isUndefined(v)){if(!Q.isUndefined(g))return r(void 0,g,E,I)}else return r(g,v,E,I)}function a(g,v){if(!Q.isUndefined(v))return r(void 0,v)}function u(g,v){if(Q.isUndefined(v)){if(!Q.isUndefined(g))return r(void 0,g)}else return r(void 0,v)}function d(g,v,E){if(E in e)return r(g,v);if(E in n)return r(void 0,g)}const m={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(g,v,E)=>o(b0(g),b0(v),E,!0)};return Q.forEach(Object.keys({...n,...e}),function(v){const E=m[v]||o,I=E(n[v],e[v],v);Q.isUndefined(I)&&E!==d||(t[v]=I)}),t}const ST=n=>{const e=Ki({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;if(e.headers=u=un.from(u),e.url=yT(TT(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Q.isFormData(t)){if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(Q.isFunction(t.getHeaders)){const m=t.getHeaders(),g=["content-type","content-length"];Object.entries(m).forEach(([v,E])=>{g.includes(v.toLowerCase())&&u.set(v,E)})}}if(Kt.hasStandardBrowserEnv&&(r&&Q.isFunction(r)&&(r=r(e)),r||r!==!1&&x3(e.url))){const m=o&&a&&A3.read(a);m&&u.set(o,m)}return e},b3=typeof XMLHttpRequest<"u",O3=b3&&function(n){return new Promise(function(t,r){const o=ST(n);let a=o.data;const u=un.from(o.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:g}=o,v,E,I,D,O;function j(){D&&D(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function B(){if(!N)return;const W=un.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),q={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:W,config:n,request:N};ET(function(A){t(A),j()},function(A){r(A),j()},q),N=null}"onloadend"in N?N.onloadend=B:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(B)},N.onabort=function(){N&&(r(new Ae("Request aborted",Ae.ECONNABORTED,n,N)),N=null)},N.onerror=function(X){const q=X&&X.message?X.message:"Network Error",se=new Ae(q,Ae.ERR_NETWORK,n,N);se.event=X||null,r(se),N=null},N.ontimeout=function(){let X=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const q=o.transitional||_T;o.timeoutErrorMessage&&(X=o.timeoutErrorMessage),r(new Ae(X,q.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,n,N)),N=null},a===void 0&&u.setContentType(null),"setRequestHeader"in N&&Q.forEach(u.toJSON(),function(X,q){N.setRequestHeader(q,X)}),Q.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),d&&d!=="json"&&(N.responseType=o.responseType),g&&([I,O]=Fh(g,!0),N.addEventListener("progress",I)),m&&N.upload&&([E,D]=Fh(m),N.upload.addEventListener("progress",E),N.upload.addEventListener("loadend",D)),(o.cancelToken||o.signal)&&(v=W=>{N&&(r(!W||W.type?new Ta(null,n,N):W),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const Y=R3(o.url);if(Y&&Kt.protocols.indexOf(Y)===-1){r(new Ae("Unsupported protocol "+Y+":",Ae.ERR_BAD_REQUEST,n));return}N.send(a||null)})},D3=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,o;const a=function(g){if(!o){o=!0,d();const v=g instanceof Error?g:this.reason;r.abort(v instanceof Ae?v:new Ta(v instanceof Error?v.message:v))}};let u=e&&setTimeout(()=>{u=null,a(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const d=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(a):g.removeEventListener("abort",a)}),n=null)};n.forEach(g=>g.addEventListener("abort",a));const{signal:m}=r;return m.unsubscribe=()=>Q.asap(d),m}},L3=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,o;for(;r<t;)o=r+e,yield n.slice(r,o),r=o},j3=async function*(n,e){for await(const t of V3(n))yield*L3(t,e)},V3=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},O0=(n,e,t,r)=>{const o=j3(n,e);let a=0,u,d=m=>{u||(u=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:g,value:v}=await o.next();if(g){d(),m.close();return}let E=v.byteLength;if(t){let I=a+=E;t(I)}m.enqueue(new Uint8Array(v))}catch(g){throw d(g),g}},cancel(m){return d(m),o.return()}},{highWaterMark:2})},D0=64*1024,{isFunction:$c}=Q,M3=(({Request:n,Response:e})=>({Request:n,Response:e}))(Q.global),{ReadableStream:L0,TextEncoder:j0}=Q.global,V0=(n,...e)=>{try{return!!n(...e)}catch{return!1}},F3=n=>{n=Q.merge.call({skipUndefined:!0},M3,n);const{fetch:e,Request:t,Response:r}=n,o=e?$c(e):typeof fetch=="function",a=$c(t),u=$c(r);if(!o)return!1;const d=o&&$c(L0),m=o&&(typeof j0=="function"?(O=>j=>O.encode(j))(new j0):async O=>new Uint8Array(await new t(O).arrayBuffer())),g=a&&d&&V0(()=>{let O=!1;const j=new t(Kt.origin,{body:new L0,method:"POST",get duplex(){return O=!0,"half"}}).headers.has("Content-Type");return O&&!j}),v=u&&d&&V0(()=>Q.isReadableStream(new r("").body)),E={stream:v&&(O=>O.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(O=>{!E[O]&&(E[O]=(j,N)=>{let B=j&&j[O];if(B)return B.call(j);throw new Ae(`Response type '${O}' is not supported`,Ae.ERR_NOT_SUPPORT,N)})});const I=async O=>{if(O==null)return 0;if(Q.isBlob(O))return O.size;if(Q.isSpecCompliantForm(O))return(await new t(Kt.origin,{method:"POST",body:O}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(O)||Q.isArrayBuffer(O))return O.byteLength;if(Q.isURLSearchParams(O)&&(O=O+""),Q.isString(O))return(await m(O)).byteLength},D=async(O,j)=>{const N=Q.toFiniteNumber(O.getContentLength());return N??I(j)};return async O=>{let{url:j,method:N,data:B,signal:Y,cancelToken:W,timeout:X,onDownloadProgress:q,onUploadProgress:se,responseType:A,headers:S,withCredentials:C="same-origin",fetchOptions:b}=ST(O),k=e||fetch;A=A?(A+"").toLowerCase():"text";let L=D3([Y,W&&W.toAbortSignal()],X),x=null;const _e=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let ze;try{if(se&&g&&N!=="get"&&N!=="head"&&(ze=await D(S,B))!==0){let U=new t(j,{method:"POST",body:B,duplex:"half"}),Z;if(Q.isFormData(B)&&(Z=U.headers.get("content-type"))&&S.setContentType(Z),U.body){const[Ie,Ee]=N0(ze,Fh(P0(se)));B=O0(U.body,D0,Ie,Ee)}}Q.isString(C)||(C=C?"include":"omit");const qe=a&&"credentials"in t.prototype,$e={...b,signal:L,method:N.toUpperCase(),headers:S.normalize().toJSON(),body:B,duplex:"half",credentials:qe?C:void 0};x=a&&new t(j,$e);let J=await(a?k(x,b):k(j,$e));const ue=v&&(A==="stream"||A==="response");if(v&&(q||ue&&_e)){const U={};["status","statusText","headers"].forEach(Pe=>{U[Pe]=J[Pe]});const Z=Q.toFiniteNumber(J.headers.get("content-length")),[Ie,Ee]=q&&N0(Z,Fh(P0(q),!0))||[];J=new r(O0(J.body,D0,Ie,()=>{Ee&&Ee(),_e&&_e()}),U)}A=A||"text";let oe=await E[Q.findKey(E,A)||"text"](J,O);return!ue&&_e&&_e(),await new Promise((U,Z)=>{ET(U,Z,{data:oe,headers:un.from(J.headers),status:J.status,statusText:J.statusText,config:O,request:x})})}catch(qe){throw _e&&_e(),qe&&qe.name==="TypeError"&&/Load failed|fetch/i.test(qe.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,O,x),{cause:qe.cause||qe}):Ae.from(qe,qe&&qe.code,O,x)}}},U3=new Map,IT=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:o}=e,a=[r,o,t];let u=a.length,d=u,m,g,v=U3;for(;d--;)m=a[d],g=v.get(m),g===void 0&&v.set(m,g=d?new Map:F3(e)),v=g;return g};IT();const lg={http:r3,xhr:O3,fetch:{get:IT}};Q.forEach(lg,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const M0=n=>`- ${n}`,B3=n=>Q.isFunction(n)||n===null||n===!1;function z3(n,e){n=Q.isArray(n)?n:[n];const{length:t}=n;let r,o;const a={};for(let u=0;u<t;u++){r=n[u];let d;if(o=r,!B3(r)&&(o=lg[(d=String(r)).toLowerCase()],o===void 0))throw new Ae(`Unknown adapter '${d}'`);if(o&&(Q.isFunction(o)||(o=o.get(e))))break;a[d||"#"+u]=o}if(!o){const u=Object.entries(a).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let d=t?u.length>1?`since :
`+u.map(M0).join(`
`):" "+M0(u[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o}const RT={getAdapter:z3,adapters:lg};function wp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ta(null,n)}function F0(n){return wp(n),n.headers=un.from(n.headers),n.data=vp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),RT.getAdapter(n.adapter||mu.adapter,n)(n).then(function(r){return wp(n),r.data=vp.call(n,n.transformResponse,r),r.headers=un.from(r.headers),r},function(r){return wT(r)||(wp(n),r&&r.response&&(r.response.data=vp.call(n,n.transformResponse,r.response),r.response.headers=un.from(r.response.headers))),Promise.reject(r)})}const CT="1.13.2",wd={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{wd[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const U0={};wd.transitional=function(e,t,r){function o(a,u){return"[Axios v"+CT+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,d)=>{if(e===!1)throw new Ae(o(u," has been removed"+(t?" in "+t:"")),Ae.ERR_DEPRECATED);return t&&!U0[u]&&(U0[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,d):!0}};wd.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function $3(n,e,t){if(typeof n!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const a=r[o],u=e[a];if(u){const d=n[a],m=d===void 0||u(d,a,n);if(m!==!0)throw new Ae("option "+a+" must be "+m,Ae.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ae("Unknown option "+a,Ae.ERR_BAD_OPTION)}}const oh={assertOptions:$3,validators:wd},pr=oh.validators;let Mi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new x0,response:new x0}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ki(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:a}=t;r!==void 0&&oh.assertOptions(r,{silentJSONParsing:pr.transitional(pr.boolean),forcedJSONParsing:pr.transitional(pr.boolean),clarifyTimeoutError:pr.transitional(pr.boolean)},!1),o!=null&&(Q.isFunction(o)?t.paramsSerializer={serialize:o}:oh.assertOptions(o,{encode:pr.function,serialize:pr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),oh.assertOptions(t,{baseUrl:pr.spelling("baseURL"),withXsrfToken:pr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&Q.merge(a.common,a[t.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],O=>{delete a[O]}),t.headers=un.concat(u,a);const d=[];let m=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(t)===!1||(m=m&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const g=[];this.interceptors.response.forEach(function(j){g.push(j.fulfilled,j.rejected)});let v,E=0,I;if(!m){const O=[F0.bind(this),void 0];for(O.unshift(...d),O.push(...g),I=O.length,v=Promise.resolve(t);E<I;)v=v.then(O[E++],O[E++]);return v}I=d.length;let D=t;for(;E<I;){const O=d[E++],j=d[E++];try{D=O(D)}catch(N){j.call(this,N);break}}try{v=F0.call(this,D)}catch(O){return Promise.reject(O)}for(E=0,I=g.length;E<I;)v=v.then(g[E++],g[E++]);return v}getUri(e){e=Ki(this.defaults,e);const t=TT(e.baseURL,e.url,e.allowAbsoluteUrls);return yT(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Mi.prototype[e]=function(t,r){return this.request(Ki(r||{},{method:e,url:t,data:(r||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(r){return function(a,u,d){return this.request(Ki(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}Mi.prototype[e]=t(),Mi.prototype[e+"Form"]=t(!0)});let H3=class kT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{r.subscribe(d),a=d}).then(o);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,d){r.reason||(r.reason=new Ta(a,u,d),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new kT(function(o){e=o}),cancel:e}}};function W3(n){return function(t){return n.apply(null,t)}}function q3(n){return Q.isObject(n)&&n.isAxiosError===!0}const im={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(im).forEach(([n,e])=>{im[e]=n});function xT(n){const e=new Mi(n),t=iT(Mi.prototype.request,e);return Q.extend(t,Mi.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return xT(Ki(n,o))},t}const Ne=xT(mu);Ne.Axios=Mi;Ne.CanceledError=Ta;Ne.CancelToken=H3;Ne.isCancel=wT;Ne.VERSION=CT;Ne.toFormData=vd;Ne.AxiosError=Ae;Ne.Cancel=Ne.CanceledError;Ne.all=function(e){return Promise.all(e)};Ne.spread=W3;Ne.isAxiosError=q3;Ne.mergeConfig=Ki;Ne.AxiosHeaders=un;Ne.formToJSON=n=>vT(Q.isHTMLForm(n)?new FormData(n):n);Ne.getAdapter=RT.getAdapter;Ne.HttpStatusCode=im;Ne.default=Ne;const{Axios:p6,AxiosError:m6,CanceledError:g6,isCancel:y6,CancelToken:_6,VERSION:v6,all:w6,Cancel:E6,isAxiosError:T6,spread:S6,toFormData:I6,AxiosHeaders:R6,HttpStatusCode:C6,formToJSON:k6,getAdapter:x6,mergeConfig:A6}=Ne;function Ep(n){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function K3(n){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(n)}function G3(n){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(n)}function Q3(n){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function Y3(n){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(n)}function J3(n){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(n)}function Gs(n){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(n)}function X3(n){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(n)}function Uh(n){return Be({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}const ca=n=>new Promise((e,t)=>{if(!n){e(null);return}const r=new Audio;r.preload="metadata",r.onloadedmetadata=()=>{e(r.duration)},r.onerror=()=>{t(new Error("Failed to load audio"))},r.src=n}),an=n=>{if(!n||isNaN(n))return"N/A";const e=Math.floor(n/60),t=Math.floor(n%60);return`${e}:${t.toString().padStart(2,"0")}`},Z3=n=>{if(!n||isNaN(n))return"N/A";const e=Math.floor(n/60),t=Math.floor(n%60);return`${e} mins ${t} secs`};function gu({isSidebarOpen:n,toggleSidebar:e}){const t=si(),r=lm(),{isAuthenticated:o}=Gi(v=>v.user),[a,u]=V.useState(!1),d=async()=>{try{await vx(Go),r(R1())}catch(v){console.error("Error signing out:",v.message)}},m=v=>t.pathname===v,g=()=>{window.innerWidth<=768&&e&&e()};return p.jsxs(p.Fragment,{children:[n&&p.jsx("div",{className:"sidebar__overlay",onClick:e}),p.jsxs("aside",{className:`sidebar ${n?"sidebar--open":""}`,children:[p.jsxs("div",{className:"sidebar__top",children:[p.jsx("div",{className:"sidebar__logo",children:p.jsx("img",{src:"../assets/logo.png",alt:"logo"})}),p.jsxs("nav",{className:"sidebar__nav",children:[p.jsxs(Vt,{to:"/for-you",className:`sidebar__link ${m("/for-you")?"sidebar__link--active":""}`,onClick:g,children:[p.jsx(ab,{className:"sidebar__icon"}),p.jsx("span",{children:"For You"})]}),p.jsxs(Vt,{to:"/library",className:`sidebar__link ${m("/library")?"sidebar__link--active":""}`,onClick:g,children:[p.jsx(rT,{className:"sidebar__icon"}),p.jsx("span",{children:"My Library"})]}),p.jsxs("div",{className:"sidebar__link sidebar__link--disabled",children:[p.jsx(K3,{className:"sidebar__icon"}),p.jsx("span",{children:"Highlights"})]}),p.jsxs("div",{className:"sidebar__link sidebar__link--disabled",children:[p.jsx(wa,{className:"sidebar__icon"}),p.jsx("span",{children:"Search"})]})]})]}),p.jsxs("div",{className:"sidebar__bottom",children:[p.jsxs(Vt,{to:"/settings",className:`sidebar__link ${m("/settings")?"sidebar__link--active":""}`,onClick:g,children:[p.jsx(X3,{className:"sidebar__icon"}),p.jsx("span",{children:"Settings"})]}),p.jsxs("div",{className:"sidebar__link sidebar__link--disabled",children:[p.jsx(lb,{className:"sidebar__icon"}),p.jsx("span",{children:"Help & Support"})]}),o?p.jsxs("div",{className:"sidebar__link",onClick:()=>{d(),g()},children:[p.jsx(Q3,{className:"sidebar__icon"}),p.jsx("span",{children:"Logout"})]}):p.jsxs("div",{className:"sidebar__link",onClick:()=>{u(!0),g()},children:[p.jsx(G3,{className:"sidebar__icon"}),p.jsx("span",{children:"Login"})]})]})]}),p.jsx(sT,{show:a,onClose:()=>u(!1)})]})}function wl(){return p.jsxs("div",{className:"for-you__recommended--books-link skeleton",children:[p.jsx("div",{className:"skeleton__image"}),p.jsx("div",{className:"skeleton__title"}),p.jsx("div",{className:"skeleton__author"}),p.jsx("div",{className:"skeleton__subtitle"}),p.jsxs("div",{className:"skeleton__footer",children:[p.jsx("div",{className:"skeleton__duration"}),p.jsx("div",{className:"skeleton__rating"})]})]})}function AT(){return p.jsxs("div",{className:"book-detail-skeleton",children:[p.jsx("div",{className:"skeleton__detail-image"}),p.jsxs("div",{className:"skeleton__detail-content",children:[p.jsx("div",{className:"skeleton__detail-title"}),p.jsx("div",{className:"skeleton__detail-author"}),p.jsx("div",{className:"skeleton__detail-subtitle"}),p.jsxs("div",{className:"skeleton__detail-tags",children:[p.jsx("div",{className:"skeleton__tag"}),p.jsx("div",{className:"skeleton__tag"}),p.jsx("div",{className:"skeleton__tag"})]}),p.jsx("div",{className:"skeleton__detail-description"}),p.jsx("div",{className:"skeleton__detail-description"}),p.jsx("div",{className:"skeleton__detail-description"})]})]})}function om(){return p.jsxs(p.Fragment,{children:[p.jsx(wl,{}),p.jsx(wl,{}),p.jsx(wl,{}),p.jsx(wl,{}),p.jsx(wl,{})]})}function e6(){const{isAuthenticated:n}=Gi(S=>S.user),[e,t]=V.useState(null),[r,o]=V.useState([]),[a,u]=V.useState([]),[d,m]=V.useState(""),[g,v]=V.useState([]),[E,I]=V.useState([]),[D,O]=V.useState({}),[j,N]=V.useState(!0),[B,Y]=V.useState(!0),[W,X]=V.useState(!0),[q,se]=V.useState(!1),A=()=>{se(!q)};return V.useEffect(()=>{const S=async()=>{try{N(!0);const k=await Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=selected");k.data&&k.data[0]&&(t(k.data[0]),I(L=>L.some(_e=>_e.id===k.data[0].id)?L:[...L,k.data[0]]))}catch(k){console.error("Error fetching selected book:",k)}finally{N(!1)}},C=async()=>{try{Y(!0);const k=await Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=recommended");k.data&&(o(k.data.slice(0,8)),I(L=>{const x=new Set(L.map(ze=>ze.id)),_e=k.data.filter(ze=>!x.has(ze.id));return[...L,..._e]}))}catch(k){console.error("Error fetching recommended books:",k)}finally{Y(!1)}},b=async()=>{try{X(!0);const k=await Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=suggested");k.data&&(u(k.data.slice(0,8)),I(L=>{const x=new Set(L.map(ze=>ze.id)),_e=k.data.filter(ze=>!x.has(ze.id));return[...L,..._e]}))}catch(k){console.error("Error fetching suggested books:",k)}finally{X(!1)}};S(),C(),b()},[]),V.useEffect(()=>{if(d.trim()===""){v([]);return}const S=async()=>{try{const b=await Ne.get(`https://us-central1-summaristt.cloudfunctions.net/getBooksByAuthorOrTitle?search=${encodeURIComponent(d)}`);b.data&&v(b.data)}catch(b){console.error("Error fetching search results:",b),v([])}},C=setTimeout(()=>{S()},300);return()=>clearTimeout(C)},[d]),V.useEffect(()=>{const S=async()=>{const C={};await Promise.all(E.map(async b=>{if(b.audioLink)try{const k=await ca(b.audioLink);C[b.id]=k}catch(k){console.error(`Error loading duration for ${b.id}:`,k),C[b.id]=null}})),O(C)};E.length>0&&S()},[E]),p.jsxs("div",{className:"for-you-page",children:[p.jsx(gu,{isSidebarOpen:q,toggleSidebar:A}),p.jsxs("main",{className:"for-you-content",children:[p.jsxs("div",{className:"mobile-header-wrapper",children:[p.jsx("button",{className:"hamburger-menu",onClick:A,children:q?p.jsx(qi,{}):p.jsx(hu,{})}),p.jsx("div",{className:"search-bar-container",children:p.jsxs("div",{className:"search-bar",children:[p.jsx("input",{type:"text",className:"search-bar__input",placeholder:"Search for books",value:d,onChange:S=>m(S.target.value)}),p.jsx("div",{className:"search-bar__divider"}),p.jsx(wa,{className:"search-bar__icon"})]})}),d.trim()!==""&&g.length===0&&p.jsx("div",{className:"search-results",children:p.jsx("div",{className:"search-no-results",children:"No books found"})}),g.length>0&&p.jsx("div",{className:"search-results",children:g.map(S=>p.jsxs(Vt,{to:`/book/${S.id}`,className:"search-result",onClick:()=>m(""),children:[p.jsx("img",{src:S.imageLink,alt:S.title,className:"search-result__image"}),p.jsxs("div",{className:"search-result__info",children:[p.jsx("h4",{className:"search-result__title",children:S.title}),p.jsx("p",{className:"search-result__author",children:S.author}),p.jsxs("div",{className:"search-result__duration",children:[p.jsx(Gs,{className:"search-result__play-icon"}),p.jsx("span",{children:S.audioLink?an(D[S.id]):"N/A"})]})]})]},S.id))})]}),p.jsxs("div",{className:"selected-section",children:[p.jsx("h2",{className:"selected-section__title",children:"Selected just for you"}),j?p.jsxs("div",{className:"selected-book skeleton-selected",children:[p.jsx("div",{className:"skeleton__selected-content"}),p.jsx("div",{className:"selected-book__divider"}),p.jsxs("div",{className:"selected-book__details",children:[p.jsx("div",{className:"skeleton__selected-image"}),p.jsxs("div",{className:"skeleton__selected-info",children:[p.jsx("div",{className:"skeleton__selected-title"}),p.jsx("div",{className:"skeleton__selected-author"}),p.jsx("div",{className:"skeleton__selected-duration"})]})]})]}):e?p.jsxs(Vt,{to:`/book/${e.id}`,className:"selected-book",children:[p.jsx("div",{className:"selected-book__content",children:p.jsx("p",{className:"selected-book__subtitle",children:e.subTitle})}),p.jsx("div",{className:"selected-book__divider"}),p.jsxs("div",{className:"selected-book__details",children:[p.jsx("img",{src:e.imageLink,alt:e.title,className:"selected-book__image"}),p.jsxs("div",{className:"selected-book__info",children:[p.jsx("h3",{className:"selected-book__title",children:e.title}),p.jsx("p",{className:"selected-book__author",children:e.author}),p.jsxs("div",{className:"selected-book__audio",children:[p.jsx(Ep,{className:"selected-book__play-icon"}),p.jsx("span",{className:"selected-book__duration",children:e.audioLink?Z3(D[e.id]):"N/A"})]})]})]})]}):p.jsx("div",{className:"selected-book selected-book--loading",children:p.jsx("p",{children:"Loading..."})})]}),p.jsxs("div",{className:"recommended-section",children:[p.jsx("h2",{className:"recommended-section__title",children:"Recommended For You"}),p.jsx("p",{className:"recommended-section__subtitle",children:"We think you'll like these"}),p.jsx("div",{className:"recommended-books",children:p.jsx("div",{className:"recommended-books__slider",children:B?p.jsx(om,{}):r.map(S=>p.jsxs(Vt,{to:`/book/${S.id}`,className:"recommended-book",children:[S.subscriptionRequired&&p.jsx("span",{className:"recommended-book__premium-badge",children:"Premium"}),p.jsxs("div",{className:"recommended-book__image-wrapper",children:[p.jsx("img",{src:S.imageLink,alt:S.title,className:"recommended-book__image"}),S.audioLink&&p.jsx("span",{className:"recommended-book__duration-overlay",children:an(D[S.id])})]}),p.jsx("h4",{className:"recommended-book__title",children:S.title}),p.jsx("p",{className:"recommended-book__author",children:S.author}),p.jsx("p",{className:"recommended-book__subtitle",children:S.subTitle}),p.jsxs("div",{className:"recommended-book__footer",children:[p.jsxs("div",{className:"recommended-book__audio",children:[p.jsx(Ep,{className:"recommended-book__play-icon"}),p.jsx("span",{className:"recommended-book__duration",children:S.audioLink?an(D[S.id]):"N/A"})]}),p.jsxs("div",{className:"recommended-book__rating",children:[p.jsx(Uh,{className:"recommended-book__star-icon"}),p.jsx("span",{children:S.averageRating||"N/A"})]})]})]},S.id))})})]}),p.jsxs("div",{className:"suggested-section",children:[p.jsx("h2",{className:"suggested-section__title",children:"Suggested Books"}),p.jsx("p",{className:"suggested-section__subtitle",children:"Browse those books"}),p.jsx("div",{className:"suggested-books",children:p.jsx("div",{className:"suggested-books__slider",children:W?p.jsx(om,{}):a.map(S=>p.jsxs(Vt,{to:`/book/${S.id}`,className:"suggested-book",children:[S.subscriptionRequired&&p.jsx("span",{className:"suggested-book__premium-badge",children:"Premium"}),p.jsxs("div",{className:"suggested-book__image-wrapper",children:[p.jsx("img",{src:S.imageLink,alt:S.title,className:"suggested-book__image"}),S.audioLink&&p.jsx("span",{className:"suggested-book__duration-overlay",children:an(D[S.id])})]}),p.jsx("h4",{className:"suggested-book__title",children:S.title}),p.jsx("p",{className:"suggested-book__author",children:S.author}),p.jsx("p",{className:"suggested-book__subtitle",children:S.subTitle}),p.jsxs("div",{className:"suggested-book__footer",children:[p.jsxs("div",{className:"suggested-book__audio",children:[p.jsx(Ep,{className:"suggested-book__play-icon"}),p.jsx("span",{className:"suggested-book__duration",children:S.audioLink?an(D[S.id]):"N/A"})]}),p.jsxs("div",{className:"suggested-book__rating",children:[p.jsx(Uh,{className:"suggested-book__star-icon"}),p.jsx("span",{children:S.averageRating||"N/A"})]})]})]},S.id))})})]})]})]})}function t6(){const{id:n}=n1(),{isAuthenticated:e,user:t}=Gi(k=>k.user),r=t==null?void 0:t.uid,o=(t==null?void 0:t.isSubscribed)||!1,[a,u]=V.useState(null),[d,m]=V.useState(!0),[g,v]=V.useState(null),[E,I]=V.useState(null),[D,O]=V.useState(!0),[j,N]=V.useState(""),[B,Y]=V.useState([]),[W,X]=V.useState([]),[q,se]=V.useState({}),[A,S]=V.useState(!1),C=()=>{S(!A)};V.useEffect(()=>{(async()=>{try{m(!0);const L=await Ne.get(`https://us-central1-summaristt.cloudfunctions.net/getBook?id=${n}`);L.data&&u(L.data)}catch(L){console.error("Error fetching book:",L)}finally{m(!1)}})()},[n]),V.useEffect(()=>{(async()=>{if(!r||!n){v(!1);return}try{const L=la(ri,"users",r,"library",n),_e=(await JE(L)).exists();v(_e)}catch(L){console.error("Error checking if book is saved:",L),v(!1)}})()},[r,n]),V.useEffect(()=>{(async()=>{if(a!=null&&a.audioLink)try{const L=await ca(a.audioLink);I(L)}catch(L){console.error("Error loading audio duration:",L),I(null)}})()},[a]),V.useEffect(()=>{(async()=>{try{const[L,x,_e]=await Promise.all([Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=selected"),Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=recommended"),Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=suggested")]),qe=[...L.data||[],...x.data||[],..._e.data||[]].filter(($e,J,ue)=>J===ue.findIndex(oe=>oe.id===$e.id));X(qe)}catch(L){console.error("Error fetching books:",L)}})()},[]),V.useEffect(()=>{if(j.trim()===""){Y([]);return}const k=async()=>{try{const x=await Ne.get(`https://us-central1-summaristt.cloudfunctions.net/getBooksByAuthorOrTitle?search=${encodeURIComponent(j)}`);x.data&&Y(x.data)}catch(x){console.error("Error fetching search results:",x),Y([])}},L=setTimeout(()=>{k()},300);return()=>clearTimeout(L)},[j]),V.useEffect(()=>{const k=async()=>{const L={};await Promise.all(W.map(async x=>{if(x.audioLink)try{const _e=await ca(x.audioLink);L[x.id]=_e}catch(_e){console.error(`Error loading duration for ${x.id}:`,_e),L[x.id]=null}})),se(L)};W.length>0&&k()},[W]);const b=async()=>{if(!e||!r||!a)return;const k=g;v(!k);try{const L=la(ri,"users",r,"library",n);k?await q4(L):await md(L,{...a,savedAt:new Date().toISOString()})}catch(L){console.error("Error toggling save:",L),v(k)}};return p.jsxs("div",{className:"book-detail-page",children:[p.jsx(gu,{isSidebarOpen:A,toggleSidebar:C}),p.jsxs("main",{className:"book-detail-content",children:[p.jsx("button",{className:"hamburger-menu",onClick:C,children:A?p.jsx(qi,{}):p.jsx(hu,{})}),p.jsxs("div",{className:"search-bar-container",children:[p.jsxs("div",{className:"search-bar",children:[p.jsx("input",{type:"text",className:"search-bar__input",placeholder:"Search for books",value:j,onChange:k=>N(k.target.value)}),p.jsx("div",{className:"search-bar__divider"}),p.jsx(wa,{className:"search-bar__icon"})]}),j.trim()!==""&&B.length===0&&p.jsx("div",{className:"search-results",children:p.jsx("div",{className:"search-no-results",children:"No books found"})}),B.length>0&&p.jsx("div",{className:"search-results",children:B.map(k=>p.jsxs(Vt,{to:`/book/${k.id}`,className:"search-result",onClick:()=>N(""),children:[p.jsx("img",{src:k.imageLink,alt:k.title,className:"search-result__image"}),p.jsxs("div",{className:"search-result__info",children:[p.jsx("h4",{className:"search-result__title",children:k.title}),p.jsx("p",{className:"search-result__author",children:k.author}),p.jsxs("div",{className:"search-result__duration",children:[p.jsx(Gs,{className:"search-result__play-icon"}),p.jsx("span",{children:k.audioLink?an(q[k.id]):"N/A"})]})]})]},k.id))})]}),d?p.jsx(AT,{}):a?p.jsx(p.Fragment,{children:p.jsxs("div",{className:"book-detail-header",children:[p.jsxs("div",{className:"book-detail-header__info",children:[p.jsx("h1",{className:"book-detail-header__title",children:a.title}),p.jsx("p",{className:"book-detail-header__author",children:a.author}),p.jsx("p",{className:"book-detail-header__subtitle",children:a.subTitle}),p.jsx("div",{className:"book-detail-header__divider"}),p.jsxs("div",{className:"book-detail-header__stats",children:[p.jsxs("div",{className:"book-detail-header__stats-left",children:[p.jsxs("div",{className:"book-detail-stat",children:[p.jsx(ub,{className:"book-detail-stat__icon"}),p.jsxs("span",{className:"book-detail-stat__text",children:[a.averageRating||"N/A"," (",a.totalRating||0,")"]})]}),p.jsxs("div",{className:"book-detail-stat",children:[p.jsx(Y3,{className:"book-detail-stat__icon"}),p.jsx("span",{className:"book-detail-stat__text",children:"Audio & Text"})]})]}),p.jsxs("div",{className:"book-detail-header__stats-right",children:[p.jsxs("div",{className:"book-detail-stat",children:[p.jsx(mb,{className:"book-detail-stat__icon"}),p.jsx("span",{className:"book-detail-stat__text",children:a.audioLink?an(E):"N/A"})]}),p.jsxs("div",{className:"book-detail-stat",children:[p.jsx(ib,{className:"book-detail-stat__icon"}),p.jsxs("span",{className:"book-detail-stat__text",children:[a.keyIdeas||0," Key Ideas"]})]})]})]}),p.jsx("div",{className:"book-detail-header__divider"}),p.jsxs("div",{className:"book-detail-header__buttons",children:[p.jsx(Vt,{to:a.subscriptionRequired&&!o?"/choose-plan":`/player/${n}`,className:"book-detail-header__btn book-detail-header__btn--primary",children:"Read"}),p.jsx(Vt,{to:a.subscriptionRequired&&!o?"/choose-plan":`/player/${n}`,className:"book-detail-header__btn book-detail-header__btn--secondary",children:"Listen"})]}),p.jsxs("div",{className:`book-detail-header__save ${g?"book-detail-header__save--active":""}`,onClick:b,children:[g?p.jsx(hb,{className:"book-detail-header__save-icon"}):p.jsx(rT,{className:"book-detail-header__save-icon"}),p.jsx("span",{className:"book-detail-header__save-text",children:g?"Saved in My Library":"Add title to My Library"})]}),a.tags&&a.tags.length>0&&p.jsxs("div",{className:"book-detail-tags",children:[p.jsx("h3",{className:"book-detail-tags__heading",children:"What's it about?"}),p.jsx("div",{className:"book-detail-tags__list",children:a.tags.map((k,L)=>p.jsx("div",{className:"book-detail-tag",children:k},L))})]}),a.bookDescription&&p.jsx("p",{className:"book-detail-description",children:a.bookDescription}),a.authorDescription&&p.jsxs("div",{className:"book-detail-author",children:[p.jsx("h3",{className:"book-detail-author__heading",children:"About the Author"}),p.jsx("p",{className:"book-detail-author__description",children:a.authorDescription})]})]}),p.jsx("div",{className:"book-detail-header__image-wrapper",children:p.jsx("img",{src:a.imageLink,alt:a.title,className:"book-detail-header__image"})})]})}):p.jsx("div",{className:"book-detail-error",children:"Book not found"})]})]})}function n6(){const{user:n}=Gi(q=>q.user),e=n==null?void 0:n.uid,[t,r]=V.useState([]),[o,a]=V.useState([]),[u,d]=V.useState(!0),[m,g]=V.useState(0),[v,E]=V.useState({}),[I,D]=V.useState(""),[O,j]=V.useState([]),[N,B]=V.useState([]),[Y,W]=V.useState(!1),X=()=>{W(!Y)};return V.useEffect(()=>{const q=()=>{document.visibilityState==="visible"&&g(se=>se+1)};return document.addEventListener("visibilitychange",q),()=>document.removeEventListener("visibilitychange",q)},[]),V.useEffect(()=>{(async()=>{if(!e){d(!1);return}try{const se=_0(ri,"users",e,"library"),S=(await T0(se)).docs.map(L=>({id:L.id,...L.data()}));r(S);const C=_0(ri,"users",e,"finished"),k=(await T0(C)).docs.map(L=>({id:L.id,...L.data()}));a(k)}catch(se){console.error("Error fetching library books:",se)}finally{d(!1)}})()},[e,m]),V.useEffect(()=>{const q=async()=>{const se=[...t,...o],A={};await Promise.all(se.map(async S=>{if(S.audioLink)try{const C=await ca(S.audioLink);A[S.id]=C}catch(C){console.error(`Error loading duration for ${S.id}:`,C),A[S.id]=null}})),E(A)};(t.length>0||o.length>0)&&q()},[t,o]),V.useEffect(()=>{(async()=>{try{const[se,A,S]=await Promise.all([Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=selected"),Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=recommended"),Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=suggested")]),b=[...se.data||[],...A.data||[],...S.data||[]].filter((k,L,x)=>L===x.findIndex(_e=>_e.id===k.id));B(b)}catch(se){console.error("Error fetching books:",se)}})()},[]),V.useEffect(()=>{if(I.trim()===""){j([]);return}const q=async()=>{try{const A=await Ne.get(`https://us-central1-summaristt.cloudfunctions.net/getBooksByAuthorOrTitle?search=${encodeURIComponent(I)}`);A.data&&j(A.data)}catch(A){console.error("Error fetching search results:",A),j([])}},se=setTimeout(()=>{q()},300);return()=>clearTimeout(se)},[I]),p.jsxs("div",{className:"library-page",children:[p.jsx(gu,{isSidebarOpen:Y,toggleSidebar:X}),p.jsxs("main",{className:"library-content",children:[p.jsxs("div",{className:"mobile-header-wrapper",children:[p.jsx("button",{className:"hamburger-menu",onClick:X,children:Y?p.jsx(qi,{}):p.jsx(hu,{})}),p.jsx("div",{className:"search-bar-container",children:p.jsxs("div",{className:"search-bar",children:[p.jsx("input",{type:"text",className:"search-bar__input",placeholder:"Search for books",value:I,onChange:q=>D(q.target.value)}),p.jsx("div",{className:"search-bar__divider"}),p.jsx(wa,{className:"search-bar__icon"})]})}),I.trim()!==""&&O.length===0&&p.jsx("div",{className:"search-results",children:p.jsx("div",{className:"search-no-results",children:"No books found"})}),O.length>0&&p.jsx("div",{className:"search-results",children:O.map(q=>p.jsxs(Vt,{to:`/book/${q.id}`,className:"search-result",onClick:()=>D(""),children:[p.jsx("img",{src:q.imageLink,alt:q.title,className:"search-result__image"}),p.jsxs("div",{className:"search-result__info",children:[p.jsx("h4",{className:"search-result__title",children:q.title}),p.jsx("p",{className:"search-result__author",children:q.author}),p.jsxs("div",{className:"search-result__duration",children:[p.jsx(Gs,{className:"search-result__play-icon"}),p.jsx("span",{children:q.audioLink?an(v[q.id]):"N/A"})]})]})]},q.id))})]}),p.jsxs("div",{className:"library-section",children:[p.jsx("h2",{className:"library-section__title",children:"Saved Books"}),p.jsxs("p",{className:"library-section__count",children:[t.length," ",t.length===1?"item":"items"]}),u?p.jsx("div",{className:"library-books",children:p.jsx(om,{})}):t.length===0?p.jsxs("div",{className:"library-empty",children:[p.jsx("h3",{className:"library-empty__title",children:"Save your favorite books!"}),p.jsx("p",{className:"library-empty__text",children:"When you save a book, it will appear here."})]}):p.jsx("div",{className:"library-books",children:t.map(q=>p.jsxs(Vt,{to:`/book/${q.id}`,className:"library-book",children:[q.subscriptionRequired&&p.jsx("span",{className:"library-book__premium-badge",children:"Premium"}),p.jsxs("div",{className:"library-book__image-wrapper",children:[p.jsx("img",{src:q.imageLink,alt:q.title,className:"library-book__image"}),q.audioLink&&p.jsx("span",{className:"library-book__duration-overlay",children:an(v[q.id])})]}),p.jsx("h4",{className:"library-book__title",children:q.title}),p.jsx("p",{className:"library-book__author",children:q.author}),p.jsx("p",{className:"library-book__subtitle",children:q.subTitle}),p.jsxs("div",{className:"library-book__footer",children:[p.jsxs("div",{className:"library-book__audio",children:[p.jsx(Gs,{className:"library-book__play-icon"}),p.jsx("span",{className:"library-book__duration",children:q.audioLink?an(v[q.id]):"N/A"})]}),p.jsxs("div",{className:"library-book__rating",children:[p.jsx(Uh,{className:"library-book__star-icon"}),p.jsx("span",{children:q.averageRating||"N/A"})]})]})]},q.id))})]}),p.jsxs("div",{className:"library-section",children:[p.jsx("h2",{className:"library-section__title",children:"Finished"}),p.jsxs("p",{className:"library-section__count",children:[o.length," ",o.length===1?"item":"items"]}),o.length===0?p.jsxs("div",{className:"library-empty",children:[p.jsx("h3",{className:"library-empty__title",children:"Done and dusted!"}),p.jsx("p",{className:"library-empty__text",children:"When you finish a book, you can find it here later."})]}):p.jsx("div",{className:"library-books",children:o.map(q=>p.jsxs(Vt,{to:`/book/${q.id}`,className:"library-book",children:[q.subscriptionRequired&&p.jsx("span",{className:"library-book__premium-badge",children:"Premium"}),p.jsxs("div",{className:"library-book__image-wrapper",children:[p.jsx("img",{src:q.imageLink,alt:q.title,className:"library-book__image"}),q.audioLink&&p.jsx("span",{className:"library-book__duration-overlay",children:an(v[q.id])})]}),p.jsx("h4",{className:"library-book__title",children:q.title}),p.jsx("p",{className:"library-book__author",children:q.author}),p.jsx("p",{className:"library-book__subtitle",children:q.subTitle}),p.jsxs("div",{className:"library-book__footer",children:[p.jsxs("div",{className:"library-book__audio",children:[p.jsx(Gs,{className:"library-book__play-icon"}),p.jsx("span",{className:"library-book__duration",children:q.audioLink?an(v[q.id]):"N/A"})]}),p.jsxs("div",{className:"library-book__rating",children:[" ",p.jsx(Uh,{className:"library-book__star-icon"})," ",p.jsx("span",{children:q.averageRating||"N/A"})]})]})]},q.id))})]})]})]})}function r6(n){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 13c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6v4l5-5-5-5v4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8h-2z"},child:[]},{tag:"path",attr:{d:"M10.86 15.94v-4.27h-.09L9 12.3v.69l1.01-.31v3.26zM12.25 13.44v.74c0 1.9 1.31 1.82 1.44 1.82.14 0 1.44.09 1.44-1.82v-.74c0-1.9-1.31-1.82-1.44-1.82-.14 0-1.44-.09-1.44 1.82zm2.04-.12v.97c0 .77-.21 1.03-.59 1.03s-.6-.26-.6-1.03v-.97c0-.75.22-1.01.59-1.01.38-.01.6.26.6 1.01z"},child:[]}]})(n)}function s6(n){return Be({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 5V1l-5 5 5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6h-2c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"},child:[]},{tag:"path",attr:{d:"M10.89 16h-.85v-3.26l-1.01.31v-.69l1.77-.63h.09V16zM15.17 14.24c0 .32-.03.6-.1.82s-.17.42-.29.57-.28.26-.45.33-.37.1-.59.1-.41-.03-.59-.1-.33-.18-.46-.33-.23-.34-.3-.57-.11-.5-.11-.82v-.74c0-.32.03-.6.1-.82s.17-.42.29-.57.28-.26.45-.33.37-.1.59-.1.41.03.59.1.33.18.46.33.23.34.3.57.11.5.11.82v.74zm-.85-.86c0-.19-.01-.35-.04-.48s-.07-.23-.12-.31-.11-.14-.19-.17-.16-.05-.25-.05-.18.02-.25.05-.14.09-.19.17-.09.18-.12.31-.04.29-.04.48v.97c0 .19.01.35.04.48s.07.24.12.32.11.14.19.17.16.05.25.05.18-.02.25-.05.14-.09.19-.17.09-.19.11-.32.04-.29.04-.48v-.97z"},child:[]}]})(n)}function i6(){const{id:n}=n1(),e=Yl(),{user:t}=Gi(J=>J.user),r=t==null?void 0:t.uid,o=(t==null?void 0:t.isSubscribed)||!1,[a,u]=V.useState(null),[d,m]=V.useState(!0),[g,v]=V.useState(!1),[E,I]=V.useState(0),[D,O]=V.useState(0),j=V.useRef(null),[N,B]=V.useState(""),[Y,W]=V.useState([]),[X,q]=V.useState([]),[se,A]=V.useState({}),[S,C]=V.useState(!1),b=()=>{C(!S)};V.useEffect(()=>{(async()=>{try{m(!0);const ue=await Ne.get(`https://us-central1-summaristt.cloudfunctions.net/getBook?id=${n}`);ue.data&&u(ue.data)}catch(ue){console.error("Error fetching book:",ue)}finally{m(!1)}})()},[n]),V.useEffect(()=>{a&&a.subscriptionRequired&&!o&&e("/choose-plan")},[a,o,e]),V.useEffect(()=>{(async()=>{try{const[ue,oe,U]=await Promise.all([Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=selected"),Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=recommended"),Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=suggested")]),Ie=[...ue.data||[],...oe.data||[],...U.data||[]].filter((Ee,Pe,be)=>Pe===be.findIndex(He=>He.id===Ee.id));q(Ie)}catch(ue){console.error("Error fetching books:",ue)}})()},[]),V.useEffect(()=>{if(N.trim()===""){W([]);return}const J=async()=>{try{const oe=await Ne.get(`https://us-central1-summaristt.cloudfunctions.net/getBooksByAuthorOrTitle?search=${encodeURIComponent(N)}`);oe.data&&W(oe.data)}catch(oe){console.error("Error fetching search results:",oe),W([])}},ue=setTimeout(()=>{J()},300);return()=>clearTimeout(ue)},[N]),V.useEffect(()=>{const J=async()=>{const ue={};await Promise.all(X.map(async oe=>{if(oe.audioLink)try{const U=await ca(oe.audioLink);ue[oe.id]=U}catch(U){console.error(`Error loading duration for ${oe.id}:`,U),ue[oe.id]=null}})),A(ue)};X.length>0&&J()},[X]),V.useEffect(()=>{const J=async()=>{if(!(!r||!a))try{const ue=la(ri,"users",r,"finished",n);await md(ue,{...a,finishedAt:new Date().toISOString()})}catch(ue){console.error("Error saving finished book:",ue)}};return j.current&&j.current.addEventListener("ended",J),()=>{j.current&&j.current.removeEventListener("ended",J)}},[r,n,a]);const k=()=>{j.current&&(g?j.current.pause():j.current.play(),v(!g))},L=()=>{j.current&&(j.current.currentTime=Math.max(0,j.current.currentTime-10))},x=()=>{j.current&&(j.current.currentTime=Math.min(j.current.duration,j.current.currentTime+10))},_e=()=>{j.current&&I(j.current.currentTime)},ze=()=>{j.current&&O(j.current.duration)},qe=J=>{if(j.current){const oe=J.currentTarget.getBoundingClientRect(),U=(J.clientX-oe.left)/oe.width;j.current.currentTime=U*j.current.duration}},$e=J=>{if(isNaN(J))return"0:00";const ue=Math.floor(J/60),oe=Math.floor(J%60);return`${ue}:${oe.toString().padStart(2,"0")}`};return p.jsxs("div",{className:"player-page",children:[p.jsx(gu,{isSidebarOpen:S,toggleSidebar:b}),p.jsxs("main",{className:"player-content",children:[p.jsx("button",{className:"hamburger-menu",onClick:b,children:S?p.jsx(qi,{}):p.jsx(hu,{})}),p.jsxs("div",{className:"search-bar-container",children:[p.jsxs("div",{className:"search-bar",children:[p.jsx("input",{type:"text",className:"search-bar__input",placeholder:"Search for books",value:N,onChange:J=>B(J.target.value)}),p.jsx("div",{className:"search-bar__divider"}),p.jsx(wa,{className:"search-bar__icon"})]}),N.trim()!==""&&Y.length===0&&p.jsx("div",{className:"search-results",children:p.jsx("div",{className:"search-no-results",children:"No books found"})}),Y.length>0&&p.jsx("div",{className:"search-results",children:Y.map(J=>p.jsxs(Vt,{to:`/book/${J.id}`,className:"search-result",onClick:()=>B(""),children:[p.jsx("img",{src:J.imageLink,alt:J.title,className:"search-result__image"}),p.jsxs("div",{className:"search-result__info",children:[p.jsx("h4",{className:"search-result__title",children:J.title}),p.jsx("p",{className:"search-result__author",children:J.author}),p.jsxs("div",{className:"search-result__duration",children:[p.jsx(Gs,{className:"search-result__play-icon"}),p.jsx("span",{children:J.audioLink?an(se[J.id]):"N/A"})]})]})]},J.id))})]}),d?p.jsx(AT,{}):a?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"player-header",children:p.jsx("h1",{className:"player-header__title",children:a.title})}),p.jsx("div",{className:"player-summary",children:p.jsx("p",{className:"player-summary__text",children:a.summary})})]}):p.jsx("div",{className:"player-error",children:"Book not found"})]}),a&&a.audioLink&&p.jsxs("div",{className:"player-audio-footer",children:[p.jsx("audio",{ref:j,src:a.audioLink,preload:"metadata",onPlay:()=>v(!0),onPause:()=>v(!1),onTimeUpdate:_e,onLoadedMetadata:ze}),p.jsxs("div",{className:"player-audio-footer__left",children:[p.jsx("img",{src:a.imageLink,alt:a.title,className:"player-audio-footer__image"}),p.jsxs("div",{className:"player-audio-footer__info",children:[p.jsx("h3",{className:"player-audio-footer__title",children:a.title}),p.jsx("p",{className:"player-audio-footer__author",children:a.author})]})]}),p.jsxs("div",{className:"player-audio-footer__controls",children:[p.jsx("button",{className:"player-audio-footer__btn",onClick:L,"aria-label":"Skip backward 10 seconds",children:p.jsx(s6,{})}),p.jsx("button",{className:"player-audio-footer__btn player-audio-footer__btn--play",onClick:k,"aria-label":g?"Pause":"Play",children:g?p.jsx(J3,{}):p.jsx(Gs,{})}),p.jsx("button",{className:"player-audio-footer__btn",onClick:x,"aria-label":"Skip forward 10 seconds",children:p.jsx(r6,{})})]}),p.jsxs("div",{className:"player-audio-footer__right",children:[p.jsx("span",{className:"player-audio-footer__time",children:$e(E)}),p.jsx("div",{className:"player-audio-footer__progress",onClick:qe,children:p.jsx("div",{className:"player-audio-footer__progress-bar",style:{width:`${E/D*100}%`}})}),p.jsx("span",{className:"player-audio-footer__time",children:$e(D)})]})]})]})}function o6(){const n=Yl(),{isAuthenticated:e,user:t}=Gi(B=>B.user),[r,o]=V.useState(""),[a,u]=V.useState([]),[d,m]=V.useState([]),[g,v]=V.useState({}),[E,I]=V.useState(!1),D=()=>{I(!E)},O=(t==null?void 0:t.isSubscribed)||!1,j=(t==null?void 0:t.email)||"";V.useEffect(()=>{(async()=>{try{const[Y,W,X]=await Promise.all([Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=selected"),Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=recommended"),Ne.get("https://us-central1-summaristt.cloudfunctions.net/getBooks?status=suggested")]),se=[...Y.data||[],...W.data||[],...X.data||[]].filter((A,S,C)=>S===C.findIndex(b=>b.id===A.id));m(se)}catch(Y){console.error("Error fetching books:",Y)}})()},[]),V.useEffect(()=>{if(r.trim()===""){u([]);return}const B=async()=>{try{const W=await Ne.get(`https://us-central1-summaristt.cloudfunctions.net/getBooksByAuthorOrTitle?search=${encodeURIComponent(r)}`);W.data&&u(W.data)}catch(W){console.error("Error fetching search results:",W),u([])}},Y=setTimeout(()=>{B()},300);return()=>clearTimeout(Y)},[r]),V.useEffect(()=>{const B=async()=>{const Y={};await Promise.all(d.map(async W=>{if(W.audioLink)try{const X=await ca(W.audioLink);Y[W.id]=X}catch(X){console.error(`Error loading duration for ${W.id}:`,X),Y[W.id]=null}})),v(Y)};d.length>0&&B()},[d]);const N=async()=>{if(O){if(!(t!=null&&t.uid)){alert("Please log in to manage your subscription");return}if(window.confirm("Are you sure you want to cancel your subscription? You will lose access to premium features."))try{const Y=la(ri,"users",t.uid);await md(Y,{isSubscribed:!1,subscriptionType:null,cancelledDate:new Date().toISOString()},{merge:!0}),alert("Your subscription has been cancelled. Reloading..."),window.location.reload()}catch(Y){console.error("Error cancelling subscription:",Y),alert(`Failed to cancel subscription: ${Y.message}`)}}else n("/choose-plan")};return p.jsxs("div",{className:"settings-page",children:[p.jsx(gu,{isSidebarOpen:E,toggleSidebar:D}),p.jsxs("main",{className:"settings-content",children:[p.jsxs("div",{className:"mobile-header-wrapper",children:[p.jsx("button",{className:"hamburger-menu",onClick:D,children:E?p.jsx(qi,{}):p.jsx(hu,{})}),p.jsxs("div",{className:"search-bar-container",children:[p.jsxs("div",{className:"search-bar",children:[p.jsx("input",{type:"text",className:"search-bar__input",placeholder:"Search for books",value:r,onChange:B=>o(B.target.value)}),p.jsx("div",{className:"search-bar__divider"}),p.jsx(wa,{className:"search-bar__icon"})]}),r.trim()!==""&&a.length===0&&p.jsx("div",{className:"search-results",children:p.jsx("div",{className:"search-no-results",children:"No books found"})}),a.length>0&&p.jsx("div",{className:"search-results",children:a.map(B=>p.jsxs(Vt,{to:`/book/${B.id}`,className:"search-result",onClick:()=>o(""),children:[p.jsx("img",{src:B.imageLink,alt:B.title,className:"search-result__image"}),p.jsxs("div",{className:"search-result__info",children:[p.jsx("h4",{className:"search-result__title",children:B.title}),p.jsx("p",{className:"search-result__author",children:B.author}),p.jsxs("div",{className:"search-result__duration",children:[p.jsx(Gs,{className:"search-result__play-icon"}),p.jsx("span",{children:B.audioLink?an(g[B.id]):"N/A"})]})]})]},B.id))})]})]}),p.jsxs("div",{className:"settings-container",children:[p.jsx("h1",{className:"settings-title",children:"Settings"}),p.jsx("div",{className:"settings-divider"}),p.jsxs("div",{className:"settings-section",children:[p.jsx("h2",{className:"settings-section__title",children:"Your subscription plan"}),p.jsx("p",{className:"settings-section__status",children:O?(t==null?void 0:t.subscriptionType)||"Premium":"Basic"}),p.jsx("button",{className:"settings-section__btn",onClick:N,children:O?"Cancel plan":"Upgrade to Premium"})]}),p.jsx("div",{className:"settings-divider"}),p.jsxs("div",{className:"settings-section",children:[p.jsx("h2",{className:"settings-section__title",children:"Email"}),p.jsx("p",{className:"settings-section__email",children:j})]})]})]})]})}function a6(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M267.375 14.688c-17.09 6.94-30.576 17.288-38.75 29.593l-14.813-27.593c-9.017 49.344-12.52 95.085 32 109.563-10.734 36.94-17.187 73.9-20.687 110.813l-20.563-38.344c-2.848-14.713-9.618-30.698-17.343-47l-17.376 74.124c-7.214-22.468-16.496-44.677-28.47-66.47 24.46-43.217 16.134-70.568-31.093-79.28-.515 3.04-.56 9.344-.56 9.344l-19.876-8.75L87.5 100.53l-9.344-4.655c-5.433 42.254-.12 74.946 46.625 72.094 3.705 6.717 7.128 13.47 10.314 20.28L29.22 156.312c31.263 45.247 64.173 82.76 112.53 47.094 10.985 26.656 18.485 53.944 23.75 81.72l-64.78-40.188c12.872 36.068 28.203 67.286 66.936 52.437 1.237 7.446 2.306 14.926 3.28 22.438h18.876c-2.757-21.95-6.533-43.82-11.906-65.5 8.208-4.095 14.35-8.853 18.75-14.188 3.693 11.197 11.61 19.643 26.438 23.594-1.097 18.71-1.506 37.414-1.438 56.092h18.688c-.014-4.07-.003-8.12.03-12.187 41.888-6.813 39.48-42.478 32.407-81.188l-31.967 59.625c.765-23.7 2.492-47.326 5.593-70.906 52.515 5.043 61.144-38.783 65.125-87.78l-61.81 65.843c3.47-20.563 8.06-41.09 14-61.564 37.544 4.596 76.884-35.765 75.28-70l-12.438 7.72c-1.053-11.96-6.674-25.51-17.125-40.69-7.535 5.354-14.003 12.573-19.843 20.44L285.5 31.03l-11.688 14.595c-.32-10.47-2.17-20.77-6.437-30.938zm182.22 99.25c-4.994.008-10.98.86-18.25 2.906-13.336 3.754-27.52 12.25-22.376 37.625-24.488 13.127-45.408 31.122-62.25 53.155h-.19c.03.045.067.08.095.125-.8 1.05-1.593 2.09-2.375 3.156l23.063-76.344c-45.938 31.743-83.94 65.165-45.438 114.75-9.69 21.296-16.536 44.94-20.313 70.5h38.032c24.53-7.376 29.6-36.436 32.187-68.25l-48.155 51.282c6.766-30.55 18.424-57.235 34.406-79.47 36.727 42.145 77.18 14.898 118.033-19.81l-104.594 3.28c13.094-14.284 28.35-26.198 45.56-35.5 11.388 14.74 28.402 14.172 40.595 7.812 25.338-13.216 17.442-27.84 38.28-45.906-20.892 5.264-19.352-19.358-46.31-19.313zM152.936 338.5l26.032 154.594h143.593L348.969 338.5H152.936z"},child:[]}]})(n)}function l6(n){return Be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(n)}function u6(){const n=Yl(),{user:e}=Gi(g=>g.user),[t,r]=V.useState("yearly"),[o,a]=V.useState(null),u=g=>{a(o===g?null:g)},d=async()=>{if(console.log("User object:",e),!(e!=null&&e.uid)){alert("Please log in to subscribe");return}try{const g=la(ri,"users",e.uid),v=t==="yearly"?"Premium Plus":"Premium";console.log("Attempting to update Firestore..."),console.log("User ID:",e.uid),console.log("Subscription type:",v),await md(g,{isSubscribed:!0,subscriptionType:v,subscriptionDate:new Date().toISOString()},{merge:!0}),console.log("Subscription updated successfully!"),n("/for-you"),window.location.reload()}catch(g){console.error("Error updating subscription:",g),console.error("Error code:",g.code),console.error("Error message:",g.message),alert(`Failed to process subscription: ${g.message}`)}},m=[{question:"How does the free 7-day trial work?",answer:"Begin your complimentary 7-day trial with a Summarist annual membership. You are under no obligation to continue your subscription, and you will only be billed when the trial period expires. With Premium access, you can learn at your own pace and as frequently as you desire, and you may terminate your subscription prior to the conclusion of the 7-day free trial."},{question:"Can I switch subscriptions from monthly to yearly, or yearly to monthly?",answer:"While an annual plan is active, it is not feasible to switch to a monthly plan. However, once the current month ends, transitioning from a monthly plan to an annual plan is an option."},{question:"What's included in the Premium plan?",answer:"Premium membership provides you with the ultimate Summarist experience, including unrestricted entry to many best-selling books high-quality audio, the ability to download titles for offline reading, and the option to send your reads to your Kindle."},{question:"Can I cancel during my trial or subscription?",answer:"You will not be charged if you cancel your trial before its conclusion. While you will not have complete access to the entire Summarist library, you can still expand your knowledge with one curated book per day."}];return p.jsxs("div",{className:"choose-plan-page",children:[p.jsxs("div",{className:"choose-plan-hero",children:[p.jsx("h1",{className:"choose-plan-hero__title",children:"Get unlimited access to many amazing books to read"}),p.jsx("p",{className:"choose-plan-hero__subtitle",children:"Turn ordinary moments into amazing learning opportunities"})]}),p.jsxs("div",{className:"choose-plan-features",children:[p.jsxs("div",{className:"choose-plan-feature",children:[p.jsx(ob,{className:"choose-plan-feature__icon"}),p.jsxs("p",{className:"choose-plan-feature__text",children:[p.jsx("strong",{children:"Key ideas in few min"})," with many books to read"]})]}),p.jsxs("div",{className:"choose-plan-feature",children:[p.jsx(a6,{className:"choose-plan-feature__icon"}),p.jsxs("p",{className:"choose-plan-feature__text",children:[p.jsx("strong",{children:"3 million"})," people growing with Summarist everyday"]})]}),p.jsxs("div",{className:"choose-plan-feature",children:[p.jsx(l6,{className:"choose-plan-feature__icon"}),p.jsxs("p",{className:"choose-plan-feature__text",children:[p.jsx("strong",{children:"Precise recommendations"})," collections curated by experts"]})]})]}),p.jsx("h2",{className:"choose-plan-heading",children:"Choose the plan that fits you"}),p.jsxs("div",{className:"choose-plan-options",children:[p.jsxs("div",{className:`choose-plan-option ${t==="yearly"?"choose-plan-option--selected":""}`,onClick:()=>r("yearly"),children:[p.jsx("input",{type:"radio",name:"plan",value:"yearly",checked:t==="yearly",onChange:()=>r("yearly"),className:"choose-plan-option__radio"}),p.jsxs("div",{className:"choose-plan-option__details",children:[p.jsx("h3",{className:"choose-plan-option__title",children:"Premium Plus Yearly"}),p.jsx("p",{className:"choose-plan-option__price",children:"$99.99/year"}),p.jsx("p",{className:"choose-plan-option__trial",children:"7-day free trial included"})]})]}),p.jsx("div",{className:"choose-plan-divider",children:p.jsx("span",{className:"choose-plan-divider__text",children:"or"})}),p.jsxs("div",{className:`choose-plan-option ${t==="monthly"?"choose-plan-option--selected":""}`,onClick:()=>r("monthly"),children:[p.jsx("input",{type:"radio",name:"plan",value:"monthly",checked:t==="monthly",onChange:()=>r("monthly"),className:"choose-plan-option__radio"}),p.jsxs("div",{className:"choose-plan-option__details",children:[p.jsx("h3",{className:"choose-plan-option__title",children:"Premium Monthly"}),p.jsx("p",{className:"choose-plan-option__price",children:"$9.99/month"}),p.jsx("p",{className:"choose-plan-option__trial",children:"No trial included"})]})]})]}),p.jsx("button",{className:"choose-plan-button",onClick:d,children:t==="yearly"?"Start your free 7-day trial":"Start your first month"}),p.jsx("p",{className:"choose-plan-guarantee",children:"30-day money back guarantee, no questions asked."}),p.jsx("div",{className:"choose-plan-accordion",children:m.map((g,v)=>p.jsxs("div",{className:"accordion-item",children:[p.jsxs("div",{className:"accordion-item__header",onClick:()=>u(v),children:[p.jsx("h3",{className:"accordion-item__question",children:g.question}),p.jsx(fb,{className:`accordion-item__icon ${o===v?"accordion-item__icon--open":""}`})]}),o===v&&p.jsx("p",{className:"accordion-item__answer",children:g.answer})]},v))}),p.jsx("footer",{className:"choose-plan-footer",children:p.jsxs("div",{className:"choose-plan-footer__content",children:[p.jsxs("div",{className:"choose-plan-footer__columns",children:[p.jsxs("div",{className:"footer-column",children:[p.jsx("h4",{className:"footer-column__heading",children:"Actions"}),p.jsxs("ul",{className:"footer-column__list",children:[p.jsx("li",{children:p.jsx("a",{href:"#",children:"Summarist Magazine"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Cancel Subscription"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Help"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Contact Us"})})]})]}),p.jsxs("div",{className:"footer-column",children:[p.jsx("h4",{className:"footer-column__heading",children:"Useful Links"}),p.jsxs("ul",{className:"footer-column__list",children:[p.jsx("li",{children:p.jsx("a",{href:"#",children:"Pricing"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Summarist Business"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Gift Cards"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Authors & Publishers"})})]})]}),p.jsxs("div",{className:"footer-column",children:[p.jsx("h4",{className:"footer-column__heading",children:"Company"}),p.jsxs("ul",{className:"footer-column__list",children:[p.jsx("li",{children:p.jsx("a",{href:"#",children:"About"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Careers"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Partners"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Code of Conduct"})})]})]}),p.jsxs("div",{className:"footer-column",children:[p.jsx("h4",{className:"footer-column__heading",children:"Other"}),p.jsxs("ul",{className:"footer-column__list",children:[p.jsx("li",{children:p.jsx("a",{href:"#",children:"Sitemap"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Legal Notice"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Terms of Service"})}),p.jsx("li",{children:p.jsx("a",{href:"#",children:"Privacy Policy"})})]})]})]}),p.jsx("div",{className:"choose-plan-footer__copyright",children:p.jsx("p",{children:p.jsx("strong",{children:"Copyright  2025 Summarist."})})})]})})]})}function c6(){const n=lm();return V.useEffect(()=>{const e=_x(Go,async t=>{var r,o;if(t)try{const a=la(ri,"users",t.uid),u=await JE(a);n(xl({uid:t.uid,email:t.email,isSubscribed:u.exists()&&((r=u.data())==null?void 0:r.isSubscribed)||!1,subscriptionType:u.exists()&&((o=u.data())==null?void 0:o.subscriptionType)||null}))}catch(a){console.error("Error fetching user data:",a),n(xl({uid:t.uid,email:t.email,isSubscribed:!1,subscriptionType:null}))}else n(R1())});return()=>e()},[n]),p.jsxs(aI,{children:[p.jsx(Vs,{path:"/",element:p.jsx(yb,{})}),p.jsx(Vs,{path:"/for-you",element:p.jsx(e6,{})}),p.jsx(Vs,{path:"/book/:id",element:p.jsx(t6,{})}),p.jsx(Vs,{path:"/library",element:p.jsx(n6,{})}),p.jsx(Vs,{path:"/player/:id",element:p.jsx(i6,{})}),p.jsx(Vs,{path:"/settings",element:p.jsx(o6,{})}),p.jsx(Vs,{path:"/choose-plan",element:p.jsx(u6,{})})]})}WS.createRoot(document.getElementById("root")).render(p.jsx(V.StrictMode,{children:p.jsx(o2,{store:PR,children:p.jsx(PI,{children:p.jsx(c6,{})})})}));
