import{G as h}from"./icons-N4PBxQYU.js";import{f as D,j as s,m as F,k as g,n as C,h as w,o as G}from"./index-EoCDHyOy.js";import{r as c,c as z}from"./router-C9DcrvDc.js";import{c as y,j as I}from"./index-D7xXc7HB.js";function O(r){return h({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2"},child:[]}]})(r)}function V(r){return h({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"},child:[]}]})(r)}function T(r){return h({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"},child:[]}]})(r)}function J(r){return h({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"},child:[]}]})(r)}function K({show:r,onClose:S}){const[l,u]=c.useState(!1),[k,p]=c.useState(!1),[d,_]=c.useState(""),[f,x]=c.useState(""),[m,o]=c.useState(""),[N,n]=c.useState(""),v=D(),j=z();if(!r)return null;const b=()=>{u(!l),o(""),n("")},t=()=>{u(!1),p(!1),_(""),x(""),o(""),n(""),S()},P=()=>{p(!0),u(!1),o(""),n(""),x("")},L=()=>{p(!1),u(!1),o(""),n("")},E=async e=>{e.preventDefault(),o("");try{const a=await G(g,d,f);console.log("User signed up:",a.user),v(w({uid:a.user.uid,email:a.user.email})),t(),j("/for-you")}catch(a){console.error("Error signing up:",a.message),o(a.message)}},A=async e=>{e.preventDefault(),o("");try{const a=await C(g,d,f);console.log("User signed in:",a.user),v(w({uid:a.user.uid,email:a.user.email})),t(),j("/for-you")}catch(a){console.error("Error signing in:",a.message),o(a.message)}},B=e=>{l?E(e):A(e)},M=async e=>{e.preventDefault(),o(""),n("");try{await F(g,d),n("Password reset link sent! Check your email."),console.log("Password reset email sent")}catch(a){console.error("Error sending password reset:",a.message),o(a.message)}},U=async()=>{o("");const e="guest@gmail.com",a="abc123";try{const i=await C(g,e,a);console.log("Guest signed in:",i.user),v(w({uid:i.user.uid,email:i.user.email})),t(),j("/for-you")}catch(i){console.error("Error signing in as guest:",i.message),o(i.message)}};return k?s.jsx("div",{className:"modal__overlay",onClick:t,children:s.jsxs("div",{className:"modal__content",onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"modal__header",children:[s.jsx("h2",{className:"modal__title",children:"Reset your password"}),s.jsx("button",{className:"modal__close",onClick:t,children:s.jsx(y,{})})]}),m&&s.jsx("div",{className:"modal__error",children:m}),N&&s.jsx("div",{className:"modal__success",children:N}),s.jsxs("form",{onSubmit:M,children:[s.jsx("input",{type:"email",placeholder:"Email Address",className:"modal__input modal__input--reset",value:d,onChange:e=>_(e.target.value),required:!0}),s.jsx("button",{type:"submit",className:"modal__login-btn",children:"Send reset password link"})]}),s.jsx("div",{className:"modal__footer",onClick:L,children:"Go to login"})]})}):s.jsx("div",{className:"modal__overlay",onClick:t,children:s.jsxs("div",{className:"modal__content",onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"modal__header",children:[s.jsx("h2",{className:"modal__title",children:l?"Sign up to Summarist":"Login to Summarist"}),s.jsx("button",{className:"modal__close",onClick:t,children:s.jsx(y,{})})]}),s.jsxs("button",{className:"modal__guest-btn",onClick:U,children:[s.jsx(I,{className:"modal__guest-icon"}),"Login as a Guest"]}),s.jsx("div",{className:"modal__separator",children:"or"}),m&&s.jsx("div",{className:"modal__error",children:m}),s.jsxs("form",{onSubmit:B,children:[s.jsx("input",{type:"email",placeholder:"Email Address",className:"modal__input",value:d,onChange:e=>_(e.target.value),required:!0}),s.jsx("input",{type:"password",placeholder:"Password",className:"modal__input",value:f,onChange:e=>x(e.target.value),required:!0}),s.jsx("button",{type:"submit",className:"modal__login-btn",children:l?"Sign up":"Login"})]}),!l&&s.jsx("div",{className:"modal__forgot-password",onClick:P,children:"Forgot your password?"}),s.jsx("div",{className:"modal__footer",onClick:b,children:l?"Already have an account?":"Don't have an account?"})]})})}const Q=""+new URL("logo-PWD2Ptuo.png",import.meta.url).href;export{T as B,K as M,J as a,O as b,V as c,Q as l};
